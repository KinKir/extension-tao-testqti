define("taoQtiTest/controller/routes",[],function(){return{Creator:{css:"creator",actions:{index:"controller/creator/creator"}}}}),define("core/encoder/boolean",[],function(){return{encode:function(t){return t===!0?"true":"false"},decode:function(t){return"true"===t}}}),define("core/encoder/number",[],function(){return{encode:function(t){return t+""},decode:function(t){return parseInt(t,10)}}}),define("core/encoder/time",["moment"],function(t){var e="HH:mm:ss";return{encode:function(e){var n=parseInt(e,10);isNaN(n)&&(n=0);var a=t.duration(n,"seconds"),i=a.get("hours")>=10?a.get("hours"):"0"+a.get("hours"),s=a.get("minutes")>=10?a.get("minutes"):"0"+a.get("minutes"),o=a.get("seconds")>=10?a.get("seconds"):"0"+a.get("seconds");return i+":"+s+":"+o},decode:function(n){var a=t(n,e);return a.seconds()+60*a.minutes()+3600*a.hours()}}}),define("core/encoder/array2str",["lodash"],function(t){return{encode:function(t,e){return e=e||",",t.split(e)},decode:function(e,n){return n=n||",",t.isArray(e)?e.join(n):e}}}),define("core/encoder/str2array",["lodash"],function(t){return{encode:function(e,n){return n=n||",",t.isArray(e)?e.join(n):e},decode:function(t,e){return e=e||",",t.split(e)}}}),define("core/encoder/encoders",["lodash","core/encoder/boolean","core/encoder/number","core/encoder/time","core/encoder/array2str","core/encoder/str2array"],function(t,e,n,a,i,s){var o=function(t){var e=[],n=[];return t.indexOf("(")>-1&&(n=/\((.+?)\)/.exec(t),n&&n.length>=1&&(e=n[1].split(","))),e},l=function(t){return t.indexOf("(")>-1?t.substr(0,t.indexOf("(")):t},r={number:n,time:a,"boolean":e,array2str:i,str2array:s,register:function(e,n,a){if(!t.isString(e))throw new Error("An encoder must have a valid name");if(!t.isFunction(n))throw new Error("Encode must be a function");if(!t.isFunction(a))throw new Error("Decode must be a function");this[e]={encode:n,decode:a}},encode:function(t,e){if(t=l(t),this[t]){var n=this[t],a=[e];return n.encode.apply(n,a.concat(o(t)))}return e},decode:function(t,e){if(t=l(t),this[t]){var n=this[t],a=[e];return n.decode.apply(n,a.concat(o(t)))}return e}};return r}),define("core/filter/filters",["lodash"],function(t){var e={register:function(e,n){if(!t.isString(e))throw new Error("An filter must have a valid name");if(!t.isFunction(n))throw new Error("Filter must be a function");this[e]=n},filter:function(e,n){return this[e]&&t.isArray(n)?t.filter(n,this[e]):n}};return e}),define("core/databinder",["jquery","lodash","handlebars","core/encoder/encoders","core/filter/filters"],function(t,e,n,a,i){var s=function(t,e){var n,a=e.split("."),i=a.length,s=1;if(i>=1&&(n=t[a[0]],void 0!==n))for(s=1;i>s&&(n=n[a[s]],void 0!==n);s++);return n},o=function(t,e,n){for(var a=e.split("."),i=a.length,s=0;i>s;s++){if(s===i-1)return void(t[a[s]]=n);t[a[s]]||(t[a[s]]=i>s+1&&/^\d$/.test(a[s+1])?[]:{}),t=t[a[s]]}},l=function(t,n){for(var a=n.split("."),i=a.length,s=0;i>s;s++){if(s===i-1)return void(e.isArray(t)?t.splice(parseInt(a[s],10),1):delete t[a[s]]);t=t[a[s]]}},r=function(n,a,i){var o=s(n,a),l=!1;e.isArray(o)&&(i.children("[data-bind-index]").each(function(e){var n=t(this),a=parseInt(n.data("bind-index"),10);o[a].index=e,l=l||e!==a}),l===!0&&o.sort(function(t,e){return t.index-e.index}))},c=function(t,n,a){var i=s(t,n);e.isArray(i)&&e.forEach(i,function(t,e){i[e].index=e,a&&a.children("[data-bind-index]").eq(e).attr("data-bind-index",e+"").data("bind-index",e+"")})},d=function(e){if(e[0].type&&e[0].name){if("radio"===e[0].type)return t("[name='"+e[0].name+"']");if("checkbox"===e[0].type)return t("[name='"+e[0].name+"']")}return e},p=function(n,a,i){var s;n.length>0&&(s=t._data(n[0],"events"),(!s||e(s[a]).where({namespace:"internalbinder"}).size()<1)&&d(n).on(a+".internalbinder",function(e){t(this).is(e.target)&&i.apply(null,Array.prototype.splice.call(arguments,1))}))},h=function(t,n,s){var o=this;this.$container=t,this.model=n||{},this.encoders=e.clone(a),this.filters=e.clone(i),s&&(e.isPlainObject(s.encoders)&&e.forEach(s.encoders,function(t,e){o.encoders.register(e,t.encode,t.decode)}),e.isPlainObject(s.filters)&&e.forEach(s.filters,function(t,e){o.filters.register(e,t)}),this.templates=s.templates||{})};return h.prototype._bindNode=function(t,e,n,a){t.data("bound")||(a===!0&&o(n,e,this._getNodeValue(t)),this._setNodeValue(t,s(n,e)),this._listenUpdates(t,e,n),this._listenRemoves(t,e,n),t.data("bound",e))},h.prototype._bindArrayNode=function(a,i,l,r){var c=this;if(!a.data("bound")){var d,p=s(l,i);a.data("bind-tmpl")?(d=c.templates[a.data("bind-tmpl")],"function"!=typeof d&&t(a.data("bind-tmpl")).length>0&&(d=n.compile(t(a.data("bind-tmpl")).html()))):d=n.compile(a.html()),p&&e.isArray(p)?a.data("bind-filter")&&(p=this.filters.filter(a.data("bind-filter"),p)):o(l,i,[]),a.empty(),e.forEach(p,function(e,n){var s;e.index=n,s=t(d(e)),s.appendTo(a).filter(":first").attr("data-bind-index",n),c.bind(s,c.model,i+"."+n+".",r),c._listenRemoves(s,i+"."+n,c.model)}),c._listenUpdates(a,i,l),c._listenAdds(a,i,l),a.data("bound",i)}},h.prototype._bindRmNode=function(t,e,n,a){t.data("bound")||(this._listenUpdates(t,e,n),a===!0&&t.trigger("change"),t.data("bound",e))},h.prototype._listenUpdates=function(t,e,n){var a=this;p(t,"change",function(){if(t.is("[data-bind-each]"))r(n,e,t),c(n,e,t),t.data("bind-each",e),a._rebind(t),a.$container.trigger("order.binder",[a.model]);else if(t.is("[data-bind-rm]")){var i=a._getNodeValue(t);i===!0&&l(n,e),a.$container.trigger("delete.binder",[a.model])}else o(n,e,a._getNodeValue(t)),a._resyncIndexOnceRm(t,e),a.$container.trigger("update.binder",[a.model]);a.$container.trigger("change.binder",[a.model])})},h.prototype._listenRemoves=function(t,e,n){var a=this;p(t,"delete",function(i){function s(){l(n,e),a._resyncIndexOnceRm(t,e),a.$container.trigger("delete.binder",[a.model]).trigger("change.binder",[a.model])}i===!0?t.parent().on("deleted",function(){s()}):s()})},h.prototype._listenAdds=function(e,n){var a=this;p(e,"add",function(i,s){var l=e.children("[data-bind-index]").length;e.children().not("[data-bind-index]").each(function(){var e=t(this),i=n+"."+l;e.attr("data-bind-index",l),s&&o(a.model,i,s),a.bind(e,a.model,i+".",!0),a._listenRemoves(e,i,a.model)}),a.$container.trigger("add.binder",[a.model]).trigger("change.binder",[a.model]),e.trigger("add.binder",[i,s])})},h.prototype._resyncIndexOnceRm=function(e,n){var a=this;if(e.is("[data-bind-index]")){var i=parseInt(e.data("bind-index"),10),s=e.parent("[data-bind-each]"),o=n.replace(/\.[0-9]+$/,"");c(a.model,o),s.children("[data-bind-index]").filter(":gt("+i+")").each(function(){var e=t(this),n=parseInt(e.data("bind-index"),10)-1;e.attr("data-bind-index",n).data("bind-index",n+"")}),a._rebind(s,o.replace(s.data("bind-each"),""))}},h.prototype._setNodeValue=function(n,a){void 0!==a&&(n.data("bind-encoder")&&(a=this.encoders.encode(n.data("bind-encoder"),a)),e.contains(["INPUT","SELECT","TEXTAREA"],n[0].nodeName)?n.is(":text, input[type='hidden'], textarea, select")?n.val(a).trigger("change"):n.is(":radio, :checkbox")&&d(n).each(function(){var e=t(this);e.prop("checked",e.val()===a)}):n.hasClass("button-group")?n.find("[data-bind-value]").each(function(){var e=t(this);e.data("bind-value")+""===a?e.addClass("active"):e.removeClass("active")}):n.data("bind-html")===!0?n.html(a):n.text(a))},h.prototype._getNodeValue=function(n){var a;return e.contains(["INPUT","SELECT","TEXTAREA"],n[0].nodeName)?n.is(":text, input[type='hidden'], textarea, select")?a=n.val():n.is(":radio, :checkbox")?a=d(n).filter(":checked").val():n.hasClass("button-group")&&n.find("[data-bind-value]").each(function(){var e=t(this);e.hasClass("active")&&(a=e.data("bind-value")+"")}):a=n.text(),n.data("bind-encoder")&&(a=this.encoders.decode(n.data("bind-encoder"),a)),a},h.prototype.bind=function(e,n,a,i){var s=this;e=e||this.$container,n=n||this.model,a=a||"",i=i||!1;var o=function(e,o,l){var r="[data-"+o+"]";e.find(r).andSelf().filter(r).each(function(){var e=t(this),r=a+e.data(o);s[l](e,r,n,i)})};o(e,"bind-each","_bindArrayNode"),o(e,"bind-rm","_bindRmNode"),o(e,"bind","_bindNode")},h.prototype._rebind=function(n,a){var i=this;if(a=a||"",n.is("[data-bind-each]")){var o=a+n.data("bind-each"),l=s(i.model,o);e.forEach(l,function(t,e){var a=n.children('[data-bind-index="'+e+'"]');i._rebind(a,o+"."+e+"."),i._listenRemoves(a,o+"."+e,i.model)}),i._listenUpdates(n,o,i.model),i._listenAdds(n,o,i.model)}else n.find("[data-bind]").each(function(){var e=t(this),n=a+e.data("bind");i._listenUpdates(e,n,i.model),i._listenRemoves(e,n,i.model)}),n.find("[data-bind-each]").each(function(){i._rebind(t(this),a)})},h}),define("core/databindcontroller",["jquery","lodash","core/databinder"],function(t,e,n){return{takeControl:function(a,i){var s={},o={},l=e.pick(i,function(t,e){return"encoders"===e||"filters"===e||"templates"===e});return i.get&&(s.get=function(e){return t.getJSON(i.get).done(function(t){t&&(o=t,new n(a,o,l).bind(),"function"==typeof e&&e(o))}),this}),i.save&&(s.save=function(e,n){var a=!0;return"function"==typeof i.beforeSave&&(a=!!i.beforeSave(o)),a===!0&&t.post(i.save,{model:JSON.stringify(o)},function(t){t&&"function"==typeof e&&e(t)},"json").fail(function(){"function"==typeof n&&n()}),this}),s}}}),define("tpl!taoQtiTest/controller/creator/templates/testpart",["handlebars"],function(t){return t.template(function(t,e,n,a,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var s,o,l="",r="function",c=this.escapeExpression;return l+='<div id="',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===r?o.call(e,{hash:{},data:i}):o),l+=c(s)+'" class="testpart clearfix">\n\n   <h1><span data-bind="identifier">',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===r?o.call(e,{hash:{},data:i}):o),l+=c(s)+'</span>\n        <div class="actions"> \n            <div class="tlb">\n                <div class="tlb-top">\n                    <span class="tlb-box">\n                        <span class="tlb-bar">\n                            <span class="tlb-start"></span>\n                            <span class="tlb-group">\n                                <a href="#" class="tlb-button-off property-toggler" title="Test Part Properties"><span class="icon-settings"></span></a>\n                                <span class="tlb-separator"></span>\n                                <a href="#" class="tlb-button-off move-up" title="Move Up"><span class="icon-up"></span></a>\n                                <a href="#" class="tlb-button-off move-down" title="Move Down"><span class="icon-down"></span></a>\n                                <span class="tlb-separator"></span> \n                                <a href="#" class="tlb-button-off" title="Remove Test Part" data-delete="#',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===r?o.call(e,{hash:{},data:i}):o),l+=c(s)+'"><span class="icon-bin"></span></a>\n                            </span>\n                            <span class="tlb-end"></span>\n                        </span>  \n                        <!--<span class="tlb-bar">-->\n                            <!--<span class="tlb-start"></span>-->\n                            <!--<span class="tlb-text-button-box">-->\n                                <!--<a class="tlb-text-button-off section-adder">-->\n                                    <!--<span class="icon-add"></span>-->\n                                    <!--<span class="tlb-text">New Section</span>-->\n                                <!--</a>-->\n                            <!--</span>-->\n                            <!--<span class="tlb-end"></span>-->\n                        <!--</span>-->\n                    </span>   \n                </div>\n            </div>\n        </div>\n        <a href="#" class="toggler opened" data-toggle="#testpart-content-',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===r?o.call(e,{hash:{},data:i}):o),l+=c(s)+'"></a>\n    </h1>\n    <div id="testpart-content-',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===r?o.call(e,{hash:{},data:i}):o),l+=c(s)+'" class="testpart-content">\n        \n       <!-- assessmentTest/testPart/assessmentSections -->\n       <div class="sections" data-bind-each="assessmentSections" data-bind-tmpl="section" data-bind-filter="isSection"></div>\n\n        <button class="btn-default small section-adder">\n            <span class="icon-add"></span>New section\n        </button>\n    </div>\n</div>\n'})}),define("tpl!taoQtiTest/controller/creator/templates/section",["handlebars"],function(t){return t.template(function(t,e,n,a,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var s,o,l,r="",c="function",d=this.escapeExpression,p=n.helperMissing;return r+='<div id="',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+'" class="section">\n\n<!-- assessmentTest/testPart/assessmentSection/title -->\n    <h2><span data-bind="title">',(o=n.title)?s=o.call(e,{hash:{},data:i}):(o=e&&e.title,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+'</span>\n        <div class="actions">  \n            <div class="tlb">\n                <div class="tlb-top">\n                    <span class="tlb-box">\n                        <span class="tlb-bar">\n                            <span class="tlb-start"></span>\n                            <span class="tlb-group">\n                                <a href="#" class="tlb-button-off rub-toggler" title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Manage Rubric Blocks",l):p.call(e,"__","Manage Rubric Blocks",l)))+'" data-toggle="#rublocks-',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+'" ><span class="icon-rubric"></span></a>\n                                <span class="tlb-separator"></span>\n                                <a href="#" class="tlb-button-off property-toggler" title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Section Properties",l):p.call(e,"__","Section Properties",l)))+'"><span class="icon-settings"></span></a>\n                                <span class="tlb-separator"></span>\n                                <a href="#" class="tlb-button-off move-up disabled" title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Move Up",l):p.call(e,"__","Move Up",l)))+'"><span class="icon-up"></span></a>\n                                <a href="#" class="tlb-button-off move-down disabled" title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Move Down",l):p.call(e,"__","Move Down",l)))+'"><span class="icon-down"></span></a>\n                                <span class="tlb-separator"></span> \n                                <a href="#" class="tlb-button-off disabled" title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Remove Section",l):p.call(e,"__","Remove Section",l)))+'" data-delete=":parent .section"><span class="icon-bin"></span></a>\n                            </span>\n                            <span class="tlb-end"></span>\n                        </span>  \n                    </span>   \n                </div>\n            </div>\n        </div>\n    </h2>\n\n    <div id="rublocks-',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+'" class="rublocks clearfix toggled">\n        <h3>\n            <span class="title">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Rubric Blocks",l):p.call(e,"__","Rubric Blocks",l)))+'</span>\n        </h3>\n        <ol class="rubricblocks decimal" data-bind-each="rubricBlocks" data-bind-tmpl="rubricblock"></ol>\n        <button class="btn-default small rublock-adder">\n            <span class="icon-add"></span>'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"New Rubric Block",l):p.call(e,"__","New Rubric Block",l)))+'\n        </button>\n    </div>\n    <div class="itemrefs-wrapper">\n        <ol class="itemrefs decimal clearfix" data-bind-each="sectionParts" data-bind-tmpl="itemref" data-bind-filter="isItemRef" data-msg="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Add selected item(s) here.",l):p.call(e,"__","Add selected item(s) here.",l)))+'"></ol>\n        <div class="itemref-placeholder">\n            '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Add selected item(s) here.",l):p.call(e,"__","Add selected item(s) here.",l)))+"\n        </div>\n    </div>\n</div>\n"})}),define("tpl!taoQtiTest/controller/creator/templates/rubricblock",["handlebars"],function(t){return t.template(function(t,e,n,a,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var s,o,l="",r=n.helperMissing,c=this.escapeExpression;return l+='<li class="rubricblock">\n    <div class="actions"> \n       <div class="tlb">\n            <div class="tlb-top">\n                <span class="tlb-box">\n                    <span class="tlb-bar">\n                        <span class="tlb-start"></span>\n                        <span class="tlb-group">\n                            <a href="#" class="tlb-button-off property-toggler" title="'+c((s=n.__||e&&e.__,o={hash:{},data:i},s?s.call(e,"Rubric Block Properties",o):r.call(e,"__","Rubric Block Properties",o)))+'"><span class="icon-settings"></span></a>\n                            <span class="tlb-separator"></span> \n                            <a href="#" class="tlb-button-off" title="'+c((s=n.__||e&&e.__,o={hash:{},data:i},s?s.call(e,"Remove Rubric Block",o):r.call(e,"__","Remove Rubric Block",o)))+'" data-delete=":parent .rubricblock"><span class="icon-bin"></span></a>\n                        </span>\n                        <span class="tlb-end"></span>\n                    </span>  \n                </span>   \n            </div>\n        </div>\n    </div>\n    <div class="rubricblock-content" data-bind="content" data-bind-html="true" data-bind-encoder="dom2qti" contenteditable="true"></div>\n</li>\n'})}),define("tpl!taoQtiTest/controller/creator/templates/itemref",["handlebars"],function(t){return t.template(function(t,e,n,a,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var s,o,l,r="",c="function",d=this.escapeExpression,p=n.helperMissing;return r+="<li id='",(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+"' data-uri='",(o=n.href)?s=o.call(e,{hash:{},data:i}):(o=e&&e.href,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+"' class='itemref'>\n    <span class='title'>",(o=n.label)?s=o.call(e,{hash:{},data:i}):(o=e&&e.label,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+'</span>\n    <div class="actions"> \n        <div class="tlb">\n            <div class="tlb-top">\n                <span class="tlb-box">\n                    <span class="tlb-bar">\n                        <span class="tlb-start"></span>\n                        <span class="tlb-group">\n                            <a href="#" class="tlb-button-off property-toggler" title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Item Reference Properties",l):p.call(e,"__","Item Reference Properties",l)))+'"><span class="icon-settings"></span></a>\n                            <span class="tlb-separator"></span>\n                            <a href="#" class="tlb-button-off move-up" title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Move Up",l):p.call(e,"__","Move Up",l)))+'"><span class="icon-up"></span></a>\n                            <a href="#" class="tlb-button-off move-down" title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Move Down",l):p.call(e,"__","Move Down",l)))+'"><span class="icon-down"></span></a>\n                            <span class="tlb-separator"></span> \n                            <a href="#" class="tlb-button-off" title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Remove Item Reference",l):p.call(e,"__","Remove Item Reference",l)))+'" data-delete=":parent .itemref"><span class="icon-bin"></span></a>\n                        </span>\n                        <span class="tlb-end"></span>\n                    </span>  \n                </span>   \n            </div>\n        </div>\n    </div>\n</li>\n'})}),define("tpl!taoQtiTest/controller/creator/templates/item",["handlebars"],function(t){return t.template(function(t,e,n,a,i){function s(t,e){var a,i,s="";return s+="\n     <li data-uri='",(i=n.uri)?a=i.call(t,{hash:{},data:e}):(i=t&&t.uri,a=typeof i===c?i.call(t,{hash:{},data:e}):i),s+=d(a)+"'>\n        ",(i=n.label)?a=i.call(t,{hash:{},data:e}):(i=t&&t.label,a=typeof i===c?i.call(t,{hash:{},data:e}):i),s+=d(a)+" \n        ",a=n["if"].call(t,t&&t.parent,{hash:{},inverse:p.noop,fn:p.program(2,o,e),data:e}),(a||0===a)&&(s+=a),s+="\n     </li>\n"}function o(t,e){var a,i,s="";return s+="<span class='flag truncate' title=\"",(i=n.parent)?a=i.call(t,{hash:{},data:e}):(i=t&&t.parent,a=typeof i===c?i.call(t,{hash:{},data:e}):i),s+=d(a)+'">',(i=n.parent)?a=i.call(t,{hash:{},data:e}):(i=t&&t.parent,a=typeof i===c?i.call(t,{hash:{},data:e}):i),s+=d(a)+"</span>"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var l,r="",c="function",d=this.escapeExpression,p=this;return l=n.each.call(e,e,{hash:{},inverse:p.noop,fn:p.program(1,s,i),data:i}),(l||0===l)&&(r+=l),r+="\n"})}),define("tpl!taoQtiTest/controller/creator/templates/test-props",["handlebars"],function(t){return t.template(function(t,e,n,a,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var s,o,l,r="",c=n.helperMissing,d=this.escapeExpression,p="function";return r+='<div class="test-props props clearfix">\n    \n    <!-- test properties --> \n    <h3 data-bind="title"></h3>\n\n<!-- assessmentTest/identifier -->\n    <div class="grid-row">\n        <div class="col-5">\n            <label for="test-identifier">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Identifier",l):c.call(e,"__","Identifier",l)))+' <abbr title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Required field",l):c.call(e,"__","Required field",l)))+'">*</abbr></label>\n        </div>\n        <div class="col-6">\n            <input type="text" name="test-identifier" data-bind="identifier" data-validate="$notEmpty; $testIdFormat; $testIdAvailable(original=',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===p?o.call(e,{hash:{},data:i}):o),r+=d(s)+');" />\n        </div>\n        <div class="col-1 help">\n            <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n            <div class="tooltip-content">\n            '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"The principle identifier of the test.",l):c.call(e,"__","The principle identifier of the test.",l)))+'\n            </div>\n        </div>\n    </div>\n\n<!-- assessmentTest/title -->\n    <div class="grid-row">\n        <div class="col-5">\n            <label for="test-title">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Title",l):c.call(e,"__","Title",l)))+' <abbr title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Required field",l):c.call(e,"__","Required field",l)))+'">*</abbr></label>\n        </div>\n        <div class="col-6">\n            <input type="text" name="test-title" data-bind="title" data-validate="$notEmpty" readonly="readonly" />\n        </div>\n        <div class="col-1 help">\n            <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n            <div class="tooltip-content">\n            '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"The test title.",l):c.call(e,"__","The test title.",l)))+'\n            </div>\n        </div>\n    </div>\n\n    <h4 class="toggler closed" data-toggle="~ .test-time-limits">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Time Limits",l):c.call(e,"__","Time Limits",l)))+'</h4>\n\n<!-- assessmentTest/timeLimits -->\n    <div class="test-time-limits toggled">\n\n\n\n<!-- assessmentTest/timeLimits/maxTime -->\n        <div class="grid-row">\n            <div class="col-5">\n                <label for="test-max-time">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Maximum Duration",l):c.call(e,"__","Maximum Duration",l)))+'</label>\n            </div>\n            <div class="col-6">\n                <input type="text" name="max-time" value="00:00:00" data-duration="HH:mm:ss" data-bind="timeLimits.maxTime" data-bind-encoder="time" />\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Maximum duration for the all test.",l):c.call(e,"__","Maximum duration for the all test.",l)))+'\n                </div>\n            </div>\n        </div>\n\n<!-- assessmentTest/timeLimits/allowLateSubmission -->\n        <div class="grid-row pseudo-label-box">\n            <div class="col-5">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Late submission allowed",l):c.call(e,"__","Late submission allowed",l)))+'\n            </div>\n            <div class="col-6">\n                <label>\n                    <input type="checkbox" name="test-allow-late-submission" value="true" data-bind="timeLimits.allowLateSubmission" data-bind-encoder="boolean" />\n                    <span class="icon-checkbox"></span>\n                </label>\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Whether a candidate's response that is beyond the maximum duration should still be accepted.",l):c.call(e,"__","Whether a candidate's response that is beyond the maximum duration should still be accepted.",l)))+"\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>\n"})}),define("tpl!taoQtiTest/controller/creator/templates/testpart-props",["handlebars"],function(t){return t.template(function(t,e,n,a,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var s,o,l,r="",c="function",d=this.escapeExpression,p=n.helperMissing;return r+='<div id="testpart-props-',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+'" class="testpart-props props clearfix">\n    <h3>',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+'</h3>\n    \n    <form autocomplete="off">\n\n<!-- assessmentTest/testPart/identifier -->\n        <div class="grid-row">\n            <div class="col-5">\n                <label for="testpart-identifier">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Identifier",l):p.call(e,"__","Identifier",l)))+' <abbr title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Required field",l):p.call(e,"__","Required field",l)))+'">*</abbr></label>\n            </div>\n            <div class="col-6">\n                <input type="text" name="testpart-identifier" data-bind="identifier" data-validate="$notEmpty; $testIdFormat; $testIdAvailable(original=',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+');" />\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"The test part identifier.",l):p.call(e,"__","The test part identifier.",l)))+'\n                </div>\n            </div>\n        </div>\n\n<!-- assessmentTest/testPart/navigationMode -->\n        <div class="grid-row pseudo-label-box">\n            <div class="col-5">\n               '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Navigation",l):p.call(e,"__","Navigation",l)))+' <abbr title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Required field",l):p.call(e,"__","Required field",l)))+'">*</abbr>\n            </div>\n            <div class="col-6">\n                <label>\n                    <input type="radio" name="testpart-navigation-mode" value="0" checked="checked" data-bind="navigationMode" data-bind-encoder="number" />\n                    <span class="icon-radio"></span>\n                    '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Linear",l):p.call(e,"__","Linear",l)))+'\n                </label>\n                <label>\n                    <input type="radio" name="testpart-navigation-mode" value="1"  />\n                    <span class="icon-radio"></span>\n                    '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Non Linear",l):p.call(e,"__","Non Linear",l)))+'\n                </label>\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"The navigation mode determines the general paths that the candidate may take. A linear mode restricts the candidate to attempt each item in turn. Non Linear removes this restriction.",l):p.call(e,"__","The navigation mode determines the general paths that the candidate may take. A linear mode restricts the candidate to attempt each item in turn. Non Linear removes this restriction.",l)))+'\n                </div>\n            </div>\n        </div>\n\n<!-- assessmentTest/testPart/submissionMode -->\n        <div class="grid-row pseudo-label-box">\n            <div class="col-5">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Submission",l):p.call(e,"__","Submission",l)))+' <abbr title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Required field",l):p.call(e,"__","Required field",l)))+'">*</abbr>\n            </div>\n            <div class="col-6">\n                <label>\n                    <input type="radio" name="testpart-submission-mode" value="0" checked="checked" data-bind="submissionMode" data-bind-encoder="number" />\n                    <span class="icon-radio"></span>\n                    '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Individual",l):p.call(e,"__","Individual",l)))+'\n                </label>\n                <label>\n                    <input type="radio" name="testpart-submission-mode" value="1"  />\n                    <span class="icon-radio"></span>\n                    '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Simultaneous",l):p.call(e,"__","Simultaneous",l)))+'\n                </label>\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"The submission mode determines when the candidate's responses are submitted for response processing. A testPart in individual mode requires the candidate to submit their responses on an item-by-item basis. In simultaneous mode the candidate's responses are all submitted together at the end of the testPart.",l):p.call(e,"__","The submission mode determines when the candidate's responses are submitted for response processing. A testPart in individual mode requires the candidate to submit their responses on an item-by-item basis. In simultaneous mode the candidate's responses are all submitted together at the end of the testPart.",l)))+'\n                </div>\n            </div>\n        </div>\n\n        <h4 class="toggler closed" data-toggle="~ .testpart-item-session-control">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Item Session Control",l):p.call(e,"__","Item Session Control",l)))+'</h4>\n\n\n<!-- assessmentTest/testPart/itemSessionControl -->\n        <div class="testpart-item-session-control toggled">\n\n<!-- assessmentTest/testPart/itemSessionControl/maxAttempts -->\n            <div class="grid-row">\n                <div class="col-5">\n                    <label for="testpart-max-attempts">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Max Attempts",l):p.call(e,"__","Max Attempts",l)))+'</label>\n                </div>\n                <div class="col-6">\n                    <input name="testpart-max-attempts" type="text" data-increment="1" data-min="0" value="1" data-bind="itemSessionControl.maxAttempts" data-bind-encoder="number" />\n                </div>\n                <div class="col-1 help">\n                    <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                    <div class="tooltip-content">\n                    '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Controls the maximum number of attempts allowed. 0 means unlimited.",l):p.call(e,"__","Controls the maximum number of attempts allowed. 0 means unlimited.",l)))+'\n                    </div>\n                </div>\n            </div>\n\n<!-- assessmentTest/testPart/itemSessionControl/showFeedback -->\n            <div class="grid-row pseudo-label-box">\n                <div class="col-5">\n                    <label for="testpart-show-feedback">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Show Feedback",l):p.call(e,"__","Show Feedback",l)))+'</label>\n                </div>\n                <div class="col-6">\n                    <label>\n                        <input type="checkbox" name="testpart-show-feedback" value="true" data-bind="itemSessionControl.showFeedback" data-bind-encoder="boolean" />\n                        <span class="icon-checkbox" />\n                    </label>\n                </div>\n                <div class="col-1 help">\n                    <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                    <div class="tooltip-content">\n                    '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"This constraint affects the visibility of feedback after the end of the last attempt.",l):p.call(e,"__","This constraint affects the visibility of feedback after the end of the last attempt.",l)))+'\n                    </div>\n                </div>\n            </div>\n\n\n\n\n\n<!-- assessmentTest/testPart/itemSessionControl/allowComment -->\n            <div class="grid-row pseudo-label-box">\n                <div class="col-5">\n                    <label for="testpart-allow-comment">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Allow Comment",l):p.call(e,"__","Allow Comment",l)))+'</label>\n                </div>\n                <div class="col-6">\n                    <label>\n                        <input type="checkbox" name="testpart-allow-comment" value="true" data-bind="itemSessionControl.allowComment" data-bind-encoder="boolean" />\n                        <span class="icon-checkbox" />\n                    </label>\n                </div>\n                <div class="col-1 help">\n                    <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                    <div class="tooltip-content">\n                    '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.",l):p.call(e,"__","This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.",l)))+'\n                    </div>\n                </div>\n            </div>\n\n<!-- assessmentTest/testPart/itemSessionControl/allowSkipping -->\n            <div class="grid-row pseudo-label-box">\n                <div class="col-5">\n                    <label for="testpart-allow-skipping">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Allow Skipping",l):p.call(e,"__","Allow Skipping",l)))+'</label>\n                </div>\n                <div class="col-6">\n                    <label>\n                        <input type="checkbox" name="testpart-allow-skipping" value="true" checked="checked"  data-bind="itemSessionControl.allowSkipping" data-bind-encoder="boolean"   />\n                        <span class="icon-checkbox" />\n                    </label>\n                </div>\n                <div class="col-1 help">\n                    <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                    <div class="tooltip-content">\n                    '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"If the candidate can skip the item, without submitting a response.",l):p.call(e,"__","If the candidate can skip the item, without submitting a response.",l)))+'\n                    </div>\n                </div>\n            </div>\n\n\n        </div>\n\n        <h4 class="toggler closed" data-toggle="~ .testpart-time-limits">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Time Limits",l):p.call(e,"__","Time Limits",l)))+'</h4>\n\n<!-- assessmentTest/testPart/timeLimits/minTime -->\n        <div class="testpart-time-limits toggled">\n\n\n\n<!-- assessmentTest/testPart/timeLimits/maxTime -->\n            <div class="grid-row">\n                <div class="col-5">\n                    <label for="testpart-max-time">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Maximum Duration",l):p.call(e,"__","Maximum Duration",l)))+'</label>\n                </div>\n                <div class="col-6">\n                    <input type="text" name="max-time" value="00:00:00" data-duration="HH:mm:ss" data-bind="timeLimits.maxTime" data-bind-encoder="time" />\n                </div>\n                <div class="col-1 help">\n                    <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                    <div class="tooltip-content">\n                    '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Maximum duration for this test part.",l):p.call(e,"__","Maximum duration for this test part.",l)))+'\n                    </div>\n                </div>\n            </div>\n\n<!-- assessmentTest/testPart/timeLimits/allowLateSubmission -->\n            <div class="grid-row pseudo-label-box">\n                <div class="col-5">\n                    <label for="testpart-allow-late-submission">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Late submission allowed",l):p.call(e,"__","Late submission allowed",l)))+'</label>\n                </div>\n                <div class="col-6">\n                    <label>\n                        <input type="checkbox" name="section-allow-late-submission" value="true" data-bind="timeLimits.allowLateSubmission" data-bind-encoder="boolean" />\n                        <span class="icon-checkbox" />\n                    </label>\n                </div>\n                <div class="col-1 help">\n                    <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                    <div class="tooltip-content">\n                    '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Whether a candidate's response that is beyond the maximum duration of the test part should still be accepted.",l):p.call(e,"__","Whether a candidate's response that is beyond the maximum duration of the test part should still be accepted.",l)))+"\n                    </div>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n"
})}),define("tpl!taoQtiTest/controller/creator/templates/section-props",["handlebars"],function(t){return t.template(function(t,e,n,a,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var s,o,l,r="",c="function",d=this.escapeExpression,p=n.helperMissing;return r+='<div id="section-props-',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+'" class="section-props props clearfix">\n    <h3>',(o=n.title)?s=o.call(e,{hash:{},data:i}):(o=e&&e.title,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+'</h3>\n\n<!-- assessmentTest/testPart/assessmentSection/identifier -->\n    <div class="grid-row">\n        <div class="col-5">\n            <label for="section-identifier">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Identifier",l):p.call(e,"__","Identifier",l)))+' <abbr title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Required field",l):p.call(e,"__","Required field",l)))+'">*</abbr></label>\n        </div>\n        <div class="col-6">\n            <input type="text" name="section-identifier" data-bind="identifier" data-validate="$notEmpty; $testIdFormat; $testIdAvailable(original=',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+');" />\n        </div>\n        <div class="col-1 help">\n            <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n            <div class="tooltip-content">\n            '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"The identifier of the section.",l):p.call(e,"__","The identifier of the section.",l)))+'\n            </div>\n        </div>\n    </div>\n\n<!-- assessmentTest/testPart/assessmentSection/title -->\n    <div class="grid-row">\n        <div class="col-5">\n            <label for="section-title">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Title",l):p.call(e,"__","Title",l)))+' <abbr title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Required field",l):p.call(e,"__","Required field",l)))+'">*</abbr></label>\n        </div>\n        <div class="col-6">\n            <input type="text" name="section-title" data-bind="title" data-validate="$notEmpty" />\n        </div>\n        <div class="col-1 help">\n            <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n            <div class="tooltip-content">\n            '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"The section title.",l):p.call(e,"__","The section title.",l)))+'\n            </div>\n        </div>\n    </div>\n\n\n\n\n\n<!-- assessmentTest/testPart/assessmentSection/visible -->\n    <div class="grid-row pseudo-label-box">\n        <div class="col-5">\n            <label for="section-visible">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Visible",l):p.call(e,"__","Visible",l)))+' <abbr title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Required field",l):p.call(e,"__","Required field",l)))+'">*</abbr></label>\n        </div>\n        <div class="col-6">\n            <label>\n                <input type="checkbox" name="section-visible" value="true" checked="checked"  data-bind="visible" data-bind-encoder="boolean" />\n                <span class="icon-checkbox"></span>\n            </label>\n        </div>\n        <div class="col-1 help">\n            <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n            <div class="tooltip-content">\n            '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"A visible section is one that is identifiable by the candidate.",l):p.call(e,"__","A visible section is one that is identifiable by the candidate.",l)))+'\n            </div>\n        </div>\n    </div>\n\n<!-- assessmentTest/testPart/assessmentSection/keepTogether -->\n    <div class="grid-row pseudo-label-box">\n        <div class="col-5">\n            <label for="section-keep-together">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Keep Together",l):p.call(e,"__","Keep Together",l)))+'</label>\n        </div>\n\n        <div class="col-6">\n            <label>\n                <input type="checkbox" name="section-keep-together" value="true" checked="checked"  data-bind="keepTogether" data-bind-encoder="boolean" />\n                <span class="icon-checkbox"></span>\n            </label>\n        </div>\n        <div class="col-1 help">\n            <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n            <div class="tooltip-content">\n            '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"An invisible section with a parent that is subject to shuffling can specify whether or not its children, which will appear to the candidate as if they were part of the parent, are shuffled as a block or mixed up with the other children of the parent section.",l):p.call(e,"__","An invisible section with a parent that is subject to shuffling can specify whether or not its children, which will appear to the candidate as if they were part of the parent, are shuffled as a block or mixed up with the other children of the parent section.",l)))+'\n            </div>\n        </div>\n    </div>\n\n    <h4 class="toggler closed" data-toggle="~ .section-selection">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Selection",l):p.call(e,"__","Selection",l)))+'</h4>\n\n<!-- assessmentTest/testPart/assessmentSection/selection -->\n    <div class="section-selection toggled">\n\n<!-- assessmentTest/testPart/assessmentSection/selection/select -->\n        <div class="grid-row">\n            <div class="col-5">\n                <label for="section-select">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Select",l):p.call(e,"__","Select",l)))+' <abbr title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Required field",l):p.call(e,"__","Required field",l)))+'">*</abbr></label>\n            </div>\n            <div class="col-6">\n                <input name="section-select" type="text" data-increment="1" data-min="1" value="1" data-bind="selection.select"  data-bind-encoder="number" />\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"The number of child elements to be selected.",l):p.call(e,"__","The number of child elements to be selected.",l)))+'\n                </div>\n            </div>\n        </div>\n\n<!-- assessmentTest/testPart/assessmentSection/selection/withReplacement -->\n        <div class="grid-row pseudo-label-box">\n            <div class="col-5">\n                <label for="section-with-replacement">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"With Replacement",l):p.call(e,"__","With Replacement",l)))+'</label>\n            </div>\n\n            <div class="col-6">\n                <label>\n                    <input type="checkbox" name="section-with-replacement" value="true" data-bind="selection.withReplacement"  data-bind-encoder="boolean" />\n                    <span class="icon-checkbox"></span>\n                </label>\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"When selecting child elements each element is normally eligible for selection once only.",l):p.call(e,"__","When selecting child elements each element is normally eligible for selection once only.",l)))+'\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <h4 class="toggler closed" data-toggle="~ .section-ordering">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Ordering",l):p.call(e,"__","Ordering",l)))+'</h4>\n\n<!-- assessmentTest/testPart/assessmentSection/ordering -->\n    <div class="section-ordering toggled">\n<!-- assessmentTest/testPart/assessmentSection/ordering/shuffle -->\n        <div class="grid-row pseudo-label-box">\n            <div class="col-5">\n                <label for="section-shuffle">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Shuffle",l):p.call(e,"__","Shuffle",l)))+'</label>\n            </div>\n\n            <div class="col-6">\n                <label>\n                    <input type="checkbox" name="section-shuffle" value="true" data-bind="ordering.shuffle"  data-bind-encoder="boolean"  />\n                    <span class="icon-checkbox"></span>\n                </label>\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"If set, it causes the order of the child elements to be randomized, otherwise it uses the order in which the child elements are defined.",l):p.call(e,"__","If set, it causes the order of the child elements to be randomized, otherwise it uses the order in which the child elements are defined.",l)))+'\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <h4 class="toggler closed" data-toggle="~ .section-item-session-control">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Item Session Control",l):p.call(e,"__","Item Session Control",l)))+'</h4>\n\n<!-- assessmentTest/testPart/assessmentSection/itemSessionControl -->\n    <div class="section-item-session-control toggled">\n<!-- assessmentTest/testPart/assessmentSection/itemSessionControl/maxAttempts -->\n        <div class="grid-row">\n            <div class="col-5">\n                <label for="section-max-attempts">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Max Attempts",l):p.call(e,"__","Max Attempts",l)))+'</label>\n            </div>\n            <div class="col-6">\n                <input name="section-max-attempts" type="text" data-increment="1" data-min="0" value="1" data-bind="itemSessionControl.maxAttempts" data-bind-encoder="number" />\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Controls the maximum number of attempts allowed. 0 means unlimited.",l):p.call(e,"__","Controls the maximum number of attempts allowed. 0 means unlimited.",l)))+'\n                </div>\n            </div>\n        </div>\n\n<!-- assessmentTest/testPart/assessmentSection/itemSessionControl/showFeedback -->\n        <div class="grid-row pseudo-label-box">\n            <div class="col-5">\n                <label for="section-show-feedback">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Show Feedback",l):p.call(e,"__","Show Feedback",l)))+'</label>\n            </div>\n            <div class="col-6">\n                <label>\n                    <input type="checkbox" name="section-show-feedback" value="true" data-bind="itemSessionControl.showFeedback" data-bind-encoder="boolean" />\n                    <span class="icon-checkbox"></span>\n                </label>\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"This constraint affects the visibility of feedback after the end of the last attempt.",l):p.call(e,"__","This constraint affects the visibility of feedback after the end of the last attempt.",l)))+'\n                </div>\n            </div>\n        </div>\n\n\n\n\n\n<!-- assessmentTest/testPart/assessmentSection/itemSessionControl/allowComment -->\n        <div class="grid-row pseudo-label-box">\n            <div class="col-5">\n                <label for="section-allow-comment">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Allow Comment",l):p.call(e,"__","Allow Comment",l)))+'</label>\n            </div>\n            <div class="col-6">\n                <label>\n                    <input type="checkbox" name="section-allow-comment" value="true"  data-bind="itemSessionControl.allowComment" data-bind-encoder="boolean" />\n                    <span class="icon-checkbox"></span>\n                </label>\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.",l):p.call(e,"__","This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.",l)))+'\n                </div>\n            </div>\n        </div>\n\n<!-- assessmentTest/testPart/assessmentSection/itemSessionControl/allowSkipping -->\n        <div class="grid-row pseudo-label-box">\n            <div class="col-5">\n                <label for="section-allow-skipping">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Allow Skipping",l):p.call(e,"__","Allow Skipping",l)))+'</label>\n            </div>\n            <div class="col-6">\n                <label>\n                    <input type="checkbox" name="section-allow-skipping" value="true" checked="checked" data-bind="itemSessionControl.allowSkipping" data-bind-encoder="boolean" />\n                    <span class="icon-checkbox"></span>\n                </label>\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"If the candidate can skip the item, without submitting a response.",l):p.call(e,"__","If the candidate can skip the item, without submitting a response.",l)))+'\n                </div>\n            </div>\n        </div>\n\n\n    </div>\n\n    <h4 class="toggler closed" data-toggle="~ .section-time-limits">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Time Limits",l):p.call(e,"__","Time Limits",l)))+'</h4>\n\n<!-- assessmentTest/timeLimits -->\n    <div class="section-time-limits toggled">\n\n\n\n\n<!-- assessmentTest/testPart/assessmentSection/timeLimits/maxTime -->\n        <div class="grid-row">\n            <div class="col-5">\n                <label for="section-max-time">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Maximum Duration",l):p.call(e,"__","Maximum Duration",l)))+'</label>\n            </div>\n            <div class="col-6">\n                <input type="text" name="max-time" value="00:00:00" data-duration="HH:mm:ss" data-bind="timeLimits.maxTime" data-bind-encoder="time" />\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Maximum duration for this section.",l):p.call(e,"__","Maximum duration for this section.",l)))+'\n                </div>\n            </div>\n        </div>\n\n<!-- assessmentTest/testPart/assessmentSection/timeLimits/allowLateSubmission -->\n        <div class="grid-row pseudo-label-box">\n            <div class="col-5">\n                <label for="section-allow-late-submission">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Late submission allowed",l):p.call(e,"__","Late submission allowed",l)))+'</label>\n            </div>\n            <div class="col-6">\n                <label>\n                    <input type="checkbox" name="section-allow-late-submission" value="true" data-bind="timeLimits.allowLateSubmission" data-bind-encoder="boolean" />\n                    <span class="icon-checkbox"></span>\n                </label>\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Whether a candidate's response that is beyond the maximum duration of the section should still be accepted.",l):p.call(e,"__","Whether a candidate's response that is beyond the maximum duration of the section should still be accepted.",l)))+"\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"})}),define("tpl!taoQtiTest/controller/creator/templates/itemref-props",["handlebars"],function(t){return t.template(function(t,e,n,a,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var s,o,l,r="",c="function",d=this.escapeExpression,p=n.helperMissing;return r+='<div id="itemref-props-',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+'" class="itemref-props props clearfix">\n\n    <h3>',(o=n.label)?s=o.call(e,{hash:{},data:i}):(o=e&&e.label,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+'</h3>\n\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/identifier -->\n    <div class="grid-row">\n        <div class="col-5">\n            <label for="itemref-identifier">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Identifier",l):p.call(e,"__","Identifier",l)))+' <abbr title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Required field",l):p.call(e,"__","Required field",l)))+'">*</abbr></label>\n        </div>\n        <div class="col-6">\n            <input type="text" name="itemref-identifier" data-bind="identifier" data-validate="$notEmpty; $testIdFormat; $testIdAvailable(original=',(o=n.identifier)?s=o.call(e,{hash:{},data:i}):(o=e&&e.identifier,s=typeof o===c?o.call(e,{hash:{},data:i}):o),r+=d(s)+');" />\n        </div>\n        <div class="col-1 help">\n            <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n            <div class="tooltip-content">\n            '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"The identifier of the item reference.",l):p.call(e,"__","The identifier of the item reference.",l)))+'\n            </div>\n        </div>\n    </div>\n\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/href -->\n    <div class="grid-row">\n        <div class="col-5">\n            <label for="itemref-href">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Reference",l):p.call(e,"__","Reference",l)))+' <abbr title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Required field",l):p.call(e,"__","Required field",l)))+'">*</abbr></label>\n        </div>\n        <div class="col-6">\n            <input type="text" name="itemref-href" data-bind="href" readonly="readonly" />\n        </div>\n        <div class="col-1 help">\n            <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n            <div class="tooltip-content">\n            '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"The reference.",l):p.call(e,"__","The reference.",l)))+'\n            </div>\n        </div>\n    </div>\n    \n<!-- assessmentTest/testPart/assessmentSection/sectionPart/category -->\n    <div class="grid-row">\n        <div class="col-5">\n            <label for="itemref-category">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Categories",l):p.call(e,"__","Categories",l)))+'</label>\n        </div>\n        <div class="col-6">\n            <input type="text" name="itemref-category" data-bind="categories" data-bind-encoder="str2array" />\n        </div>\n        <div class="col-1 help">\n            <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n            <div class="tooltip-content">\n            '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Items can optionally be assigned to one or more categories.",l):p.call(e,"__","Items can optionally be assigned to one or more categories.",l)))+'\n            </div>\n        </div>\n    </div>\n\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/required -->\n    <div class="grid-row pseudo-label-box">\n        <div class="col-5">\n            <label for="itemref-required">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Required",l):p.call(e,"__","Required",l)))+'</label>\n        </div>\n        <div class="col-6">\n            <label>\n                <input type="checkbox" name="itemref-required" value="true" data-bind="required" data-bind-encoder="boolean" />\n                <span class="icon-checkbox"></span>\n            </label>\n        </div>\n        <div class="col-1 help">\n            <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n            <div class="tooltip-content">\n            '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"If required it must appear (at least once) in the selection.",l):p.call(e,"__","If required it must appear (at least once) in the selection.",l)))+'\n            </div>\n        </div>\n    </div>\n\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/fixed -->\n    <div class="grid-row pseudo-label-box">\n        <div class="col-5">\n            <label for="itemref-fixed">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Fixed",l):p.call(e,"__","Fixed",l)))+'</label>\n        </div>\n        <div class="col-6">\n            <label>\n                <input type="checkbox" name="itemref-fixed" value="true" data-bind="fixed" data-bind-encoder="boolean" />\n                <span class="icon-checkbox"></span>\n            </label>\n        </div>\n        <div class="col-1 help">\n            <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n            <div class="tooltip-content">\n            '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Not shuffled, the position remains fixed.",l):p.call(e,"__","Not shuffled, the position remains fixed.",l)))+'\n            </div>\n        </div>\n    </div>\n\n\n    <h4 class="toggler closed" data-toggle="~ .itemref-item-session-control">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Item Session Control",l):p.call(e,"__","Item Session Control",l)))+'</h4>\n\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/itemSessionControl -->\n    <div class="itemref-item-session-control toggled">\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/itemSessionControl/maxAttempts -->\n        <div class="grid-row">\n            <div class="col-5">\n                <label for="itemref-max-attempts">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Max Attempts",l):p.call(e,"__","Max Attempts",l)))+'</label>\n            </div>\n            <div class="col-6">\n                <input name="itemref-max-attempts" type="text" data-increment="1" data-min="0" value="1" data-bind="itemSessionControl.maxAttempts" data-bind-encoder="number" />\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Controls the maximum number of attempts allowed. 0 means unlimited.",l):p.call(e,"__","Controls the maximum number of attempts allowed. 0 means unlimited.",l)))+'\n                </div>\n            </div>\n        </div>\n\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/itemSessionControl/showFeedback -->\n        <div class="grid-row pseudo-label-box">\n            <div class="col-5">\n                <label for="itemref-show-feedback">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Show Feedback",l):p.call(e,"__","Show Feedback",l)))+'</label>\n            </div>\n            <div class="col-6">\n                <label>\n                    <input type="checkbox" name="itemref-show-feedback" value="true" data-bind="itemSessionControl.showFeedback" data-bind-encoder="boolean" />\n                    <span class="icon-checkbox"></span>\n                </label>\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"This constraint affects the visibility of feedback after the end of the last attempt.",l):p.call(e,"__","This constraint affects the visibility of feedback after the end of the last attempt.",l)))+'\n                </div>\n            </div>\n        </div>\n\n\n\n\n\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/itemSessionControl/allowComment -->\n        <div class="grid-row pseudo-label-box">\n            <div class="col-5">\n                <label for="itemref-allow-comment">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Allow Comment",l):p.call(e,"__","Allow Comment",l)))+'</label>\n            </div>\n            <div class="col-6">\n                <label>\n                    <input type="checkbox" name="itemref-allow-comment" value="true"  data-bind="itemSessionControl.allowComment" data-bind-encoder="boolean" />\n                    <span class="icon-checkbox"></span>\n                </label>\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.",l):p.call(e,"__","This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.",l)))+'\n                </div>\n            </div>\n        </div>\n\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/itemSessionControl/allowSkipping -->\n        <div class="grid-row pseudo-label-box">\n            <div class="col-5">\n                <label for="itemref-allow-skipping">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Allow Skipping",l):p.call(e,"__","Allow Skipping",l)))+'</label>\n            </div>\n            <div class="col-6">\n                <label>\n                    <input type="checkbox" name="itemref-allow-skipping" value="true" checked="checked" data-bind="itemSessionControl.allowSkipping" data-bind-encoder="boolean" />\n                    <span class="icon-checkbox"></span>\n                </label>\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"If the candidate can skip the item, without submitting a response.",l):p.call(e,"__","If the candidate can skip the item, without submitting a response.",l)))+'\n                </div>\n            </div>\n        </div>\n\n\n    </div>\n\n    <h4 class="toggler closed" data-toggle="~ .itemref-time-limits">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Time Limits",l):p.call(e,"__","Time Limits",l)))+'</h4>\n\n<!-- assessmentTest/timeLimits -->\n    <div class="itemref-time-limits toggled">\n\n\n\n\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/timeLimits/maxTime -->\n        <div class="grid-row">\n            <div class="col-5">\n                <label for="itemref-max-time">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Maximum Duration",l):p.call(e,"__","Maximum Duration",l)))+'</label>\n            </div>\n            <div class="col-6">\n                <input type="text" name="max-time" value="00:00:00" data-duration="HH:mm:ss" data-bind="timeLimits.maxTime" data-bind-encoder="time" />\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Maximum duration for this item.",l):p.call(e,"__","Maximum duration for this item.",l)))+'\n                </div>\n            </div>\n        </div>\n\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/timeLimits/allowLateSubmission -->\n        <div class="grid-row pseudo-label-box">\n            <div class="col-5">\n                <label for="itemref-allow-late-submission">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Late submission allowed",l):p.call(e,"__","Late submission allowed",l)))+'</label>\n            </div>\n            <div class="col-6">\n                <label>\n                    <input type="checkbox" name="itemref-allow-late-submission" value="true" data-bind="timeLimits.allowLateSubmission" data-bind-encoder="boolean" />\n                    <span class="icon-checkbox"></span>\n                </label>\n            </div>\n            <div class="col-1 help">\n                <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n                <div class="tooltip-content">\n                '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Whether a candidate's response that is beyond the maximum duration of the item should still be accepted.",l):p.call(e,"__","Whether a candidate's response that is beyond the maximum duration of the item should still be accepted.",l)))+"\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"})}),define("tpl!taoQtiTest/controller/creator/templates/rubricblock-props",["handlebars"],function(t){return t.template(function(t,e,n,a,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var s,o,l,r="",c=n.helperMissing,d=this.escapeExpression,p="function";return r+='<div class="rubricblock-props props clearfix">\n\n    <h3>'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Rubric Block",l):c.call(e,"__","Rubric Block",l)))+": ",(o=n.index)?s=o.call(e,{hash:{},data:i}):(o=e&&e.index,s=typeof o===p?o.call(e,{hash:{},data:i}):o),r+=d(s)+'</h3>\n\n <!--assessmentTest/testPart/assessmentSection/sectionPart/rubrickBlocK/views -->\n    <div class="grid-row">\n        <div class="col-5">\n            <label for="itemref-identifier">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Views",l):c.call(e,"__","Views",l)))+' <abbr title="'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Required field",l):c.call(e,"__","Required field",l)))+'">*</abbr></label>\n        </div>\n        <div class="col-6">\n            <select name="view" multiple="multiple" data-bind="views">\n                <option value="author">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Author",l):c.call(e,"__","Author",l)))+'</option>\n                <option value="candidate">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Candidate",l):c.call(e,"__","Candidate",l)))+'</option>\n                <option value="proctor">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Proctor",l):c.call(e,"__","Proctor",l)))+'</option>\n                <option value="scorer">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Scorer",l):c.call(e,"__","Scorer",l)))+'</option>\n                <option value="testConstructor">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Test constructor",l):c.call(e,"__","Test constructor",l)))+'</option>\n                <option value="tutor">'+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Tutor",l):c.call(e,"__","Tutor",l)))+'</option>\n            </select>\n        </div>\n        <div class="col-1 help">\n            <span class="icon-help" data-tooltip="~ .tooltip-content" data-tooltip-theme="info"></span> \n            <div class="tooltip-content">\n            '+d((o=n.__||e&&e.__,l={hash:{},data:i},o?o.call(e,"Who can view the rubric block during the delivery.",l):c.call(e,"__","Who can view the rubric block during the delivery.",l)))+"\n            </div>\n        </div>\n    </div>\n\n</div>\n"
})}),define("taoQtiTest/controller/creator/templates/index",["tpl!taoQtiTest/controller/creator/templates/testpart","tpl!taoQtiTest/controller/creator/templates/section","tpl!taoQtiTest/controller/creator/templates/rubricblock","tpl!taoQtiTest/controller/creator/templates/itemref","tpl!taoQtiTest/controller/creator/templates/item","tpl!taoQtiTest/controller/creator/templates/test-props","tpl!taoQtiTest/controller/creator/templates/testpart-props","tpl!taoQtiTest/controller/creator/templates/section-props","tpl!taoQtiTest/controller/creator/templates/itemref-props","tpl!taoQtiTest/controller/creator/templates/rubricblock-props"],function(t,e,n,a,i,s,o,l,r,c){return{testpart:t,section:e,itemref:a,item:i,rubricblock:n,properties:{test:s,testpart:o,section:l,itemref:r,rubricblock:c}}}),define("taoQtiTest/controller/creator/views/item",["jquery","taoQtiTest/controller/creator/templates/index"],function(t,e){var n=e.item,a=function(e){function a(){var t,n=function(){var n=r.val();(n.length>3||0===n.length)&&(clearTimeout(t),t=setTimeout(function(){e(n,function(t){i(t)})},300))};r.keyup(n).siblings(".ctrl").click(n)}function i(t){s(),c.empty().append(n(t)),o()}function s(){l.data("selectable")&&l.selectable("disable")}function o(){l.selectable(l.data("selectable")?"enable":{filter:"li",selected:function(e,n){t(n.selected).addClass("selected")},unselected:function(e,n){t(n.unselected).removeClass("selected")},stop:function(){t(this).trigger("itemselect.creator",t(".selected"))}})}var l=t(".test-creator-items"),r=t("#item-filter"),c=t(".item-box",l);"function"==typeof e&&e(void 0,function(t){i(t),a()})};return a}),define("taoQtiTest/controller/creator/views/property",["jquery","ui","core/databinder","taoQtiTest/controller/creator/templates/index"],function(t,e,n,a){var i=function(i,s){function o(){l.on("validated.group",function(e,n){if("group"===e.namespace){var a=t("#test-creator .property-toggler, #saver");n===!0?a.removeClass("disabled"):a.addClass("disabled")}}),l.groupValidator()}var l,r=t(".test-creator-props"),c=a.properties[i],d=function(){var a;r.children(".props").hide().trigger("propclose.propview"),l=t(c(s)).appendTo(r).filter(".props"),e.startDomComponent(l),a=new n(l,s),a.bind(),o(),l.trigger("propopen.propview")},p=function(){return l},h=function(){return"none"!==l.css("display")},m=function(t){l.on("propopen.propview",function(e){e.stopPropagation(),t()})},u=function(t){l.on("propclose.propview",function(e){e.stopPropagation(),t()})},f=function(){l.remove()},v=function(){r.children(".props").not(l).hide().trigger("propclose.propview"),h()?l.hide().trigger("propclose.propview"):l.show().trigger("propopen.propview")};return{open:d,getView:p,isOpen:h,onOpen:m,onClose:u,destroy:f,toggle:v}};return i}),define("taoQtiTest/controller/creator/views/actions",["jquery","taoQtiTest/controller/creator/views/property"],function(t,e){function n(n,a,i,s){var c=null;n.find(".property-toggler").on("click",function(d){d.preventDefault();var p=t(this);t(this).hasClass(o)||(p.blur(),null===c?(n.addClass(l),p.addClass(r),c=e(a,i),c.open(),c.onOpen(function(){n.addClass(l),p.addClass(r)}),c.onClose(function(){n.removeClass(l),p.removeClass(r)}),"function"==typeof s&&s(c)):c.toggle())})}function a(e,n,a){var i=e.parents("."+a),s=i.parents("."+n);t(".move-up",e).click(function(e){var n,o;return e.preventDefault(),i.is(":animated")?!1:(n=t("."+a,s),o=n.index(i),void(o>0&&i.fadeOut(200,function(){i.insertBefore(t("."+a+" :eq("+(o-1)+")",s)).fadeIn(400),s.trigger("change"),i.trigger("move")})))}),t(".move-down",e).click(function(e){var n,o;return e.preventDefault(),i.is(":animated")?!1:(n=t("."+a,s),o=n.index(i),void(o<n.length-1&&n.length>1&&i.fadeOut(200,function(){i.insertAfter(t("."+a+" :eq("+(o+1)+")",s)).fadeIn(400),s.trigger("change"),i.trigger("move")})))})}function i(e,n,a){e.each(function(){var n=t(this),i=t(a,n),s=e.index(n),l=t(".move-up",i),r=t(".move-down",i);1===e.length?(l.addClass(o),r.addClass(o)):0===s?(l.addClass(o),r.removeClass(o)):s>=e.length-1?(r.addClass(o),l.removeClass(o)):(l.removeClass(o),r.removeClass(o))})}function s(e,n){e.each(function(){var a=t(this),i=t(n,a),s=t("[data-delete]",i);e.length<=1?s.addClass(o):s.removeClass(o)})}var o="disabled",l="active",r="tlb-button-on";return{properties:n,move:a,removable:s,movable:i}}),define("taoQtiTest/controller/creator/views/itemref",["jquery","i18n","taoQtiTest/controller/creator/views/actions"],function(t,e,n){var a=function(a,i){function s(t){function e(){null!==t&&t.destroy()}o(t.getView().find("[name=itemref-category]")),a.parents(".testpart").on("delete",e),a.parents(".section").on("delete",e),a.on("delete",e)}function o(t){t.select2({width:"100%",tags:[],multiple:!0,tokenSeparators:[","," ",";"],formatNoMatches:function(){return e("Enter a category")},maximumInputLength:32})}var l=t(".actions",a);n.properties(l,"itemref",i,s),n.move(l,"itemrefs","itemref")},i=function(){t(".itemrefs").each(function(){n.movable(t(".itemref",t(this)),"itemref",".actions")}),t(document).on("add change deleted",".itemrefs",function(e){var a=t(e.target);(a.hasClass("itemref")||a.hasClass("itemrefs"))&&n.movable(t(".itemref",a.hasClass("itemrefs")?a:a.parents(".itemrefs")),"itemref",".actions")})};return{setUp:a,listenActionState:i}}),define("taoQtiTest/controller/creator/views/rubricblock",["jquery","taoQtiTest/controller/creator/views/actions"],function(t,e){var n=function(n,a){function i(t){function e(){null!==t&&t.destroy()}s(t.getView()),n.parents(".testpart").on("delete",e),n.parents(".section").on("delete",e),n.on("delete",e)}function s(e){var n=t("select",e);n.select2({width:"100%"}).on("select2-removed",function(){0===n.select2("val").length&&n.select2("val",[1])}),0===n.select2("val").length&&n.select2("val",[1])}e.properties(n,"rubricblock",a,i)};return{setUp:n}}),define("taoQtiTest/controller/creator/helpers/qtiTest",["lodash","i18n"],function(t,e){var n={extractIdentifiers:function(e){var n=this,a=[];return t.has(e,"identifier")&&(a=a.concat(e.identifier.toLowerCase())),t.flatten(t.forEach(e,function(t){a=a.concat("object"==typeof t?n.extractIdentifiers(t):[])}),!0),a},getIdentifier:function(e,n){var a,i=1,s="-";do a=e+s+i++;while(t.contains(n,a.toLowerCase()));return n.push(a),a},idFormatValidator:function(){var t=/^[_a-zA-Z]{1}[a-zA-Z0-9\-._]{0,31}$/i;return{name:"testIdFormat",message:e("is not a valid identifier (alphanum, underscore, dash and dots.)"),validate:function(e,n){"function"==typeof n&&n(t.test(e))}}},idAvailableValidator:function(n){return{name:"testIdAvailable",message:e("is already used in the test."),validate:function(e,a,i){"function"==typeof a&&a(!t.contains(t.values(n),e.toLowerCase())||i.original&&e===i.original)}}},filterQtiType:function(t,e){return t["qti-type"]&&t["qti-type"]===e},addMissingQtiType:function(e,n){var a=this;t.forEach(e,function(e,i){!t.isObject(e)||t.isArray(e)||t.has(e,"qti-type")||(t.isNumber(i)?n&&(e["qti-type"]=n):e["qti-type"]=i),t.isArray(e)?a.addMissingQtiType(e,i.replace(/s$/,"")):t.isObject(e)&&a.addMissingQtiType(e)})},consolidateModel:function(e){if(e&&e.testParts&&t.isArray(e.testParts)&&e.testParts[0]){var n=e.testParts[0];n.assessmentSections&&t.isArray(n.assessmentSections)&&t.forEach(n.assessmentSections,function(e){e.ordering&&void 0!==e.ordering.shuffle&&e.ordering.shuffle===!1&&delete e.ordering,!e.selection||void 0===e.selection.select||1!==e.selection.select||void 0!==e.selection.withReplacement&&e.selection.withReplacement!==!1||delete e.selection,e.rubricBlocks&&t.isArray(e.rubricBlocks)&&(0===e.rubricBlocks.length||1===e.rubricBlocks.length&&0===e.rubricBlocks[0].content.length?delete e.rubricBlocks:e.rubricBlocks.length>0&&t.forEach(e.rubricBlocks,function(e){e&&e.content&&(!e.views||t.isArray(e.views)&&0===e.views.length)&&(e.views=["candidate"])}))})}return e}};return n}),define("taoQtiTest/controller/creator/views/section",["jquery","lodash","uri","taoQtiTest/controller/creator/views/actions","taoQtiTest/controller/creator/views/itemref","taoQtiTest/controller/creator/views/rubricblock","taoQtiTest/controller/creator/templates/index","taoQtiTest/controller/creator/helpers/qtiTest"],function(t,e,n,a,i,s,o,l){var r=function(r,c,d){function p(t){function e(){null!==t&&t.destroy()}r.parents(".testpart").on("delete",e),r.on("delete",e)}function h(){c.sectionParts||(c.sectionParts=[]),t(".itemref",r).each(function(){var e=t(this),a=e.data("bind-index");c.sectionParts[a]||(c.sectionParts[a]={}),i.setUp(e,c.sectionParts[a]),e.find(".title").text(d.labels[n.encode(e.data("uri"))])})}function m(){var a,s=t(".test-creator-items");s.on("itemselect.creator",function(){var a=Array.prototype.slice.call(arguments,1),i=t(".itemref-placeholder",r),o=t(".itemref-placeholder");a.length>0?i.show().off("click").on("click",function(){e.forEach(a,function(e){var a=t(e);u(t(".itemrefs",r),void 0,{href:n.decode(a.data("uri")),label:t.trim(a.clone().children().remove().end().text()),"qti-type":"assessmentItemRef"})}),t(".ui-selected",s).removeClass("ui-selected").removeClass("selected"),o.hide().off("click")}):o.hide().off("click")}),t(document).on("add.binder","#"+r.attr("id")+" .itemrefs",function(t,e){if("binder"===t.namespace&&e.hasClass("itemref")){var n=e.data("bind-index");i.setUp(e,c.sectionParts[n])}}),a=t(".selected",s),a.length>0&&s.trigger("itemselect.creator",a)}function u(e,n,a){var i,s=e.children("li");n=n||s.length,a.identifier=l.getIdentifier("item",d.identifiers),a.index=n+1,i=t(o.itemref(a)),n>0?i.insertAfter(s.eq(n-1)):i.appendTo(e),e.trigger("add",[i,a])}function f(){c.rubricBlocks||(c.rubricBlocks=[]),t(".rubricblock",r).each(function(){var e=t(this),n=e.data("bind-index");c.rubricBlocks[n]||(c.rubricBlocks[n]={}),s.setUp(e,c.rubricBlocks[n])})}function v(){t(".rublock-adder",r).adder({target:t(".rubricblocks",r),content:o.rubricblock,templateData:function(e){e({"qti-type":"rubricBlock",index:t(".rubricblock",r).length,content:[],views:[1]})}}),t(document).on("add.binder","#"+r.attr("id")+" .rubricblocks",function(t,e){if("binder"===t.namespace&&e.hasClass("rubricblock")){var n=e.data("bind-index");s.setUp(e,c.rubricBlocks[n])}})}var b=t("h2",r);a.properties(b,"section",c,p),a.move(b,"sections","section"),h(),m(),f(),v()},c=function(){var e;t(".sections").each(function(){e=t(".section",t(this)),a.removable(e,"h2"),a.movable(e,"section","h2")}),t(document).on("add change deleted",".sections",function(n){var i=t(n.target);(i.hasClass("section")||i.hasClass("sections"))&&(e=t(".section",i.hasClass("sections")?i:i.parents(".sections")),a.removable(e,"h2"),a.movable(e,"section","h2"))}).on("open.toggler",".rub-toggler",function(e){"toggler"===e.namespace&&t(this).parents("h2").addClass("active")}).on("close.toggler",".rub-toggler",function(e){"toggler"===e.namespace&&t(this).parents("h2").removeClass("active")})};return{setUp:r,listenActionState:c}}),define("taoQtiTest/controller/creator/views/testpart",["jquery","lodash","taoQtiTest/controller/creator/views/actions","taoQtiTest/controller/creator/views/section","taoQtiTest/controller/creator/templates/index","taoQtiTest/controller/creator/helpers/qtiTest"],function(t,e,n,a,i,s){var o=function(e,o,l){function r(t){e.on("delete",function(){null!==t&&t.destroy()})}function c(){o.assessmentSections||(o.assessmentSections=[]),t(".section",e).each(function(){var e=t(this),n=e.data("bind-index");o.assessmentSections[n]||(o.assessmentSections[n]={}),a.setUp(e,o.assessmentSections[n],l)})}function d(){t(".section-adder",e).adder({target:t(".sections",e),content:i.section,templateData:function(n){var a=t(".section",e).length;n({"qti-type":"assessmentSection",identifier:s.getIdentifier("assessmentSection",l.identifiers),title:"Section "+(a+1),index:0,sectionParts:[]})}}),t(document).on("add.binder","#"+e.attr("id")+" .sections",function(t,e){if("binder"===t.namespace&&e.hasClass("section")){var n=e.data("bind-index");a.setUp(e,o.assessmentSections[n],l)}})}var p=t("h1",e);n.properties(p,"testpart",o,r),n.move(p,"testparts","testpart"),c(),d()},l=function(){var e=t(".testpart");n.removable(e,"h1"),n.movable(e,"testpart","h1"),t(".testparts").on("add change deleted",function(a){var i=t(a.target);(i.hasClass("testpart")||i.hasClass("testparts"))&&(e=t(".testpart"),n.removable(e,"h1"),n.movable(e,"testpart","h1"))})};return{setUp:o,listenActionState:l}}),define("taoQtiTest/controller/creator/views/test",["jquery","lodash","taoQtiTest/controller/creator/views/actions","taoQtiTest/controller/creator/views/testpart","taoQtiTest/controller/creator/templates/index","taoQtiTest/controller/creator/helpers/qtiTest"],function(t,e,n,a,i,s){var o=function(e,o){function l(){e.testParts||(e.testParts=[]),t(".testpart").each(function(){var n=t(this),i=n.data("bind-index");e.testParts[i]||(e.testParts[i]={}),a.setUp(n,e.testParts[i],o)})}function r(){t(".testpart-adder").adder({target:t(".testparts"),content:i.testpart,templateData:function(e){var n=t(".testpart").length,a=t(".section").length;e({"qti-type":"testPart",identifier:s.getIdentifier("testPart",o.identifiers),index:n,navigationMode:0,submissionMode:0,assessmentSections:[{"qti-type":"assessmentSection",identifier:s.getIdentifier("assessmentSection",o.identifiers),title:"Section "+(a+1),index:0,sectionParts:[]}]})}}),t(document).on("add.binder",".testparts",function(t,n,i){"binder"===t.namespace&&n.hasClass("testpart")&&a.setUp(n,e.testParts[i.index],o)})}n.properties(t(".test-creator-test > h1"),"test",e),l(),r()};return o}),define("taoQtiTest/controller/creator/encoders/dom2qti",["jquery","lodash"],function(t,e){var n=function(t){return e.omit(t,["qti-type","content","xmlBase","lang","label"])},a=function(t){return e.reduce(t,function(t,n,a){return e.isNumber(n)||e.isString(n)&&!e.isEmpty(n)?t+" "+a+'="'+n+'" ':t},"")},i={encode:function(t){var i=this;if(e.isArray(t))return e.reduce(t,function(t,e){return t+i.encode(e)},"");if(e.isObject(t)&&t["qti-type"]){if("textRun"===t["qti-type"])return t.content;var s="<"+t["qti-type"]+a(n(t));return t.content?s+">"+i.encode(t.content)+"</"+t["qti-type"]+">":s+"/>"}return t},decode:function(n){var a=this,i=n instanceof jQuery?n:t(n),s=[];return e.forEach(i,function(n){var i;3===n.nodeType?e.isEmpty(t.trim(n.nodeValue))||s.push({"qti-type":"textRun",content:n.nodeValue,xmlBase:""}):1===n.nodeType&&(i=e.merge({"qti-type":n.nodeName.toLowerCase(),id:"","class":"",xmlBase:"",lang:"",label:""},e.transform(n.attributes,function(t,e){t[e.nodeName]=e.nodeValue})),n.childNodes.length>0&&(i.content=a.decode(n.childNodes)),s.push(i))}),s}};return i}),define("taoQtiTest/controller/creator/creator",["module","jquery","lodash","helpers","i18n","core/databindcontroller","taoQtiTest/controller/creator/views/item","taoQtiTest/controller/creator/views/test","taoQtiTest/controller/creator/views/testpart","taoQtiTest/controller/creator/views/section","taoQtiTest/controller/creator/views/itemref","taoQtiTest/controller/creator/encoders/dom2qti","taoQtiTest/controller/creator/templates/index","taoQtiTest/controller/creator/helpers/qtiTest","core/validator/validators"],function(t,e,n,a,i,s,o,l,r,c,d,p,h,m,u){function f(t,n,a){e.getJSON(t,{pattern:n},function(t){t&&"function"==typeof a&&a(t)})}var v={routes:{},identifiers:[],start:function(v){var b=this,_=e("#test-creator"),g=e("#saver");v=n.merge(t.config(),v||{}),v.routes=v.routes||{},v.labels=v.labels||{},o(n.partial(f,v.routes.items));var y=n.merge(v.routes,{filters:{isItemRef:function(t){return m.filterQtiType(t,"assessmentItemRef")},isSection:function(t){return m.filterQtiType(t,"assessmentSection")}},encoders:{dom2qti:p},templates:h,beforeSave:function(t){return m.addMissingQtiType(t),m.consolidateModel(t),!0}}),T=s.takeControl(_,y).get(function(t){b.identifiers=m.extractIdentifiers(t),u.register("testIdFormat",m.idFormatValidator()),u.register("testIdAvailable",m.idAvailableValidator(b.identifiers)),l(t,{identifiers:b.identifiers,labels:v.labels}),r.listenActionState(),c.listenActionState(),d.listenActionState()});g.on("click",function(t){t.preventDefault(),g.hasClass("disabled")||(g.attr("disabled",!0).addClass("disabled"),T.save(function(){g.attr("disabled",!1).removeClass("disabled"),a.createInfoMessage(i("Test Saved"))},function(){g.attr("disabled",!1).removeClass("disabled")}))})}};return v}),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define("spin",e):t.Spinner=e()}(this,function(){function t(t,e){var n,a=document.createElement(t||"div");for(n in e)a[n]=e[n];return a}function e(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function n(t,e,n,a){var i=["opacity",e,~~(100*t),n,a].join("-"),s=.01+n/a*100,o=Math.max(1-(1-t)/e*(100-s),t),l=d.substring(0,d.indexOf("Animation")).toLowerCase(),r=l&&"-"+l+"-"||"";return h[i]||(m.insertRule("@"+r+"keyframes "+i+"{0%{opacity:"+o+"}"+s+"%{opacity:"+t+"}"+(s+.01)+"%{opacity:1}"+(s+e)%100+"%{opacity:"+t+"}100%{opacity:"+o+"}}",m.cssRules.length),h[i]=1),i}function a(t,e){var n,a,i=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),a=0;a<p.length;a++)if(n=p[a]+e,void 0!==i[n])return n;return void 0!==i[e]?e:void 0}function i(t,e){for(var n in e)t.style[a(t,n)||n]=e[n];return t}function s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)void 0===t[a]&&(t[a]=n[a])}return t}function o(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function l(t,e){return"string"==typeof t?t:t[e%t.length]}function r(t){return"undefined"==typeof this?new r(t):void(this.opts=s(t||{},r.defaults,u))}function c(){function n(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}m.addRule(".spin-vml","behavior:url(#default#VML)"),r.prototype.lines=function(t,a){function s(){return i(n("group",{coordsize:d+" "+d,coordorigin:-c+" "+-c}),{width:d,height:d})}function o(t,o,r){e(h,e(i(s(),{rotation:360/a.lines*t+"deg",left:~~o}),e(i(n("roundrect",{arcsize:a.corners}),{width:c,height:a.width,left:a.radius,top:-a.width>>1,filter:r}),n("fill",{color:l(a.color,t),opacity:a.opacity}),n("stroke",{opacity:0}))))}var r,c=a.length+a.width,d=2*c,p=2*-(a.width+a.length)+"px",h=i(s(),{position:"absolute",top:p,left:p});if(a.shadow)for(r=1;r<=a.lines;r++)o(r,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(r=1;r<=a.lines;r++)o(r);return e(t,h)},r.prototype.opacity=function(t,e,n,a){var i=t.firstChild;a=a.shadow&&a.lines||0,i&&e+a<i.childNodes.length&&(i=i.childNodes[e+a],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}var d,p=["webkit","Moz","ms","O"],h={},m=function(){var n=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),u={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};r.defaults={},s(r.prototype,{spin:function(e){this.stop();var n,a,s=this,l=s.opts,r=s.el=i(t(0,{className:l.className}),{position:l.position,width:0,zIndex:l.zIndex}),c=l.radius+l.length+l.width;if(e&&(e.insertBefore(r,e.firstChild||null),a=o(e),n=o(r),i(r,{left:("auto"==l.left?a.x-n.x+(e.offsetWidth>>1):parseInt(l.left,10)+c)+"px",top:("auto"==l.top?a.y-n.y+(e.offsetHeight>>1):parseInt(l.top,10)+c)+"px"})),r.setAttribute("role","progressbar"),s.lines(r,s.opts),!d){var p,h=0,m=(l.lines-1)*(1-l.direction)/2,u=l.fps,f=u/l.speed,v=(1-l.opacity)/(f*l.trail/100),b=f/l.lines;!function _(){h++;for(var t=0;t<l.lines;t++)p=Math.max(1-(h+(l.lines-t)*b)%f*v,l.opacity),s.opacity(r,t*l.direction+m,p,l);s.timeout=s.el&&setTimeout(_,~~(1e3/u))}()}return s},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(a,s){function o(e,n){return i(t(),{position:"absolute",width:s.length+s.width+"px",height:s.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/s.lines*c+s.rotate)+"deg) translate("+s.radius+"px,0)",borderRadius:(s.corners*s.width>>1)+"px"})}for(var r,c=0,p=(s.lines-1)*(1-s.direction)/2;c<s.lines;c++)r=i(t(),{position:"absolute",top:1+~(s.width/2)+"px",transform:s.hwaccel?"translate3d(0,0,0)":"",opacity:s.opacity,animation:d&&n(s.opacity,s.trail,p+c*s.direction,s.lines)+" "+1/s.speed+"s linear infinite"}),s.shadow&&e(r,i(o("#000","0 0 4px #000"),{top:"2px"})),e(a,e(r,o(l(s.color,c),"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var f=i(t("group"),{behavior:"url(#default#VML)"});return!a(f,"transform")&&f.adj?c():d=a(f,"animation"),r}),define("serviceApi/ServiceApi",["jquery","urlParser","iframeResizer"],function(t,e){function n(t,e,n,a,i){this.baseUrl=t,this.parameters=e,this.connected=!1,this.serviceCallId=n,this.state=a,this.userService=i,this.onFinishCallback,this.onKillCallback,this.onDisplayChangeCallback}return n.SIG_SUCCESS=0,n.SIG_ERROR=1,n.prototype.loadInto=function(n,a){var i=this,s=this.getCallUrl(),o=new e(s).checkCORS();t(n).one("load",function(){t(document).on("serviceready",function(){i.connect(n,a)})}).on("load.cors",function(){o===!0&&(n.contentWindow.__knownParent__=!0)}),t(n).attr("src",s)},n.prototype.connect=function(t,e){this.connected===!1&&t.contentWindow&&"function"==typeof t.contentWindow.onServiceApiReady&&(t.contentWindow.onServiceApiReady(this),this.connected=!0,"function"==typeof e&&e())},n.prototype.getCallUrl=function(){var e=this.parameters||{};return e.serviceCallId=this.serviceCallId,this.baseUrl+"?"+t.param(e)},n.prototype.getUserPropertyValues=function(t,e){this.userService.get(t,e)},n.prototype.getServiceCallId=function(){return this.serviceCallId},n.prototype.getState=function(){return this.state.get()},n.prototype.setState=function(t,e){return this.state.set(t,e)},n.prototype.getParameter=function(t){return"undefined"!=typeof this.parameters[t]?this.parameters[t]:null},n.prototype.onFinish=function(t){this.onFinishCallback=t},n.prototype.onKill=function(t){this.onKillCallback=t},n.prototype.kill=function(t){"function"==typeof this.onKillCallback?this.onKillCallback(t):t(0)},n.prototype.finish=function(t){"function"==typeof this.onFinishCallback&&this.onFinishCallback(t)},n}),define("serviceApi/UserInfoService",["jquery"],function(t){function e(t,e){this.data=e,this.requestUrl=t}return e.prototype.get=function(e,n){this.data.hasOwnProperty(e)?"function"==typeof n&&n(this.data[e]):t.ajax({url:this.requestUrl,data:{property:e},type:"post",dataType:"json",success:function(t,n){return function(a){for(key in a.data)t.data[key]=a.data[key];"function"==typeof n&&n(t.data[e])}}(this,n)})},e}),define("serviceApi/StateStorage",["jquery"],function(t){function e(t,e){this.state=t,this.submitUrl=e}return e.prototype.get=function(t){return"function"==typeof t&&t(this.state),this.state},e.prototype.set=function(e,n){e===this.state?"function"==typeof n&&n():t.ajax({url:this.submitUrl,data:{state:e},type:"post",dataType:"json",success:"function"==typeof n?n:null})},e}),function(t){var e={init:function(e){var a=this,s=t.extend(!0,{},t.fn.badonkatrunc.defaultOptions,e);return"horizontal"!=s.fitDirection&&"vertical"!=s.fitDirection?(t.error("'"+s.fitDirection+"' is not a valid fit direction. Use 'horizontal' or 'vertical.'"),this):"start"!=s.truncateLocation&&"middle"!=s.truncateLocation&&"end"!=s.truncateLocation?(t.error("'"+s.truncateLocation+"' is not a valid truncation location. Use 'start,' 'middle' or 'end.'"),this):s.minimumFontSize>s.maximumFontSize?(t.error("Minimum font size can not exceed the maximum font size."),this):s.minimumLetterSpacing>s.maximumLetterSpacing?(t.error("Minimum letter spacing can not exceed the maximum letter spacing."),this):this.each(function(){var e=t(this),o=t(this).data("badonkatrunc");o&&e.badonkatrunc("destroy");var l=n(e,s,a);t(this).data("badonkatrunc",l),l.init(),l.options.automaticSizeTracking&&i.add(l)})},destroy:function(){return this.each(function(){var e=t(this),n=e.data("badonkatrunc");n.destroy(),i.remove(n),s.remove(n),t(window).unbind(".badonkatrunc"),e.removeData("badonkatrunc")})},refresh:function(){return this.each(function(){var e=t(this),n=e.data("badonkatrunc");s.remove(n),n.refresh()})},changeContents:function(e){return this.each(function(){var n=t(this),a=n.data("badonkatrunc");a.contentHtml="string"==typeof e?t("<span></span>").text(e).html():t(e).html(),s.add(a)})}};t.fn.badonkatrunc=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.badonkatrunc"):e.init.apply(this,arguments)},t.fn.badonkatrunc.settings={sizeTrackingTimeout:1e3/60},t.fn.badonkatrunc.defaultOptions={automaticSizeTracking:!1,fitDirection:"horizontal",minimumFontSize:1,maximumFontSize:1,fontSizeSynced:!1,minimumLetterSpacing:0,maximumLetterSpacing:0,letterSpacingSynced:!1,truncate:!0,truncateString:"&hellip;",truncateLocation:"end",truncateOnlyWholeWords:!1,extraOptimizeLimit:8},t.fn.btrunc=t.fn.badonkatrunc;var n=function(e,n,a){var i=function(t,e,n){return{content:t,fontSize:e,letterSpacing:n}},s={target:e,options:n,refresh:function(){var t=this,e=l(this.contentHtml),n=this.contentHtml,a=this.options.maximumFontSize,s=this.options.maximumLetterSpacing,c=function(){var e=i(n,a,s);t.renderState(e)},d=function(){return t.getCurrentOverflow()};if(this.options.maximumFontSize-this.options.minimumFontSize>0&&r(t.options.minimumFontSize,t.options.maximumFontSize,function(t){a=t,c()},d),this.options.maximumLetterSpacing-this.options.minimumLetterSpacing>0){var p=1;this.options.truncate&&r(0,1,function(a){p=a,n=o(e,t.options.truncateString,t.options.truncateLocation,a,!0),r(t.options.minimumLetterSpacing,0,function(t){s=t,c()},d),c()},d),1==p&&r(t.options.minimumLetterSpacing,t.options.maximumLetterSpacing,function(t){s=t,c()},d)}this.options.truncate&&r(0,1,function(a){n=o(e,t.options.truncateString,t.options.truncateLocation,a,t.options.truncateOnlyWholeWords),c()},d,this.options.extraOptimizeLimit),this.renderState(i(n,a,s),!this.options.truncate),this.currentOptimalState=this.currentRenderedState,this.syncFonts()},syncFonts:function(){if(a.length>1&&(this.options.fontSizeSynced||this.options.letterSpacingSynced)){for(var e=this.currentOptimalState.fontSize,n=this.currentOptimalState.letterSpacing,i=0;i<a.length;i++){var s=t(a[i]).data("badonkatrunc");null!=s&&null!=s.currentOptimalState&&(s.currentOptimalState.fontSize<e&&(e=s.currentOptimalState.fontSize),s.currentOptimalState.letterSpacing<n&&(n=s.currentOptimalState.letterSpacing))}for(var i=0;i<a.length;i++){var s=t(a[i]).data("badonkatrunc");null!=s&&s.acceptFontSync(e,n)}}},acceptFontSync:function(t,e){var n=this,a=l(this.contentHtml),s=this.contentHtml;null!=this.currentOptimalState&&(this.options.fontSizeSynced||(t=this.currentOptimalState.fontSize),this.options.letterSpacingSynced||(e=this.currentOptimalState.letterSpacing));var c=function(){n.renderState(i(s,t,e))},d=function(){return n.getCurrentOverflow()};this.options.truncate&&r(0,1,function(t){s=o(a,n.options.truncateString,n.options.truncateLocation,t,n.options.truncateOnlyWholeWords),c()},d),this.renderState(i(s,t,e),!this.options.truncate)},init:function(){this.contentHtml=this.target.html(),this.settingsWrapper=t('<span style="margin: 0px; padding: 0px; border: 0px;"></span>'),this.settingsWrapper.addClass("badonkatrunc-wrapper"),t.browser.mozilla||t.browser.opera||t.browser.msie&&"7.0"==t.browser.version||this.settingsWrapper.css("display","block"),this.target.empty(),this.target.append(this.settingsWrapper),this.refresh()},destroy:function(){this.target.empty(),this.target.append(this.contentHtml)},renderState:function(t,e){this.settingsWrapper.css("font-size",t.fontSize+"em"),this.settingsWrapper.css("letter-spacing",t.letterSpacing+"em");var n=e||"horizontal"!=this.options.fitDirection?"normal":"nowrap";this.settingsWrapper.css("white-space",n),this.settingsWrapper.empty(),this.settingsWrapper.append(t.content),this.currentRenderedState=t},getCurrentOverflow:function(){var t=this.settingsWrapper[0],n="horizontal"==this.options.fitDirection?t.scrollWidth-e.width():t.offsetHeight-e.height();return n}};return s},a=function(e,n,a,i){var s={_instances:[],_updateLoop:function(){if(t.isFunction(e))for(var n=0;n<s._instances.length;n++)e(s._instances[n]);null!=i?s._instances.length>0&&setTimeout(s._updateLoop,i):s._instances=[]},add:function(e){-1==t.inArray(e,this._instances)&&(t.isFunction(n)&&n(e),this._instances.push(e),1==this._instances.length&&(null==i?setTimeout(this._updateLoop):this._updateLoop()))},remove:function(e){var n=t.inArray(e,this._instances);-1!=n&&(this._instances.splice(n,1),t.isFunction(a)&&a(e))}};return s},i=a(function(t){t.elementSizeCache.update()},function(t){t.elementSizeCache={width:null,height:null,update:function(){var e=t.target.width(),n=t.target.height(),a=null!=this.width&&e!=this.width||null!=this.height&&n!=this.height;this.width=e,this.height=n,a&&this.changed()},changed:function(){s.add(t)}}},function(t){t.elementSizeCache=void 0},t.fn.badonkatrunc.settings.sizeTrackingTimeout),s=a(function(t){t.refresh.apply(t)},null,null,null),o=function(e,n,a,i,s){var o=e.text;if(i>1&&(i=1),0>i&&(i=0),1==i)return e.html;var l=function(t,n){var a=o.split(" "),i=s?a.length:o.length,l=i*t,r=i*n;if(s){var c=function(t){for(var e=0,n=0;t>n;n++)e+=a[n].length+1;return e},d=l+r;l=c(l),r=c(d)-l}return e.getHtmlSubstring(l,r)};switch(a){case"middle":var r=i/2,c=l(0,r),d=l(1-r,r);return t.trim(c)+" "+n+" "+t.trim(d);case"start":var p=l(1-i,i);return n+t.trim(p);case"end":var p=l(0,i);return t.trim(p)+n}},l=function(e){var n=t("<span></span>");n.html(e);var a={html:e,text:n.text(),getHtmlSubstring:function(e,a){var i=n.clone()[0],s=0,o=0,l=[],r=!1,c=function(t){if(3==t.nodeType){for(var n=t.data.length,i="",d=!1,p=0;n>p;p++)s++,s>=e&&a>o?(r=!0,d=!0,i+=t.data.substr(p,1),o++):1==r&&(r=!1);t.data=i,d&&l.push(t)}else if(1==t.nodeType){r&&l.push(t);for(var h=t.childNodes.length,p=0;h>p;p++)c(t.childNodes[p])}};c(i);for(var d=[],p=function(t){var e=function(t){d.push(t),null!=t.parentNode&&e(t.parentNode)};e(t)},h=l.length,m=0;h>m;m++)p(l[m]);var u=function(e){for(var n=[],a=e.childNodes.length,i=0;a>i;i++){var s=e.childNodes[i];3!=s.nodeType&&(-1==t.inArray(s,d)?n.push(s):u(s))}for(var i=0;i<n.length;i++){var e=n[i];e.parentNode.removeChild(e)}};return u(i),t(i).html()}};return a},r=function(t,e,n,a,i){for(var s=e,o=t,l=e,r=null,c=null,d=null,p=0;;){n(l);var h=a();if(0>=h){var m=!0;null!=c&&(c>h?m=!1:h==c&&d>=l&&(m=!1)),m&&(c=h,d=l)}if(h==r&&(p++,void 0==i||p==i))return void(null!=d&&n(d));if(h>0){s=l;var u=l-o;l-=u/2}else 0>=h&&(o=l,l=s);r=h}}}(jQuery),define("jquery.trunc",function(){}),define("taoQtiTest/controller/runtime/testRunner",["jquery","jqueryui","lodash","spin","serviceApi/ServiceApi","serviceApi/UserInfoService","serviceApi/StateStorage","iframeResizer","iframeNotifier","i18n","jquery.trunc"],function($,$ui,_,Spinner,ServiceApi,UserInfoService,StateStorage,iframeResizer,iframeNotifier,__){var timerIds=[],currentTimes=[],lastDates=[],timeDiffs=[],TestRunner={TEST_STATE_INITIAL:0,TEST_STATE_INTERACTING:1,TEST_STATE_MODAL_FEEDBACK:2,TEST_STATE_SUSPENDED:3,TEST_STATE_CLOSED:4,TEST_NAVIGATION_LINEAR:0,TEST_NAVIGATION_NONLINEAR:1,TEST_ITEM_STATE_INTERACTING:1,beforeTransition:function(t){iframeNotifier.parent("loading"),this.disableGui(),$("#qti-item, #qti-info, #qti-rubrics, #qti-timers").css("display","none"),"function"==typeof t&&setTimeout(t,250)},afterTransition:function(){this.enableGui(),iframeNotifier.parent("unloading")},moveForward:function(){this.disableGui();var t=this;this.itemServiceApi.kill(function(){t.actionCall("moveForward")})},moveBackward:function(){this.disableGui();var t=this;this.itemServiceApi.kill(function(){t.actionCall("moveBackward")})},skip:function(){this.disableGui(),this.actionCall("skip")},timeout:function(){this.disableGui(),this.assessmentTestContext.isTimeout=!0,this.updateTimer(),this.actionCall("timeout")
},comment:function(){$("#qti-comment > textarea").val(__("Your comment...")),$("#qti-comment").css("display","block"),$("#qti-comment > button").css("display","inline")},closeComment:function(){$("#qti-comment").css("display","none")},emptyComment:function(){$("#qti-comment > textarea").val("")},storeComment:function(){var t=this;$.ajax({url:t.assessmentTestContext.commentUrl,cache:!1,async:!0,type:"POST",data:{comment:$("#qti-comment > textarea").val()},success:function(){t.closeComment()}})},update:function(assessmentTestContext){var self=this;$("#qti-item").remove();var $runner=$("#runner");$runner.css("height","auto"),this.assessmentTestContext=assessmentTestContext,this.itemServiceApi=eval(assessmentTestContext.itemServiceApiCall),this.updateContext(),this.updateProgress(),this.updateNavigation(),this.updateInformation(),this.updateRubrics(),this.updateTools(),this.updateTimer(),$itemFrame=$('<iframe id="qti-item" frameborder="0"/>'),$itemFrame.insertBefore($("#qti-navigation")),iframeResizer.autoHeight($itemFrame,"body",parseInt($runner.height(),10)),this.assessmentTestContext.itemSessionState===this.TEST_ITEM_STATE_INTERACTING&&self.assessmentTestContext.isTimeout===!1?this.itemServiceApi.loadInto($itemFrame[0],function(){self.afterTransition(),self.adjustFrame(),$itemFrame.show()}):self.afterTransition()},updateInformation:function(){$("#qti-info").remove(),this.assessmentTestContext.isTimeout===!0?($('<div id="qti-info" class="info"></div>').insertAfter("#qti-actions"),$("#qti-info").html(__('Maximum time limit reached for item "%s".').replace("%s",this.assessmentTestContext.itemIdentifier))):this.assessmentTestContext.itemSessionState!==this.TEST_ITEM_STATE_INTERACTING&&($('<div id="qti-info" class="info"></div>').insertAfter("#qti-actions"),$("#qti-info").html(__('No more attempts allowed for item "%s".').replace("%s",this.assessmentTestContext.itemIdentifier)))},updateTools:function(){this.assessmentTestContext.allowComment===!0?$("#comment").css("display","inline"):$("#comment").css("display","none"),this.assessmentTestContext.allowSkipping===!0?this.assessmentTestContext.isLast===!1?($("#skip").css("display","inline"),$("#skip-end").css("display","none")):($("#skip-end").css("display","inline"),$("#skip").css("display","none")):($("#skip").css("display","none"),$("#skip-end").css("display","none"))},updateTimer:function(){var t=this;$("#qti-timers").remove();for(var e=0;e<timerIds.length;e++)clearTimeout(timerIds[e]);if(timerIds=[],currentTimes=[],lastDates=[],timeDiffs=[],0==t.assessmentTestContext.isTimeout&&t.assessmentTestContext.itemSessionState==t.TEST_ITEM_STATE_INTERACTING&&this.assessmentTestContext.timeConstraints.length>0){$('<div id="qti-timers"></div>').insertAfter("#qti-actions");for(var e=this.assessmentTestContext.timeConstraints.length-1;e>=0;e--){var n=this.assessmentTestContext.timeConstraints[e];if(0==n.allowLateSubmission){$('<div class="qti-timer">'+n.source+" - "+t.formatTime(n.seconds)+"</div>").appendTo("#qti-timers"),currentTimes[e]=n.seconds,lastDates[e]=new Date,timeDiffs[e]=0,timerIndex=e,source=n.source;var a=function(e,n){timerIds[e]=setInterval(function(){if(timeDiffs[e]+=(new Date).getTime()-lastDates[e].getTime(),timeDiffs[e]>=1e3){var a=timeDiffs[e]/1e3;currentTimes[e]-=a,timeDiffs[e]=0}currentTimes[e]<=0?($("#qti-timers > .qti-timer").eq(e).html(t.formatTime(Math.round(currentTimes[e]))),currentTimes[e]=0,clearInterval(timerIds[e]),$("#qti-item").css("display","none"),t.timeout()):($("#qti-timers > .qti-timer").eq(e).html(n+" - "+t.formatTime(Math.round(currentTimes[e]))),lastDates[e]=new Date)},1e3)};a(timerIndex,source)}}$("#qti-timers").css("display","block")}},updateRubrics:function(){if($("#qti-rubrics").remove(),this.assessmentTestContext.rubrics.length>0){for(var t=$('<div id="qti-rubrics"></div>'),e=0;e<this.assessmentTestContext.rubrics.length;e++)t.append(this.assessmentTestContext.rubrics[e]);t.find("a").bind("click keypress",function(){return window.open(this.href),!1}),t.insertAfter("#qti-actions"),MathJax.Hub.Queue(["Typeset",MathJax.Hub],$("#qti-rubrics")[0])}},updateNavigation:function(){this.assessmentTestContext.navigationMode===this.TEST_NAVIGATION_LINEAR?($("#move-backward").css("display","none"),$("#move-forward").css("display",this.assessmentTestContext.isLast===!0?"none":"inline"),$("#move-end").css("display",this.assessmentTestContext.isLast===!0?"inline":"none")):($("#qti-actions").css("display","block"),$("#move-forward").css("display",this.assessmentTestContext.isLast===!0?"none":"inline"),$("#move-end").css("display",this.assessmentTestContext.isLast===!0?"inline":"none"),$("#move-backward").css("display",this.assessmentTestContext.canMoveBackward===!0?"inline":"none"))},updateProgress:function(){var t=this.assessmentTestContext.considerProgress;if($("#qti-test-progress").css("visibility",t===!0?"visible":"hidden"),t===!0){var e=Math.floor(this.assessmentTestContext.numberCompleted/this.assessmentTestContext.numberItems*100),n=__("Test completed at %d%%").replace("%d",e).replace("%%","%");$("#qti-progress-label").text(n),$("#qti-progressbar").progressbar({value:e})}},updateContext:function(){$("#qti-test-title").text(this.assessmentTestContext.testTitle),$("#qti-test-position").empty().append(__("Part:")+' <span id="qti-part-title">'+this.assessmentTestContext.testPartId+"</span> - "+__("Section:")+' <span id="qti-section-title">'+this.assessmentTestContext.sectionTitle+"</span>"),$("#qti-test-title, #qti-test-position").badonkatrunc().css("visibility","visible")},adjustFrame:function(){var t=$("#qti-actions").outerHeight(),e=$(window).height(),n=$("#qti-navigation").outerHeight(),a=e-t-n;$("#qti-content").height(a)},disableGui:function(){$("#qti-navigation button").addClass("disabled")},enableGui:function(){$("#qti-navigation button").removeClass("disabled")},formatTime:function(t){var e=t,n=Math.floor(e/3600),a=Math.floor((e-3600*n)/60),i=e-3600*n-60*a;10>n&&(n="0"+n),10>a&&(a="0"+a),10>i&&(i="0"+i);var s=n+":"+a+":"+i;return"± "+s},actionCall:function(t){var e=this;this.beforeTransition(function(){$.ajax({url:e.assessmentTestContext[t+"Url"],cache:!1,async:!0,dataType:"json",success:function(t){t.state===e.TEST_STATE_CLOSED?e.serviceApi.finish():e.update(t)}})})}};return{start:function(t){window.onServiceApiReady=function(e){TestRunner.serviceApi=e,t.state===TestRunner.TEST_STATE_CLOSED?e.finish():TestRunner.update(t)},TestRunner.beforeTransition(),TestRunner.assessmentTestContext=t,$("#skip, #skip-end").click(function(){$(this).hasClass("disabled")||TestRunner.skip()}),$("#move-forward, #move-end").click(function(){$(this).hasClass("disabled")||TestRunner.moveForward()}),$("#move-backward").click(function(){$(this).hasClass("disabled")||TestRunner.moveBackward()}),$("#comment").click(function(){$(this).hasClass("disabled")||TestRunner.comment()}),$("#qti-comment-cancel").click(function(){TestRunner.closeComment()}),$("#qti-comment-send").click(function(){TestRunner.storeComment()}),$("#qti-comment > textarea").click(function(){TestRunner.emptyComment()}),$(window).bind("resize",function(){TestRunner.adjustFrame(),$("#qti-test-title, #qti-test-position").badonkatrunc()}),iframeNotifier.parent("serviceready"),$(document).bind("loading",function(){iframeNotifier.parent("loading")}),$(document).bind("unloading",function(){iframeNotifier.parent("unloading")})}}});