{"version":3,"file":"routes.js","sources":["routes.js","creator/templates/testpart!tpl","creator/templates/section!tpl","creator/templates/rubricblock!tpl","creator/templates/itemref!tpl","creator/templates/item!tpl","tpl!taoQtiTest/controller/creator/templates/test-props","tpl!taoQtiTest/controller/creator/templates/testpart-props","tpl!taoQtiTest/controller/creator/templates/section-props","tpl!taoQtiTest/controller/creator/templates/itemref-props","tpl!taoQtiTest/controller/creator/templates/rubricblock-props","creator/templates/index.js","creator/views/item.js","creator/views/property.js","creator/views/actions.js","creator/views/itemref.js","creator/helpers/ckConfigurator.js","creator/views/rubricblock.js","creator/helpers/qtiTest.js","creator/views/section.js","creator/views/testpart.js","creator/views/test.js","creator/encoders/dom2qti.js","creator/creator.js","../../lib/spin.min.js","../../serviceApi/ServiceApi.js","../../serviceApi/UserInfoService.js","../../serviceApi/StateStorage.js","../../lib/jquery.badonkatrunc.js","runtime/testRunner.js"],"names":["define","Creator","css","actions","index","hb","template","Handlebars","depth0","helpers","partials","data","this","compilerInfo","merge","stack1","helper","buffer","functionType","escapeExpression","identifier","call","hash","options","helperMissing","title","__","href","label","program1","uri","parent","inverse","self","noop","fn","program","program2","each","testPart","section","rubricBlock","itemRef","item","testProps","testPartProps","sectionProps","itemRefProps","rubricBlockProps","testpart","itemref","rubricblock","properties","test","$","templates","itemTemplate","itemView","loadItems","setUpLiveSearch","timeout","liveSearch","pattern","$search","val","length","clearTimeout","setTimeout","items","update","keyup","siblings","click","disableSelection","$itemBox","empty","append","enableSelection","$panel","selectable","filter","selected","event","ui","addClass","unselected","removeClass","stop","trigger","undefined","DataBinder","propView","tmplName","model","propValidation","$view","on","e","isValid","namespace","$togglers","groupValidator","$container","open","databinder","children","hide","appendTo","startDomComponent","bind","getView","isOpen","onOpen","cb","stopPropagation","onClose","destroy","remove","toggle","not","show","propertyView","find","preventDefault","$elt","hasClass","disabledClass","blur","activeClass","btnOnClass","move","$actionContainer","containerClass","elementClass","$element","parents","$elements","is","console","log","fadeOut","insertBefore","fadeIn","insertAfter","movable","actionContainerElt","$moveUp","$moveDown","removable","$delete","disable","enable","_","setUp","$itemRef","propHandler","removePropHandler","categoriesProperty","$select","select2","width","tags","multiple","tokenSeparators","formatNoMatches","maximumInputLength","resize","listenActionState","document","$parent","$target","target","throttle","$refs","first","$actions","innerWidth","outerWidth","ckConfigurator","getConfig","editor","toolbarType","underline","ckeditor","ckConfig","filterPlugin","plugin","contains","plugins","reject","split","join","extraPlugins","$rubricBlock","rbViews","$propContainer","setUpEditor","$rubricBlockBinding","$rubricBlockContent","syncRubricBlockContent","html","inline","qtiTestHelper","extractIdentifiers","obj","identifiers","has","concat","toLowerCase","flatten","forEach","value","getIdentifier","qtiType","lockedIdentifiers","suggestion","glue","push","idFormatValidator","qtiIdPattern","name","message","validate","callback","idAvailableValidator","values","original","filterQtiType","type","addMissingQtiType","collection","parentType","key","isObject","isArray","isNumber","replace","consolidateModel","testParts","assessmentSections","assessmentSection","ordering","shuffle","rubricBlocks","content","views","itemRefView","rubricBlockView","$section","$selectionSwitcher","$selectionSelect","$selectionWithRep","switchSelection","prop","incrementer","selection","$title","text","itemRefs","sectionParts","labels","encode","acceptItemRefs","$selected","$items","Array","prototype","slice","arguments","$placeholder","$placeholders","off","$item","addItemRef","decode","trim","clone","end","qti-type","attr","$refList","itemData","eq","addRubricBlock","adder","templateData","$sections","sectionView","$testPart","$identifier","sections","addSection","sectionIndex","$testParts","testPartView","testView","addTestPart","testPartIndex","navigationMode","submissionMode","added","getAttributes","object","omit","attrToStr","attributes","reduce","acc","isString","isEmpty","Dom2QtiEncoder","modelValue","result","startTag","nodeValue","$nodeValue","elt","nodeType","xmlBase","nodeName","id","class","lang","transform","childNodes","module","history","feedback","DataBindController","itemrefView","validators","url","search","getJSON","notempty","Controller","routes","start","$saver","config","back","partial","binderOptions","filters","isItemRef","isSection","encoders","dom2qti","beforeSave","binder","takeControl","get","register","window","save","success","t","exports","amd","Spinner","o","i","createElement","n","appendChild","s","a","f","l","Math","max","u","substring","indexOf","d","r","insertRule","cssRules","style","charAt","toUpperCase","x","offsetLeft","y","offsetTop","offsetParent","c","opts","defaults","p","h","addRule","lines","coordsize","coordorigin","height","rotation","left","arcsize","corners","radius","top","color","opacity","position","shadow","firstChild","getElementsByTagName","sheet","styleSheet","rotate","direction","speed","trail","fps","zIndex","className","spin","el","offsetWidth","parseInt","offsetHeight","setAttribute","m","g","v","parentNode","removeChild","background","boxShadow","transformOrigin","borderRadius","hwaccel","animation","behavior","adj","UrlParser","ServiceApi","baseUrl","parameters","serviceCallId","stateStorage","userService","connected","state","onFinishCallback","onKillCallback","onDisplayChangeCallback","SIG_SUCCESS","SIG_ERROR","loadInto","frame","$frame","callUrl","getCallUrl","isCORSAllowed","checkCORS","connect","contentWindow","__knownParent__","onServiceApiReady","params","param","getUserPropertyValues","property","getServiceCallId","getState","setState","set","getParameter","onFinish","onKill","kill","finish","valueArray","UserInfoService","requestUrl","hasOwnProperty","ajax","dataType","service","StateStorage","submitUrl","methods","init","all","instanceOptions","extend","badonkatrunc","defaultOptions","fitDirection","error","truncateLocation","minimumFontSize","maximumFontSize","minimumLetterSpacing","maximumLetterSpacing","$this","instance","pluginInstance","automaticSizeTracking","resizeMonitor","add","dirtyMonitor","unbind","removeData","refresh","changeContents","newContents","contentHtml","method","apply","settings","sizeTrackingTimeout","fontSizeSynced","letterSpacingSynced","truncate","truncateString","truncateOnlyWholeWords","extraOptimizeLimit","btrunc","$targetGroup","createRenderState","fontSize","letterSpacing","view","createHtmlTextView","renderFunc","renderState","overflowFunc","getCurrentOverflow","optimize","truncationLevel","getTruncatedHtml","currentOptimalState","currentRenderedState","syncFonts","lowestFontSize","lowestLetterSpacing","groupInstance","acceptFontSync","settingsWrapper","browser","mozilla","opera","msie","version","forceAllowWrap","whiteSpace","wrapper","overflow","scrollWidth","createDispatcher","updateFunc","addFunc","removeFunc","updateTimeout","dispatcherInstance","_instances","_updateLoop","isFunction","inArray","splice","elementSizeCache","newWidth","newHeight","hasChanged","changed","htmlTextView","amount","wordRounded","getTruncatedRange","begin","words","totalEntities","entityBegin","entityLength","getCharacterPosition","wordIndex","characterCount","endWord","getHtmlSubstring","amountPerSide","right","truncated","$content","element","totalProcessedLength","totalOutputLength","nodesWithinRange","withinRange","stripOutOfRangeTextInElement","node","dataLength","newData","wasWithinRange","substr","childCount","parentNodesToKeep","markParentNodesToKeep","keepNode","nodesWithinRangeCount","removeUnusedNodes","nodesToRemove","childNodeCount","childNode","min","actionFunc","currentMax","currentMin","currentValue","lastResult","mostOptimalResult","mostOptimalValue","sameResultCount","moreOptimal","difference","iframeResizer","iframeNotifier","MathJax","timerIds","currentTimes","lastDates","timeDiffs","waitingTime","TestRunner","TEST_STATE_INITIAL","TEST_STATE_INTERACTING","TEST_STATE_MODAL_FEEDBACK","TEST_STATE_SUSPENDED","TEST_STATE_CLOSED","TEST_NAVIGATION_LINEAR","TEST_NAVIGATION_NONLINEAR","TEST_ITEM_STATE_INTERACTING","beforeTransition","disableGui","afterTransition","enableGui","moveForward","that","itemServiceApi","actionCall","moveBackward","skip","assessmentTestContext","isTimeout","updateTimer","comment","closeComment","emptyComment","storeComment","commentUrl","cache","async","$runner","eval","itemServiceApiCall","updateContext","updateProgress","updateNavigation","updateInformation","updateRubrics","updateTools","$itemFrame","autoHeight","navigator","userAgent","match","itemSessionState","adjustFrame","visibility","prependTo","itemIdentifier","allowComment","allowSkipping","isLast","timeConstraints","cst","allowLateSubmission","source","formatTime","seconds","Date","timerIndex","superClosure","setInterval","getTime","round","clearInterval","rubrics","$rubrics","Hub","Queue","canMoveBackward","considerProgress","ratio","floor","progressbar","testTitle","sectionTitle","testPartId","actionsHeight","outerHeight","windowHeight","innerHeight","navigationHeight","newContentHeight","totalSeconds","sec_num","hours","minutes","time","action","serviceApi","ajaxError","jqxhr","status"],"mappings":"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","sourcesContent":["/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n * \n * \n */\n\n//@see http://forge.taotesting.com/projects/tao/wiki/Front_js\ndefine('taoQtiTest/controller/routes',[],function(){\n    'use strict';\n\n    return {\n        'Creator': {\n            'css': 'creator', \n            'actions': {\n                'index' : 'controller/creator/creator'\n            }\n        }\n    };\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/testpart', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div id=\\\"\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"testpart clearfix\\\">\\n\\n   <h1><span data-bind=\\\"identifier\\\">\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n        <div class=\\\"actions\\\"> \\n            <div class=\\\"tlb\\\">\\n                <div class=\\\"tlb-top\\\">\\n                    <span class=\\\"tlb-box\\\">\\n                        <span class=\\\"tlb-bar\\\">\\n                            <span class=\\\"tlb-start\\\"></span>\\n                            <span class=\\\"tlb-group\\\">\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off property-toggler\\\" title=\\\"Test Part Properties\\\"><span class=\\\"icon-settings\\\"></span></a>\\n                                <span class=\\\"tlb-separator\\\"></span>\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off move-up\\\" title=\\\"Move Up\\\"><span class=\\\"icon-up\\\"></span></a>\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off move-down\\\" title=\\\"Move Down\\\"><span class=\\\"icon-down\\\"></span></a>\\n                                <span class=\\\"tlb-separator\\\"></span> \\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off\\\" title=\\\"Remove Test Part\\\" data-delete=\\\"#\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"><span class=\\\"icon-bin\\\"></span></a>\\n                            </span>\\n                            <span class=\\\"tlb-end\\\"></span>\\n                        </span>  \\n                        <!--<span class=\\\"tlb-bar\\\">-->\\n                            <!--<span class=\\\"tlb-start\\\"></span>-->\\n                            <!--<span class=\\\"tlb-text-button-box\\\">-->\\n                                <!--<a class=\\\"tlb-text-button-off section-adder\\\">-->\\n                                    <!--<span class=\\\"icon-add\\\"></span>-->\\n                                    <!--<span class=\\\"tlb-text\\\">New Section</span>-->\\n                                <!--</a>-->\\n                            <!--</span>-->\\n                            <!--<span class=\\\"tlb-end\\\"></span>-->\\n                        <!--</span>-->\\n                    </span>   \\n                </div>\\n            </div>\\n        </div>\\n        <a href=\\\"#\\\" class=\\\"toggler opened\\\" data-toggle=\\\"#testpart-content-\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></a>\\n    </h1>\\n    <div id=\\\"testpart-content-\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"testpart-content\\\">\\n        \\n       <!-- assessmentTest/testPart/assessmentSections -->\\n       <div class=\\\"sections\\\" data-bind-each=\\\"assessmentSections\\\" data-bind-tmpl=\\\"section\\\" data-bind-filter=\\\"isSection\\\"></div>\\n\\n        <button class=\\\"btn-info small section-adder\\\">\\n            <span class=\\\"icon-add\\\"></span>New section\\n        </button>\\n    </div>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/section', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\n\n  buffer += \"<div id=\\\"\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"section\\\">\\n\\n<!-- assessmentTest/testPart/assessmentSection/title -->\\n    <h2><span data-bind=\\\"title\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n        <div class=\\\"actions\\\">\\n            <div class=\\\"tlb\\\">\\n                <div class=\\\"tlb-top\\\">\\n                    <span class=\\\"tlb-box\\\">\\n                        <span class=\\\"tlb-bar\\\">\\n                            <span class=\\\"tlb-start\\\"></span>\\n                            <span class=\\\"tlb-group\\\">\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off rub-toggler\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Manage Rubric Blocks\", options) : helperMissing.call(depth0, \"__\", \"Manage Rubric Blocks\", options)))\n    + \"\\\" data-toggle=\\\"#rublocks-\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" ><span class=\\\"icon-rubric\\\"></span></a>\\n                                <span class=\\\"tlb-separator\\\"></span>\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off property-toggler\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Section Properties\", options) : helperMissing.call(depth0, \"__\", \"Section Properties\", options)))\n    + \"\\\"><span class=\\\"icon-settings\\\"></span></a>\\n                                <span class=\\\"tlb-separator\\\"></span>\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off move-up disabled\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Move Up\", options) : helperMissing.call(depth0, \"__\", \"Move Up\", options)))\n    + \"\\\"><span class=\\\"icon-up\\\"></span></a>\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off move-down disabled\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Move Down\", options) : helperMissing.call(depth0, \"__\", \"Move Down\", options)))\n    + \"\\\"><span class=\\\"icon-down\\\"></span></a>\\n                                <span class=\\\"tlb-separator\\\"></span>\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off disabled\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Remove Section\", options) : helperMissing.call(depth0, \"__\", \"Remove Section\", options)))\n    + \"\\\" data-delete=\\\":parent .section\\\"><span class=\\\"icon-bin\\\"></span></a>\\n                            </span>\\n                            <span class=\\\"tlb-end\\\"></span>\\n                        </span>\\n                    </span>\\n                </div>\\n            </div>\\n        </div>\\n    </h2>\\n\\n    <div id=\\\"rublocks-\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"rublocks clearfix toggled\\\">\\n        <h3>\\n            <span class=\\\"title\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Rubric Blocks\", options) : helperMissing.call(depth0, \"__\", \"Rubric Blocks\", options)))\n    + \"</span>\\n        </h3>\\n        <ol class=\\\"rubricblocks decimal\\\" data-bind-each=\\\"rubricBlocks\\\" data-bind-tmpl=\\\"rubricblock\\\"></ol>\\n        <button class=\\\"btn-info small rublock-adder\\\">\\n            <span class=\\\"icon-add\\\"></span>\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"New Rubric Block\", options) : helperMissing.call(depth0, \"__\", \"New Rubric Block\", options)))\n    + \"\\n        </button>\\n    </div>\\n    <div class=\\\"itemrefs-wrapper\\\">\\n        <h3>\\n            <span class=\\\"title\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Items\", options) : helperMissing.call(depth0, \"__\", \"Items\", options)))\n    + \"</span>\\n        </h3>\\n        <ol class=\\\"itemrefs decimal clearfix\\\" data-bind-each=\\\"sectionParts\\\" data-bind-tmpl=\\\"itemref\\\" data-bind-filter=\\\"isItemRef\\\" data-msg=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Add selected item(s) here.\", options) : helperMissing.call(depth0, \"__\", \"Add selected item(s) here.\", options)))\n    + \"\\\"></ol>\\n        <div class=\\\"itemref-placeholder\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Add selected item(s) here.\", options) : helperMissing.call(depth0, \"__\", \"Add selected item(s) here.\", options)))\n    + \"\\n        </div>\\n    </div>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/rubricblock', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<li class=\\\"rubricblock\\\">\\n    <div class=\\\"actions\\\">\\n       <div class=\\\"tlb\\\">\\n            <div class=\\\"tlb-top\\\">\\n                <span class=\\\"tlb-box\\\">\\n                    <span class=\\\"tlb-bar\\\">\\n                        <span class=\\\"tlb-start\\\"></span>\\n                        <span class=\\\"tlb-group\\\">\\n                            <!--<a href=\\\"#\\\" class=\\\"tlb-button-off property-toggler\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Rubric Block Properties\", options) : helperMissing.call(depth0, \"__\", \"Rubric Block Properties\", options)))\n    + \"\\\"><span class=\\\"icon-settings\\\"></span></a>-->\\n                            <!--<span class=\\\"tlb-separator\\\"></span> -->\\n                            <a href=\\\"#\\\" class=\\\"tlb-button-off\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Remove Rubric Block\", options) : helperMissing.call(depth0, \"__\", \"Remove Rubric Block\", options)))\n    + \"\\\" data-delete=\\\":parent .rubricblock\\\"><span class=\\\"icon-bin\\\"></span></a>\\n                        </span>\\n                        <span class=\\\"tlb-end\\\"></span>\\n                    </span>\\n                </span>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"rubricblock-content\\\" contenteditable></div>\\n    <div class=\\\"rubricblock-binding\\\" data-bind=\\\"content\\\" data-bind-html=\\\"true\\\" data-bind-encoder=\\\"dom2qti\\\"></div>\\n</li>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/itemref', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\n\n  buffer += \"<li id='\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"' data-uri='\";\n  if (helper = helpers.href) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.href); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"' class='itemref'>\\n    <span class='title truncate'>\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n    <div class=\\\"actions\\\"> \\n        <div class=\\\"tlb\\\">\\n            <div class=\\\"tlb-top\\\">\\n                <span class=\\\"tlb-box\\\">\\n                    <span class=\\\"tlb-bar\\\">\\n                        <span class=\\\"tlb-start\\\"></span>\\n                        <span class=\\\"tlb-group\\\">\\n                            <a href=\\\"#\\\" class=\\\"tlb-button-off property-toggler\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Item Reference Properties\", options) : helperMissing.call(depth0, \"__\", \"Item Reference Properties\", options)))\n    + \"\\\"><span class=\\\"icon-settings\\\"></span></a>\\n                            <span class=\\\"tlb-separator\\\"></span>\\n                            <a href=\\\"#\\\" class=\\\"tlb-button-off move-up\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Move Up\", options) : helperMissing.call(depth0, \"__\", \"Move Up\", options)))\n    + \"\\\"><span class=\\\"icon-up\\\"></span></a>\\n                            <a href=\\\"#\\\" class=\\\"tlb-button-off move-down\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Move Down\", options) : helperMissing.call(depth0, \"__\", \"Move Down\", options)))\n    + \"\\\"><span class=\\\"icon-down\\\"></span></a>\\n                            <span class=\\\"tlb-separator\\\"></span> \\n                            <a href=\\\"#\\\" class=\\\"tlb-button-off\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Remove Item Reference\", options) : helperMissing.call(depth0, \"__\", \"Remove Item Reference\", options)))\n    + \"\\\" data-delete=\\\":parent .itemref\\\"><span class=\\\"icon-bin\\\"></span></a>\\n                        </span>\\n                        <span class=\\\"tlb-end\\\"></span>\\n                    </span>  \\n                </span>   \\n            </div>\\n        </div>\\n    </div>\\n</li>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/item', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n     <li data-uri='\";\n  if (helper = helpers.uri) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.uri); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"' class='truncate'>\\n        \";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \" \\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.parent), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n     </li>\\n\";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"<span class='flag truncate' title=\\\"\";\n  if (helper = helpers.parent) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.parent); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.parent) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.parent); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\";\n  return buffer;\n  }\n\n  stack1 = helpers.each.call(depth0, depth0, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/test-props', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\";\n\n\n  buffer += \"<div class=\\\"test-props props clearfix\\\">\\n    \\n    <!-- test properties --> \\n    <h3 data-bind=\\\"title\\\"></h3>\\n\\n<!-- assessmentTest/identifier -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"test-identifier\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Identifier\", options) : helperMissing.call(depth0, \"__\", \"Identifier\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <input type=\\\"text\\\" name=\\\"test-identifier\\\" data-bind=\\\"identifier\\\" data-validate=\\\"$notEmpty; $testIdFormat; $testIdAvailable(original=\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \");\\\" />\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The principle identifier of the test.\", options) : helperMissing.call(depth0, \"__\", \"The principle identifier of the test.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n<!-- assessmentTest/title -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"test-title\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Title\", options) : helperMissing.call(depth0, \"__\", \"Title\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <input type=\\\"text\\\" name=\\\"test-title\\\" data-bind=\\\"title\\\" data-validate=\\\"$notEmpty\\\" />\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The test title.\", options) : helperMissing.call(depth0, \"__\", \"The test title.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n    <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .test-time-limits\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Time Limits\", options) : helperMissing.call(depth0, \"__\", \"Time Limits\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/timeLimits -->\\n    <div class=\\\"test-time-limits toggled\\\">\\n\\n\\n\\n<!-- assessmentTest/timeLimits/maxTime -->\\n        <div class=\\\"grid-row\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"test-max-time\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum Duration\", options) : helperMissing.call(depth0, \"__\", \"Maximum Duration\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <input type=\\\"text\\\" name=\\\"max-time\\\" value=\\\"00:00:00\\\" data-duration=\\\"HH:mm:ss\\\" data-bind=\\\"timeLimits.maxTime\\\" data-bind-encoder=\\\"time\\\" />\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum duration for the all test.\", options) : helperMissing.call(depth0, \"__\", \"Maximum duration for the all test.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/timeLimits/allowLateSubmission -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Late submission allowed\", options) : helperMissing.call(depth0, \"__\", \"Late submission allowed\", options)))\n    + \"\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"test-allow-late-submission\\\" value=\\\"true\\\" data-bind=\\\"timeLimits.allowLateSubmission\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Whether a candidate's response that is beyond the maximum duration should still be accepted.\", options) : helperMissing.call(depth0, \"__\", \"Whether a candidate's response that is beyond the maximum duration should still be accepted.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/testpart-props', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\n\n  buffer += \"<div id=\\\"testpart-props-\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"testpart-props props clearfix\\\">\\n    <h3>\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h3>\\n    \\n    <form autocomplete=\\\"off\\\">\\n\\n<!-- assessmentTest/testPart/identifier -->\\n        <div class=\\\"grid-row\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"testpart-identifier\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Identifier\", options) : helperMissing.call(depth0, \"__\", \"Identifier\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <input type=\\\"text\\\" name=\\\"testpart-identifier\\\" data-bind=\\\"identifier\\\" data-validate=\\\"$notEmpty; $testIdFormat; $testIdAvailable(original=\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \");\\\" />\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The test part identifier.\", options) : helperMissing.call(depth0, \"__\", \"The test part identifier.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/navigationMode -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n               \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Navigation\", options) : helperMissing.call(depth0, \"__\", \"Navigation\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"radio\\\" name=\\\"testpart-navigation-mode\\\" value=\\\"0\\\" checked=\\\"checked\\\" data-bind=\\\"navigationMode\\\" data-bind-encoder=\\\"number\\\" />\\n                    <span class=\\\"icon-radio\\\"></span>\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Linear\", options) : helperMissing.call(depth0, \"__\", \"Linear\", options)))\n    + \"\\n                </label>\\n                <label>\\n                    <input type=\\\"radio\\\" name=\\\"testpart-navigation-mode\\\" value=\\\"1\\\"  />\\n                    <span class=\\\"icon-radio\\\"></span>\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Non Linear\", options) : helperMissing.call(depth0, \"__\", \"Non Linear\", options)))\n    + \"\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The navigation mode determines the general paths that the candidate may take. A linear mode restricts the candidate to attempt each item in turn. Non Linear removes this restriction.\", options) : helperMissing.call(depth0, \"__\", \"The navigation mode determines the general paths that the candidate may take. A linear mode restricts the candidate to attempt each item in turn. Non Linear removes this restriction.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/submissionMode -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Submission\", options) : helperMissing.call(depth0, \"__\", \"Submission\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"radio\\\" name=\\\"testpart-submission-mode\\\" value=\\\"0\\\" checked=\\\"checked\\\" data-bind=\\\"submissionMode\\\" data-bind-encoder=\\\"number\\\" />\\n                    <span class=\\\"icon-radio\\\"></span>\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Individual\", options) : helperMissing.call(depth0, \"__\", \"Individual\", options)))\n    + \"\\n                </label>\\n                <label>\\n                    <input type=\\\"radio\\\" name=\\\"testpart-submission-mode\\\" value=\\\"1\\\"  />\\n                    <span class=\\\"icon-radio\\\"></span>\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Simultaneous\", options) : helperMissing.call(depth0, \"__\", \"Simultaneous\", options)))\n    + \"\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The submission mode determines when the candidate's responses are submitted for response processing. A testPart in individual mode requires the candidate to submit their responses on an item-by-item basis. In simultaneous mode the candidate's responses are all submitted together at the end of the testPart.\", options) : helperMissing.call(depth0, \"__\", \"The submission mode determines when the candidate's responses are submitted for response processing. A testPart in individual mode requires the candidate to submit their responses on an item-by-item basis. In simultaneous mode the candidate's responses are all submitted together at the end of the testPart.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n        <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .testpart-item-session-control\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Item Session Control\", options) : helperMissing.call(depth0, \"__\", \"Item Session Control\", options)))\n    + \"</h4>\\n\\n\\n<!-- assessmentTest/testPart/itemSessionControl -->\\n        <div class=\\\"testpart-item-session-control toggled\\\">\\n\\n<!-- assessmentTest/testPart/itemSessionControl/maxAttempts -->\\n            <div class=\\\"grid-row\\\">\\n                <div class=\\\"col-5\\\">\\n                    <label for=\\\"testpart-max-attempts\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Max Attempts\", options) : helperMissing.call(depth0, \"__\", \"Max Attempts\", options)))\n    + \"</label>\\n                </div>\\n                <div class=\\\"col-6\\\">\\n                    <input name=\\\"testpart-max-attempts\\\" type=\\\"text\\\" data-increment=\\\"1\\\" data-min=\\\"0\\\" value=\\\"1\\\" data-bind=\\\"itemSessionControl.maxAttempts\\\" data-bind-encoder=\\\"number\\\" />\\n                </div>\\n                <div class=\\\"col-1 help\\\">\\n                    <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                    <div class=\\\"tooltip-content\\\">\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Controls the maximum number of attempts allowed. 0 means unlimited.\", options) : helperMissing.call(depth0, \"__\", \"Controls the maximum number of attempts allowed. 0 means unlimited.\", options)))\n    + \"\\n                    </div>\\n                </div>\\n            </div>\\n\\n<!-- assessmentTest/testPart/itemSessionControl/showFeedback -->\\n            <div class=\\\"grid-row pseudo-label-box\\\">\\n                <div class=\\\"col-5\\\">\\n                    <label for=\\\"testpart-show-feedback\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Show Feedback\", options) : helperMissing.call(depth0, \"__\", \"Show Feedback\", options)))\n    + \"</label>\\n                </div>\\n                <div class=\\\"col-6\\\">\\n                    <label>\\n                        <input type=\\\"checkbox\\\" name=\\\"testpart-show-feedback\\\" value=\\\"true\\\" data-bind=\\\"itemSessionControl.showFeedback\\\" data-bind-encoder=\\\"boolean\\\" />\\n                        <span class=\\\"icon-checkbox\\\" />\\n                    </label>\\n                </div>\\n                <div class=\\\"col-1 help\\\">\\n                    <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                    <div class=\\\"tooltip-content\\\">\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This constraint affects the visibility of feedback after the end of the last attempt.\", options) : helperMissing.call(depth0, \"__\", \"This constraint affects the visibility of feedback after the end of the last attempt.\", options)))\n    + \"\\n                    </div>\\n                </div>\\n            </div>\\n\\n\\n\\n\\n\\n<!-- assessmentTest/testPart/itemSessionControl/allowComment -->\\n            <div class=\\\"grid-row pseudo-label-box\\\">\\n                <div class=\\\"col-5\\\">\\n                    <label for=\\\"testpart-allow-comment\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Allow Comment\", options) : helperMissing.call(depth0, \"__\", \"Allow Comment\", options)))\n    + \"</label>\\n                </div>\\n                <div class=\\\"col-6\\\">\\n                    <label>\\n                        <input type=\\\"checkbox\\\" name=\\\"testpart-allow-comment\\\" value=\\\"true\\\" data-bind=\\\"itemSessionControl.allowComment\\\" data-bind-encoder=\\\"boolean\\\" />\\n                        <span class=\\\"icon-checkbox\\\" />\\n                    </label>\\n                </div>\\n                <div class=\\\"col-1 help\\\">\\n                    <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                    <div class=\\\"tooltip-content\\\">\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.\", options) : helperMissing.call(depth0, \"__\", \"This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.\", options)))\n    + \"\\n                    </div>\\n                </div>\\n            </div>\\n\\n<!-- assessmentTest/testPart/itemSessionControl/allowSkipping -->\\n            <div class=\\\"grid-row pseudo-label-box\\\">\\n                <div class=\\\"col-5\\\">\\n                    <label for=\\\"testpart-allow-skipping\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Allow Skipping\", options) : helperMissing.call(depth0, \"__\", \"Allow Skipping\", options)))\n    + \"</label>\\n                </div>\\n                <div class=\\\"col-6\\\">\\n                    <label>\\n                        <input type=\\\"checkbox\\\" name=\\\"testpart-allow-skipping\\\" value=\\\"true\\\" checked=\\\"checked\\\"  data-bind=\\\"itemSessionControl.allowSkipping\\\" data-bind-encoder=\\\"boolean\\\"   />\\n                        <span class=\\\"icon-checkbox\\\" />\\n                    </label>\\n                </div>\\n                <div class=\\\"col-1 help\\\">\\n                    <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                    <div class=\\\"tooltip-content\\\">\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"If the candidate can skip the item, without submitting a response.\", options) : helperMissing.call(depth0, \"__\", \"If the candidate can skip the item, without submitting a response.\", options)))\n    + \"\\n                    </div>\\n                </div>\\n            </div>\\n\\n\\n        </div>\\n\\n        <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .testpart-time-limits\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Time Limits\", options) : helperMissing.call(depth0, \"__\", \"Time Limits\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/testPart/timeLimits/minTime -->\\n        <div class=\\\"testpart-time-limits toggled\\\">\\n\\n\\n\\n<!-- assessmentTest/testPart/timeLimits/maxTime -->\\n            <div class=\\\"grid-row\\\">\\n                <div class=\\\"col-5\\\">\\n                    <label for=\\\"testpart-max-time\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum Duration\", options) : helperMissing.call(depth0, \"__\", \"Maximum Duration\", options)))\n    + \"</label>\\n                </div>\\n                <div class=\\\"col-6\\\">\\n                    <input type=\\\"text\\\" name=\\\"max-time\\\" value=\\\"00:00:00\\\" data-duration=\\\"HH:mm:ss\\\" data-bind=\\\"timeLimits.maxTime\\\" data-bind-encoder=\\\"time\\\" />\\n                </div>\\n                <div class=\\\"col-1 help\\\">\\n                    <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                    <div class=\\\"tooltip-content\\\">\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum duration for this test part.\", options) : helperMissing.call(depth0, \"__\", \"Maximum duration for this test part.\", options)))\n    + \"\\n                    </div>\\n                </div>\\n            </div>\\n\\n<!-- assessmentTest/testPart/timeLimits/allowLateSubmission -->\\n            <div class=\\\"grid-row pseudo-label-box\\\">\\n                <div class=\\\"col-5\\\">\\n                    <label for=\\\"testpart-allow-late-submission\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Late submission allowed\", options) : helperMissing.call(depth0, \"__\", \"Late submission allowed\", options)))\n    + \"</label>\\n                </div>\\n                <div class=\\\"col-6\\\">\\n                    <label>\\n                        <input type=\\\"checkbox\\\" name=\\\"section-allow-late-submission\\\" value=\\\"true\\\" data-bind=\\\"timeLimits.allowLateSubmission\\\" data-bind-encoder=\\\"boolean\\\" />\\n                        <span class=\\\"icon-checkbox\\\" />\\n                    </label>\\n                </div>\\n                <div class=\\\"col-1 help\\\">\\n                    <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                    <div class=\\\"tooltip-content\\\">\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Whether a candidate's response that is beyond the maximum duration of the test part should still be accepted.\", options) : helperMissing.call(depth0, \"__\", \"Whether a candidate's response that is beyond the maximum duration of the test part should still be accepted.\", options)))\n    + \"\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </form>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/section-props', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\n\n  buffer += \"<div id=\\\"section-props-\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"section-props props clearfix\\\">\\n    <h3>\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h3>\\n\\n<!-- assessmentTest/testPart/assessmentSection/identifier -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"section-identifier\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Identifier\", options) : helperMissing.call(depth0, \"__\", \"Identifier\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <input type=\\\"text\\\" name=\\\"section-identifier\\\" data-bind=\\\"identifier\\\" data-validate=\\\"$notEmpty; $testIdFormat; $testIdAvailable(original=\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \");\\\" />\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The identifier of the section.\", options) : helperMissing.call(depth0, \"__\", \"The identifier of the section.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/title -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"section-title\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Title\", options) : helperMissing.call(depth0, \"__\", \"Title\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <input type=\\\"text\\\" name=\\\"section-title\\\" data-bind=\\\"title\\\" data-validate=\\\"$notEmpty\\\" />\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The section title.\", options) : helperMissing.call(depth0, \"__\", \"The section title.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n\\n\\n\\n\\n<!-- assessmentTest/testPart/assessmentSection/visible -->\\n    <div class=\\\"grid-row pseudo-label-box\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"section-visible\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Visible\", options) : helperMissing.call(depth0, \"__\", \"Visible\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <label>\\n                <input type=\\\"checkbox\\\" name=\\\"section-visible\\\" value=\\\"true\\\" checked=\\\"checked\\\"  data-bind=\\\"visible\\\" data-bind-encoder=\\\"boolean\\\" />\\n                <span class=\\\"icon-checkbox\\\"></span>\\n            </label>\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"A visible section is one that is identifiable by the candidate.\", options) : helperMissing.call(depth0, \"__\", \"A visible section is one that is identifiable by the candidate.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/keepTogether -->\\n    <div class=\\\"grid-row pseudo-label-box\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"section-keep-together\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Keep Together\", options) : helperMissing.call(depth0, \"__\", \"Keep Together\", options)))\n    + \"</label>\\n        </div>\\n\\n        <div class=\\\"col-6\\\">\\n            <label>\\n                <input type=\\\"checkbox\\\" name=\\\"section-keep-together\\\" value=\\\"true\\\" checked=\\\"checked\\\"  data-bind=\\\"keepTogether\\\" data-bind-encoder=\\\"boolean\\\" />\\n                <span class=\\\"icon-checkbox\\\"></span>\\n            </label>\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"An invisible section with a parent that is subject to shuffling can specify whether or not its children, which will appear to the candidate as if they were part of the parent, are shuffled as a block or mixed up with the other children of the parent section.\", options) : helperMissing.call(depth0, \"__\", \"An invisible section with a parent that is subject to shuffling can specify whether or not its children, which will appear to the candidate as if they were part of the parent, are shuffled as a block or mixed up with the other children of the parent section.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n    <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .section-selection\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Selection\", options) : helperMissing.call(depth0, \"__\", \"Selection\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/testPart/assessmentSection/selection -->\\n    <div class=\\\"section-selection toggled\\\">\\n\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-enable-selection\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Enable selection\", options) : helperMissing.call(depth0, \"__\", \"Enable selection\", options)))\n    + \"</label>\\n            </div>\\n\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"section-enable-selection\\\"  />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/selection/select -->\\n        <div class=\\\"grid-row\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-select\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Select\", options) : helperMissing.call(depth0, \"__\", \"Select\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <input name=\\\"section-select\\\" type=\\\"text\\\" data-increment=\\\"1\\\" data-min=\\\"0\\\" value=\\\"0\\\" data-bind=\\\"selection.select\\\"  data-bind-encoder=\\\"number\\\" />\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The number of child elements to be selected.\", options) : helperMissing.call(depth0, \"__\", \"The number of child elements to be selected.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/selection/withReplacement -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-with-replacement\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"With Replacement\", options) : helperMissing.call(depth0, \"__\", \"With Replacement\", options)))\n    + \"</label>\\n            </div>\\n\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"section-with-replacement\\\" value=\\\"true\\\" data-bind=\\\"selection.withReplacement\\\"  data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"When selecting child elements each element is normally eligible for selection once only.\", options) : helperMissing.call(depth0, \"__\", \"When selecting child elements each element is normally eligible for selection once only.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .section-ordering\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Ordering\", options) : helperMissing.call(depth0, \"__\", \"Ordering\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/testPart/assessmentSection/ordering -->\\n    <div class=\\\"section-ordering toggled\\\">\\n<!-- assessmentTest/testPart/assessmentSection/ordering/shuffle -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-shuffle\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Shuffle\", options) : helperMissing.call(depth0, \"__\", \"Shuffle\", options)))\n    + \"</label>\\n            </div>\\n\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"section-shuffle\\\" value=\\\"true\\\" data-bind=\\\"ordering.shuffle\\\"  data-bind-encoder=\\\"boolean\\\"  />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"If set, it causes the order of the child elements to be randomized, otherwise it uses the order in which the child elements are defined.\", options) : helperMissing.call(depth0, \"__\", \"If set, it causes the order of the child elements to be randomized, otherwise it uses the order in which the child elements are defined.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .section-item-session-control\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Item Session Control\", options) : helperMissing.call(depth0, \"__\", \"Item Session Control\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/testPart/assessmentSection/itemSessionControl -->\\n    <div class=\\\"section-item-session-control toggled\\\">\\n<!-- assessmentTest/testPart/assessmentSection/itemSessionControl/maxAttempts -->\\n        <div class=\\\"grid-row\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-max-attempts\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Max Attempts\", options) : helperMissing.call(depth0, \"__\", \"Max Attempts\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <input name=\\\"section-max-attempts\\\" type=\\\"text\\\" data-increment=\\\"1\\\" data-min=\\\"0\\\" value=\\\"1\\\" data-bind=\\\"itemSessionControl.maxAttempts\\\" data-bind-encoder=\\\"number\\\" />\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Controls the maximum number of attempts allowed. 0 means unlimited.\", options) : helperMissing.call(depth0, \"__\", \"Controls the maximum number of attempts allowed. 0 means unlimited.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/itemSessionControl/showFeedback -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-show-feedback\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Show Feedback\", options) : helperMissing.call(depth0, \"__\", \"Show Feedback\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"section-show-feedback\\\" value=\\\"true\\\" data-bind=\\\"itemSessionControl.showFeedback\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This constraint affects the visibility of feedback after the end of the last attempt.\", options) : helperMissing.call(depth0, \"__\", \"This constraint affects the visibility of feedback after the end of the last attempt.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n\\n\\n\\n\\n<!-- assessmentTest/testPart/assessmentSection/itemSessionControl/allowComment -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-allow-comment\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Allow Comment\", options) : helperMissing.call(depth0, \"__\", \"Allow Comment\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"section-allow-comment\\\" value=\\\"true\\\"  data-bind=\\\"itemSessionControl.allowComment\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.\", options) : helperMissing.call(depth0, \"__\", \"This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/itemSessionControl/allowSkipping -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-allow-skipping\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Allow Skipping\", options) : helperMissing.call(depth0, \"__\", \"Allow Skipping\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"section-allow-skipping\\\" value=\\\"true\\\" checked=\\\"checked\\\" data-bind=\\\"itemSessionControl.allowSkipping\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"If the candidate can skip the item, without submitting a response.\", options) : helperMissing.call(depth0, \"__\", \"If the candidate can skip the item, without submitting a response.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n\\n    </div>\\n\\n    <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .section-time-limits\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Time Limits\", options) : helperMissing.call(depth0, \"__\", \"Time Limits\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/timeLimits -->\\n    <div class=\\\"section-time-limits toggled\\\">\\n\\n\\n\\n\\n<!-- assessmentTest/testPart/assessmentSection/timeLimits/maxTime -->\\n        <div class=\\\"grid-row\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-max-time\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum Duration\", options) : helperMissing.call(depth0, \"__\", \"Maximum Duration\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <input type=\\\"text\\\" name=\\\"max-time\\\" value=\\\"00:00:00\\\" data-duration=\\\"HH:mm:ss\\\" data-bind=\\\"timeLimits.maxTime\\\" data-bind-encoder=\\\"time\\\" />\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum duration for this section.\", options) : helperMissing.call(depth0, \"__\", \"Maximum duration for this section.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/timeLimits/allowLateSubmission -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-allow-late-submission\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Late submission allowed\", options) : helperMissing.call(depth0, \"__\", \"Late submission allowed\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"section-allow-late-submission\\\" value=\\\"true\\\" data-bind=\\\"timeLimits.allowLateSubmission\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Whether a candidate's response that is beyond the maximum duration of the section should still be accepted.\", options) : helperMissing.call(depth0, \"__\", \"Whether a candidate's response that is beyond the maximum duration of the section should still be accepted.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/itemref-props', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\n\n  buffer += \"<div id=\\\"itemref-props-\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"itemref-props props clearfix\\\">\\n\\n    <h3>\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h3>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/identifier -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"itemref-identifier\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Identifier\", options) : helperMissing.call(depth0, \"__\", \"Identifier\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <input type=\\\"text\\\" name=\\\"itemref-identifier\\\" data-bind=\\\"identifier\\\" data-validate=\\\"$notEmpty; $testIdFormat; $testIdAvailable(original=\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \");\\\" />\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The identifier of the item reference.\", options) : helperMissing.call(depth0, \"__\", \"The identifier of the item reference.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/href -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"itemref-href\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Reference\", options) : helperMissing.call(depth0, \"__\", \"Reference\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <input type=\\\"text\\\" name=\\\"itemref-href\\\" data-bind=\\\"href\\\" readonly=\\\"readonly\\\" />\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The reference.\", options) : helperMissing.call(depth0, \"__\", \"The reference.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n    \\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/category -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"itemref-category\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Categories\", options) : helperMissing.call(depth0, \"__\", \"Categories\", options)))\n    + \"</label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <input type=\\\"text\\\" name=\\\"itemref-category\\\" data-bind=\\\"categories\\\" data-bind-encoder=\\\"str2array\\\" />\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Items can optionally be assigned to one or more categories.\", options) : helperMissing.call(depth0, \"__\", \"Items can optionally be assigned to one or more categories.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/required -->\\n    <div class=\\\"grid-row pseudo-label-box\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"itemref-required\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required\", options) : helperMissing.call(depth0, \"__\", \"Required\", options)))\n    + \"</label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <label>\\n                <input type=\\\"checkbox\\\" name=\\\"itemref-required\\\" value=\\\"true\\\" data-bind=\\\"required\\\" data-bind-encoder=\\\"boolean\\\" />\\n                <span class=\\\"icon-checkbox\\\"></span>\\n            </label>\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"If required it must appear (at least once) in the selection.\", options) : helperMissing.call(depth0, \"__\", \"If required it must appear (at least once) in the selection.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/fixed -->\\n    <div class=\\\"grid-row pseudo-label-box\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"itemref-fixed\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Fixed\", options) : helperMissing.call(depth0, \"__\", \"Fixed\", options)))\n    + \"</label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <label>\\n                <input type=\\\"checkbox\\\" name=\\\"itemref-fixed\\\" value=\\\"true\\\" data-bind=\\\"fixed\\\" data-bind-encoder=\\\"boolean\\\" />\\n                <span class=\\\"icon-checkbox\\\"></span>\\n            </label>\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Not shuffled, the position remains fixed.\", options) : helperMissing.call(depth0, \"__\", \"Not shuffled, the position remains fixed.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n\\n    <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .itemref-item-session-control\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Item Session Control\", options) : helperMissing.call(depth0, \"__\", \"Item Session Control\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/itemSessionControl -->\\n    <div class=\\\"itemref-item-session-control toggled\\\">\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/itemSessionControl/maxAttempts -->\\n        <div class=\\\"grid-row\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"itemref-max-attempts\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Max Attempts\", options) : helperMissing.call(depth0, \"__\", \"Max Attempts\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <input name=\\\"itemref-max-attempts\\\" type=\\\"text\\\" data-increment=\\\"1\\\" data-min=\\\"0\\\" value=\\\"1\\\" data-bind=\\\"itemSessionControl.maxAttempts\\\" data-bind-encoder=\\\"number\\\" />\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Controls the maximum number of attempts allowed. 0 means unlimited.\", options) : helperMissing.call(depth0, \"__\", \"Controls the maximum number of attempts allowed. 0 means unlimited.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/itemSessionControl/showFeedback -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"itemref-show-feedback\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Show Feedback\", options) : helperMissing.call(depth0, \"__\", \"Show Feedback\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"itemref-show-feedback\\\" value=\\\"true\\\" data-bind=\\\"itemSessionControl.showFeedback\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This constraint affects the visibility of feedback after the end of the last attempt.\", options) : helperMissing.call(depth0, \"__\", \"This constraint affects the visibility of feedback after the end of the last attempt.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n\\n\\n\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/itemSessionControl/allowComment -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"itemref-allow-comment\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Allow Comment\", options) : helperMissing.call(depth0, \"__\", \"Allow Comment\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"itemref-allow-comment\\\" value=\\\"true\\\"  data-bind=\\\"itemSessionControl.allowComment\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.\", options) : helperMissing.call(depth0, \"__\", \"This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/itemSessionControl/allowSkipping -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"itemref-allow-skipping\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Allow Skipping\", options) : helperMissing.call(depth0, \"__\", \"Allow Skipping\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"itemref-allow-skipping\\\" value=\\\"true\\\" checked=\\\"checked\\\" data-bind=\\\"itemSessionControl.allowSkipping\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"If the candidate can skip the item, without submitting a response.\", options) : helperMissing.call(depth0, \"__\", \"If the candidate can skip the item, without submitting a response.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n\\n    </div>\\n\\n    <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .itemref-time-limits\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Time Limits\", options) : helperMissing.call(depth0, \"__\", \"Time Limits\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/timeLimits -->\\n    <div class=\\\"itemref-time-limits toggled\\\">\\n\\n\\n\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/timeLimits/maxTime -->\\n        <div class=\\\"grid-row\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"itemref-max-time\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum Duration\", options) : helperMissing.call(depth0, \"__\", \"Maximum Duration\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <input type=\\\"text\\\" name=\\\"max-time\\\" value=\\\"00:00:00\\\" data-duration=\\\"HH:mm:ss\\\" data-bind=\\\"timeLimits.maxTime\\\" data-bind-encoder=\\\"time\\\" />\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum duration for this item.\", options) : helperMissing.call(depth0, \"__\", \"Maximum duration for this item.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/timeLimits/allowLateSubmission -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"itemref-allow-late-submission\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Late submission allowed\", options) : helperMissing.call(depth0, \"__\", \"Late submission allowed\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"itemref-allow-late-submission\\\" value=\\\"true\\\" data-bind=\\\"timeLimits.allowLateSubmission\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Whether a candidate's response that is beyond the maximum duration of the item should still be accepted.\", options) : helperMissing.call(depth0, \"__\", \"Whether a candidate's response that is beyond the maximum duration of the item should still be accepted.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/rubricblock-props', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\";\n\n\n  buffer += \"<div class=\\\"rubricblock-props props clearfix\\\">\\n\\n    <h3>\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Rubric Block\", options) : helperMissing.call(depth0, \"__\", \"Rubric Block\", options)))\n    + \": \";\n  if (helper = helpers.index) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.index); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h3>\\n\\n <!--assessmentTest/testPart/assessmentSection/sectionPart/rubrickBlocK/views -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"itemref-identifier\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Views\", options) : helperMissing.call(depth0, \"__\", \"Views\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <select name=\\\"view\\\" multiple=\\\"multiple\\\" data-bind=\\\"views\\\">\\n                <option value=\\\"author\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Author\", options) : helperMissing.call(depth0, \"__\", \"Author\", options)))\n    + \"</option>\\n                <option value=\\\"candidate\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Candidate\", options) : helperMissing.call(depth0, \"__\", \"Candidate\", options)))\n    + \"</option>\\n                <option value=\\\"proctor\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Proctor\", options) : helperMissing.call(depth0, \"__\", \"Proctor\", options)))\n    + \"</option>\\n                <option value=\\\"scorer\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Scorer\", options) : helperMissing.call(depth0, \"__\", \"Scorer\", options)))\n    + \"</option>\\n                <option value=\\\"testConstructor\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Test constructor\", options) : helperMissing.call(depth0, \"__\", \"Test constructor\", options)))\n    + \"</option>\\n                <option value=\\\"tutor\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Tutor\", options) : helperMissing.call(depth0, \"__\", \"Tutor\", options)))\n    + \"</option>\\n            </select>\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Who can view the rubric block during the delivery.\", options) : helperMissing.call(depth0, \"__\", \"Who can view the rubric block during the delivery.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","define('taoQtiTest/controller/creator/templates/index',[\n'tpl!taoQtiTest/controller/creator/templates/testpart',\n'tpl!taoQtiTest/controller/creator/templates/section', \n'tpl!taoQtiTest/controller/creator/templates/rubricblock', \n'tpl!taoQtiTest/controller/creator/templates/itemref',\n'tpl!taoQtiTest/controller/creator/templates/item',\n'tpl!taoQtiTest/controller/creator/templates/test-props',\n'tpl!taoQtiTest/controller/creator/templates/testpart-props', \n'tpl!taoQtiTest/controller/creator/templates/section-props', \n'tpl!taoQtiTest/controller/creator/templates/itemref-props', \n'tpl!taoQtiTest/controller/creator/templates/rubricblock-props'], \n\nfunction(testPart, section, rubricBlock, itemRef, item, testProps, testPartProps, sectionProps, itemRefProps, rubricBlockProps){\n    'use strict';\n\n    /**\n     * Expose all the templates used by the test creator\n     * @exports taoQtiTest/controller/creator/templates/index\n     */\n    return {\n        'testpart'      : testPart,\n        'section'       : section,\n        'itemref'       : itemRef,\n        'item'          : item,\n        'rubricblock'   : rubricBlock,\n        'properties'    : {\n            'test'      : testProps,\n            'testpart'  : testPartProps,\n            'section'   : sectionProps,\n            'itemref'   : itemRefProps,\n            'rubricblock'   : rubricBlockProps\n        }\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/item',['jquery', 'taoQtiTest/controller/creator/templates/index'], function($, templates){\n    'use strict';\n  \n    var itemTemplate = templates.item;\n \n   /**\n     * The ItemView setup items related components\n     * @exports taoQtiTest/controller/creator/views/item\n     * @param {Function} loadItems - the function used to get items from the server\n     */\n   var itemView =  function(loadItems){\n            \n        var $panel     = $('.test-creator-items .item-selection'); \n        var $search    = $('#item-filter');\n        var $itemBox   = $('.item-box', $panel);\n        \n        if(typeof loadItems === 'function'){\n            //search pattern is empty the 1st time, give it undefined\n            loadItems(undefined, function(items){\n                update(items);\n                setUpLiveSearch();\n            });\n        }\n        \n        /**\n         * Set up the search behavior: once 3 chars are enters into the field,\n         * we load the items that matches the given search pattern.\n         * @private\n         */\n        function setUpLiveSearch (){\n            var timeout;\n            \n            var liveSearch = function(){\n                var pattern = $search.val();\n                if(pattern.length > 1 || pattern.length === 0){\n                    clearTimeout(timeout);\n                    timeout = setTimeout(function(){\n                        loadItems(pattern, function(items){\n                            update(items);\n                        });\n                    }, 300);\n                }\n            };\n            \n            //trigger the search on keyp and on the magnifer button click\n            $search.keyup(liveSearch)\n                     .siblings('.ctrl').click(liveSearch);\n        }\n        \n        /**\n         * Update the items list\n         * @private\n         * @param {Array} items - the new items\n         */\n        function update (items){\n            disableSelection();\n            $itemBox.empty().append(itemTemplate(items));\n            enableSelection();\n        }\n    \n        /**\n         * Disable the selectable component\n         * @private\n         * @param {Array} items - the new items\n         */\n        function disableSelection (){\n            if($panel.data('selectable')){\n                $panel.selectable('disable');\n            }\n        }\n    \n        /**\n         * Enable to select items to be added to sections\n         * using the jquery-ui selectable.\n         * @private\n         */\n        function enableSelection (){\n            \n            if($panel.data('selectable')){\n                $panel.selectable('enable');\n            } else {\n                $panel.selectable({\n                    filter: 'li',\n                    selected: function( event, ui ) {\n                        $(ui.selected).addClass('selected');\n                    },\n                    unselected: function( event, ui ) {\n                        $(ui.unselected).removeClass('selected');\n                    },\n                    stop: function(){\n                        $(this).trigger('itemselect.creator', $('.selected')); \n                    }\n                });\n            }\n        }\n   };\n    \n    return itemView;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/property',[\n'jquery', \n'ui', \n'core/databinder', \n'taoQtiTest/controller/creator/templates/index'], \nfunction($, ui, DataBinder, templates){\n    'use strict';\n\n    /**\n     * @callback PropertyViewCallback\n     * @param {propertyView} propertyView - the view object \n     */\n   \n    /**\n     * The PropertyView setup the property panel component\n     * \n     * @exports taoQtiTest/controller/creator/views/property\n     */\n   var propView = function propView(tmplName, model){\n       var $container = $('.test-creator-props');\n       var template = templates.properties[tmplName];\n       var $view;       \n\n       /**\n        * Opens the view for the 1st time\n        */ \n       var open = function propOpen(){\n            var databinder;\n            $container.children('.props').hide().trigger('propclose.propview');\n            $view = $(template(model)).appendTo($container).filter('.props'); \n            \n            //start listening for DOM compoenents inside the view\n            ui.startDomComponent($view);\n\n            //start the data binding\n            databinder = new DataBinder($view, model);\n            databinder.bind();\n    \n            propValidation(); \n\n            $view.trigger('propopen.propview');\n       };\n\n       /**\n        * Get the view container element\n        * @returns {jQueryElement}\n        */  \n       var getView = function propGetView(){\n            return $view;\n       };\n           \n       /**\n        * Check wheter the view is displayed\n        * @returns {boolean} true id opened\n        */  \n       var isOpen = function propIsOpen(){\n            return $view.css('display') !== 'none';\n       };\n\n       /**\n        * Bind a callback on view open\n        * @param {PropertyViewCallback} cb\n        */  \n       var onOpen = function propOnOpen(cb){\n            $view.on('propopen.propview', function(e){\n                e.stopPropagation();\n                cb(); \n            });\n       };\n\n       \n       /**\n        * Bind a callback on view close\n        * @param {PropertyViewCallback} cb\n        */  \n       var onClose = function propOnClose(cb){\n            $view.on('propclose.propview', function(e){\n                e.stopPropagation();\n                cb(); \n            });\n       };\n\n       /**\n        * Removes the property view\n        */  \n       var destroy = function propDestroy(){\n            $view.remove();\n       };\n       \n       /**\n        * Toggles the property view display\n        */  \n       var toggle = function propToggle(){\n            $container.children('.props').not($view).hide().trigger('propclose.propview');\n            if(isOpen()){\n                $view.hide().trigger('propclose.propview');\n            } else {\n                $view.show().trigger('propopen.propview');\n            }\n       };\n      \n       /**\n        * Set up the validation on the property view\n        * @private\n        */  \n       function propValidation() {\n            $view.on('validated.group', function(e, isValid){\n                if(e.namespace === 'group'){\n                    var $togglers = $('#test-creator .property-toggler, #saver');\n                    if(isValid === true){\n                        $togglers.removeClass('disabled');\n                    } else {\n                        $togglers.addClass('disabled');\n                    }\n                }\n            });\n            $view.groupValidator();\n        }\n\n      return {\n        open : open,\n        getView : getView,\n        isOpen : isOpen,\n        onOpen : onOpen,\n        onClose : onClose,\n        destroy : destroy,\n        toggle : toggle\n      }; \n   };\n\n   return propView;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/actions',[\n'jquery', \n'taoQtiTest/controller/creator/views/property'], \nfunction($, propertyView){\n    'use strict';\n\n    var disabledClass = 'disabled';\n    var activeClass = 'active';\n    var btnOnClass = 'tlb-button-on';\n\n    /**\n     * Set up the property view for an element\n     * @param {jQueryElement} $container - that contains the property opener\n     * @param {String} template - the name of the template to give to the propertyView\n     * @param {Object} model - the model to bind\n     * @param {PropertyViewCallback} cb - execute at view setup phase\n     */ \n    function properties ($container, template, model, cb) {\n        var propView = null;\n        $container.find('.property-toggler').on('click', function(e){\n            e.preventDefault();\n            var $elt = $(this);\n            if(!$(this).hasClass(disabledClass)){\n\n                $elt.blur(); //to remove the focus\n\n                if(propView === null){\n\n                    $container.addClass(activeClass);\n                    $elt.addClass(btnOnClass);\n\n                    propView = propertyView(template, model);\n                    propView.open();\n                    \n                    propView.onOpen(function(){\n                        $container.addClass(activeClass);\n                        $elt.addClass(btnOnClass);\n                    });\n                    propView.onClose(function(){\n                        $container.removeClass(activeClass);\n                        $elt.removeClass(btnOnClass);\n                    });\n\n                    if(typeof cb === 'function'){\n                        cb(propView);\n                    }\n                } else { \n                    propView.toggle();\n                } \n            }\n        });\n    }\n\n\n    /**\n     * Enable to move an element\n     * @param {jQueryElement} $actionContainer - where the mover is\n     * @param {String} containerClass - the cssClass of the element container\n     * @param {String} elementClass - the cssClass to identify elements \n     */ \n    function move ($actionContainer, containerClass, elementClass) {\n        var $element = $actionContainer.parents('.' + elementClass);\n        var $container = $element.parents('.' + containerClass ); \n   \n        //move up an element\n        $('.move-up', $actionContainer).click(function(e){\n            var $elements, index;\n    \n            //prevent default and click during animation\n            e.preventDefault();\n            if($element.is(':animated')){\n                return false;\n            }\n    \n            //get the position\n            $elements = $('.' + elementClass, $container);\n            console.log($elements.length);\n            index = $elements.index($element);\n            if (index > 0) {\n                $element.fadeOut(200, function(){\n                    console.log('.' + elementClass + ' :eq(' + (index - 1) + ')');\n                    $element\n                        .insertBefore($('.' + elementClass + ' :eq(' + (index - 1) + ')', $container))\n                        .fadeIn(400, function(){\n                            $container.trigger('change');\n                        });\n                });\n            }\n        });\n\n        //move down an element\n        $('.move-down', $actionContainer).click(function(e){\n            var $elements, index;\n    \n            //prevent default and click during animation\n            e.preventDefault();\n            if($element.is(':animated')){\n                return false;\n            }\n\n            //get the position\n            $elements = $('.' + elementClass, $container);\n            console.log($elements.length);\n            index = $elements.index($element);\n            if (index < ($elements.length - 1) && $elements.length > 1) {\n\n                console.log('.' + elementClass + ' :eq(' + (index + 1) + ')');\n                $element.fadeOut(200, function(){\n                    $element\n                        .insertAfter($('.' + elementClass + ' :eq(' + (index + 1) + ')', $container))\n                        .fadeIn(400, function(){\n                            $container.trigger('change');\n                        });\n                });\n            }\n        });\n    }\n   \n    /**\n     * Update the movable state of an element\n     * @param {jQueryElement} $container - the movable elements (scopped) \n     * @param {String} elementClass - the cssClass to identify elements \n     * @param {String} actionContainerElt - the element name that contains the actions \n     */ \n    function movable ($container, elementClass, actionContainerElt){\n        $container.each(function(){\n            var $elt = $(this);\n            var $actionContainer = $(actionContainerElt, $elt);\n\n            var index = $container.index($elt);\n            var $moveUp = $('.move-up', $actionContainer);\n            var $moveDown = $('.move-down', $actionContainer);\n            \n            //only one test part, no moving               \n            if( $container.length === 1 ){\n                $moveUp.addClass(disabledClass);\n                $moveDown.addClass(disabledClass);\n\n            //testpart is the first, only moving down\n            } else if(index === 0) {\n                $moveUp.addClass(disabledClass);\n                $moveDown.removeClass(disabledClass);\n\n            //testpart is the lasst, only moving up\n            } else if ( index >= ($container.length - 1) ) {\n                $moveDown.addClass(disabledClass);\n                $moveUp.removeClass(disabledClass);\n            \n            //or enable moving top/bottom\n            } else {\n                $moveUp.removeClass(disabledClass);\n                $moveDown.removeClass(disabledClass);\n            }\n         });\n    }\n\n    /**\n     * Update the removable state of an element\n     * @param {jQueryElement} $container - that contains the removable action\n     * @param {String} actionContainerElt - the element name that contains the actions \n     */ \n    function removable ($container, actionContainerElt){\n        $container.each(function(){\n            var $elt = $(this);\n            var $actionContainer = $(actionContainerElt, $elt);\n            var $delete = $('[data-delete]', $actionContainer);\n\n            if($container.length <= 1){\n                $delete.addClass(disabledClass);\n            } else {\n                $delete.removeClass(disabledClass);\n            }\n        });\n    }\n\n    /**\n     * Disable all the actions of the target\n     * @param {jQueryElement} $container - that contains the the actions\n     * @param {String} actionContainerElt - the element name that contains the actions \n     */ \n    function disable($container, actionContainerElt){\n        $container.find(actionContainerElt).find('[data-delete],.move-up,.move-down').addClass(disabledClass);    \n    }\n    \n    /**\n     * Enable all the actions of the target\n     * @param {jQueryElement} $container - that contains the the actions\n     * @param {String} actionContainerElt - the element name that contains the actions \n     */ \n    function enable($container, actionContainerElt){\n        $container.find(actionContainerElt).find('[data-delete],.move-up,.move-down').removeClass(disabledClass);    \n    }\n\n    /**\n     * The actions gives you shared behavior for some actions. \n     * \n     * @exports taoQtiTest/controller/creator/views/actions\n     */\n    return {\n        properties  : properties,\n        move        : move,\n        removable   : removable,\n        movable     : movable,\n        disable     : disable,\n        enable      : enable\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/itemref',[\n'jquery',\n'lodash', \n'i18n',\n'taoQtiTest/controller/creator/views/actions'],\nfunction($, _, __, actions){\n    'use strict';\n\n   /**\n    * Set up an item ref: init action beahviors. Called for each one.\n    *\n    * @param {jQueryElement} $itemRef - the itemRef element to set up\n    * @param {Object} model - the data model to bind to the ref\n    */\n   var setUp =  function setUp ($itemRef, model){\n\n        var $actionContainer = $('.actions', $itemRef);\n        \n        actions.properties($actionContainer, 'itemref', model, propHandler);\n        actions.move($actionContainer, 'itemrefs', 'itemref');\n\n        resize();\n\n        /**\n         * Perform some binding once the property view is create\n         * @private\n         * @param {propView} propView - the view object\n         */\n        function propHandler (propView) {\n\n            categoriesProperty(propView.getView().find('[name=itemref-category]'));\n            \n            $itemRef.parents('.testpart').on('delete', removePropHandler);\n            $itemRef.parents('.section').on('delete', removePropHandler);\n            $itemRef.on('delete', removePropHandler);\n            \n            function removePropHandler(e){\n                if(propView !== null){\n                    propView.destroy();\n                }\n            }\n        }\n\n        /**\n         * Set up the category property\n         * @private\n         * @param {jQueryElement} $select - the select box to set up\n         */\n        function categoriesProperty($select){\n            $select.select2({\n                width: '100%',\n                tags : [],\n                multiple : true,\n                tokenSeparators: [\",\", \" \", \";\"],\n                formatNoMatches : function(){\n                    return __('Enter a category');\n                },\n                maximumInputLength : 32\n            });\n        }\n   };\n\n   /**\n    * Listen for state changes to enable/disable . Called globally.\n    */\n   var listenActionState =  function listenActionState (){\n\n        var $actionContainer;\n        \n        $('.itemrefs').each(function(){\n            actions.movable($('.itemref', $(this)), 'itemref', '.actions');\n        });\n       \n        $(document)\n        .on('delete', function(e){\n            var $parent;\n            var $target = $(e.target);\n            if($target.hasClass('itemref')){\n                $parent = $target.parents('.itemrefs');\n                actions.disable($parent.find('.itemref'), '.actions');\n           }\n        })\n        .on('add change undo.deleter deleted.deleter', '.itemrefs',  function(e){\n            var $parent;\n            var $target = $(e.target);\n            if($target.hasClass('itemref') || $target.hasClass('itemrefs')){\n                $parent = $('.itemref', $target.hasClass('itemrefs') ? $target : $target.parents('.itemrefs'));\n                actions.enable($parent, '.actions');\n                actions.movable($parent, 'itemref', '.actions');\n            }\n        });\n   };\n\n    /**\n     * We need to resize the itemref in case of long labels\n     */\n    var resize = _.throttle(function resize(){\n        var $refs = $('.itemrefs').first();\n        var $actions = $('.itemref .actions').first();\n        var width = $refs.innerWidth() - $actions.outerWidth();\n        $('.itemref > .title').width(width); \n    }, 100);\n    \n    /**\n     * The itemrefView setup itemref related components and beahvior\n     * \n     * @exports taoQtiTest/controller/creator/views/itemref\n     */\n    return {\n        setUp : setUp,\n        listenActionState: listenActionState,\n        resize : resize\n   };\n \n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoQtiTest/controller/creator/helpers/ckConfigurator',['ui/ckeditor/ckConfigurator', 'mathJax'], function(ckConfigurator, mathJax) {\n    'use strict';\n\n    /**\n     * Generate a configuration object for CKEDITOR\n     *\n     * @param editor instance of ckeditor\n     * @param toolbarType block | inline | flow | qtiBlock | qtiInline | qtiFlow | reset to get back to normal\n     * @param {Object} [options] - is based on the CKEDITOR config object with some additional sugar\n     *        Note that it's here you need to add parameters for the resource manager.\n     *        Some options are not covered in http://docs.ckeditor.com/#!/api/CKEDITOR.config\n     * @param [options.dtdOverrides] - @see dtdOverrides which pre-defines them\n     * @param {Object} [options.positionedPlugins] - @see ckConfig.positionedPlugins\n     * @param {Boolean} [options.qtiImage] - enables the qtiImage plugin\n     * @param {Boolean} [options.qtiInclude] - enables the qtiInclude plugin\n     * @param {Boolean} [options.underline] - enables the underline plugin\n     * @param {Boolean} [options.mathJax] - enables the mathJax plugin\n     *\n     * @see http://docs.ckeditor.com/#!/api/CKEDITOR.config\n     */\n    var getConfig = function(editor, toolbarType, options){\n        options = options || {};\n\n        options.underline = true;\n\n        return ckConfigurator.getConfig(editor, toolbarType, options);\n    };\n\n    return {\n        getConfig : getConfig\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/rubricblock',[\n    'jquery',\n    'lodash',\n    'taoQtiTest/controller/creator/views/actions',\n    'helpers',\n    'ckeditor',\n    'taoQtiTest/controller/creator/helpers/ckConfigurator'\n], function($, _, actions, helpers, ckeditor, ckConfigurator){ // qtiClasses, creatorRenderer, XmlRenderer, simpleParser){\n    'use strict';\n\n    //compute ckeditor config only once\n    var ckConfig = ckConfigurator.getConfig(ckeditor, 'qtiBlock');\n\n    var filterPlugin = function filterPlugin(plugin){\n        return _.contains(['taoqtiimage', 'taoqtimedia','taoqtimaths', 'taoqtiinclude'], plugin);\n    };\n    ckConfig.plugins = _.reject(ckConfig.plugins.split(','), filterPlugin).join(',');\n    ckConfig.extraPlugins = _.reject(ckConfig.extraPlugins.split(','), filterPlugin).join(',');\n\n    /**\n     * Set up a rubric block: init action beahviors. Called for each one.\n     *\n     * @param {jQueryElement} $rubricBlock - the rubricblock to set up\n     */\n    var setUp = function setUp($rubricBlock, model, data){\n\n        actions.properties($rubricBlock, 'rubricblock', model, propHandler);\n        setUpEditor();\n\n        /**\n         * Perform some binding once the property view is create\n         * @private\n         * @param {propView} propView - the view object\n         */\n        function propHandler(propView){\n\n            rbViews(propView.getView());\n\n            $rubricBlock.parents('.testpart').on('delete', removePropHandler);\n            $rubricBlock.parents('.section').on('delete', removePropHandler);\n            $rubricBlock.on('delete', removePropHandler);\n\n            function removePropHandler(e){\n                if(propView !== null){\n                    propView.destroy();\n                }\n            }\n        }\n\n        /**\n         * Set up the views select box\n         * @private\n         * @param {jQuerElement} $propContainer - the element container\n         */\n        function rbViews($propContainer){\n            var $select = $('select', $propContainer);\n\n            $select.select2({\n                'width' : '100%'\n            }).on(\"select2-removed\", function(e){\n                if($select.select2('val').length === 0){\n                    $select.select2('val', [1]);\n                }\n            });\n\n            if($select.select2('val').length === 0){\n                $select.select2('val', [1]);\n            }\n        }\n\n        /**\n         * Set up ck editor\n         * @private\n         */\n        function setUpEditor(){\n            var editor;\n\n            //we need to synchronize the ck elt with an hidden elt that has data-binding\n            var $rubricBlockBinding = $('.rubricblock-binding', $rubricBlock);\n            var $rubricBlockContent = $('.rubricblock-content', $rubricBlock);\n            var syncRubricBlockContent = _.throttle(function(){\n                 $rubricBlockBinding\n                    .html($rubricBlockContent.html())\n                    .trigger('change');\n            }, 100);\n\n            $rubricBlockContent.empty().html($rubricBlockBinding.html());\n\n            editor = ckeditor.inline($rubricBlockContent[0], ckConfig);\n            editor.on('change', function(e) {\n                syncRubricBlockContent();\n            });\n        }\n    };\n\n    /**\n     * The rubriclockView setup RB related components and beahvior\n     *\n     * @exports taoQtiTest/controller/creator/views/rubricblock\n     */\n    return {\n        setUp : setUp\n    };\n\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/helpers/qtiTest',['lodash', 'i18n'], function(_, __){\n    'use strict';\n\n    /**\n     * Utils to manage the QTI Test model\n     * @exports taoQtiTest/controller/creator/qtiTestHelper\n     */\n    var qtiTestHelper = {\n\n        /**\n         * Extract qti identifiers from a model\n         * @param {Object} obj - the model to extract id from\n         * @returns {Array} the extracted identifiers\n         */\n        extractIdentifiers : function(obj){\n            var self = this;\n            var identifiers = [];\n            if(_.has(obj, 'identifier')){\n                identifiers = identifiers.concat(obj.identifier.toLowerCase());\n            }\n            _.flatten(_.forEach(obj, function(value) {\n                identifiers = identifiers.concat(typeof value === \"object\" ? self.extractIdentifiers(value) : []);\n            }), true);\n            return identifiers;\n        },\n\n        /**\n         * Get a valid and avialable qti identifier\n         * @param {String} qtiType - the type of element you want an id for\n         * @param {Array} lockedIdentifiers - the list of identifiers you cannot use anymore\n         * @returns {String} the identifier\n         */\n        getIdentifier : function(qtiType, lockedIdentifiers){\n            var index = 1;\n            var suggestion;\n            var glue =  '-';\n\n            do {\n                suggestion = qtiType +  glue + (index++);\n            } while(_.contains(lockedIdentifiers, suggestion.toLowerCase()));\n\n            lockedIdentifiers.push(suggestion.toLowerCase());\n\n            return suggestion;\n        },\n\n        /**\n         * Gives you a validator that check QTI id format\n         * @returns {Object} the validator\n         */\n        idFormatValidator : function(){\n            var qtiIdPattern = /^[_a-zA-Z]{1}[a-zA-Z0-9\\-._]{0,31}$/i;\n            return {\n                name : 'testIdFormat',\n                message : __('is not a valid identifier (alphanum, underscore, dash and dots.)'),\n                validate : function(value, callback){\n                    if(typeof callback === 'function'){\n                        callback(qtiIdPattern.test(value));\n                    }\n                }\n            };\n        },\n\n\n        /**\n         * Gives you a validator that check if a QTI id is available\n         * @param {Array} lockedIdentifiers - the list of identifiers you cannot use anymore\n         * @returns {Object} the validator\n         */\n        idAvailableValidator : function(lockedIdentifiers){\n            return {\n                name : 'testIdAvailable',\n                message : __('is already used in the test.'),\n                validate : function(value, callback, options){\n                    if(typeof callback === 'function'){\n                        callback(!_.contains(_.values(lockedIdentifiers), value.toLowerCase()) || (options.original && value === options.original));\n                    }\n                }\n            };\n        },\n\n        /**\n         * Does the value contains the type type\n         * @param {Object} value\n         * @param {string} type\n         * @returns {boolean}\n         */\n        filterQtiType : function (value, type){\n             return value['qti-type'] && value['qti-type'] === type;\n        },\n\n        /**\n         * Add the 'qti-type' properties to object that miss it, using the parent key name\n         * @param {Object|Array} collection\n         * @param {string} parentType\n         */\n        addMissingQtiType : function (collection, parentType) {\n              var self = this;\n              _.forEach(collection, function(value, key) {\n                if (_.isObject(value) && !_.isArray(value) && !_.has(value, 'qti-type')) {\n                    if (_.isNumber(key)) {\n                        if (parentType) {\n                            value['qti-type'] = parentType;\n                        }\n                    } else {\n                        value['qti-type'] = key;\n                    }\n                }\n                if (_.isArray(value)) {\n                    self.addMissingQtiType(value, key.replace(/s$/, ''));\n                } else if (_.isObject(value)) {\n                   self.addMissingQtiType(value);\n                }\n            });\n        },\n\n        /**\n         * Applies consolidation rules to the model\n         * @param {Object} model\n         * @returns {Object}\n         */\n        consolidateModel : function(model){\n            if(model && model.testParts && _.isArray(model.testParts) && model.testParts[0]){\n                var testPart = model.testParts[0];\n                if(testPart.assessmentSections && _.isArray(testPart.assessmentSections)){\n                     _.forEach(testPart.assessmentSections, function(assessmentSection, key) {\n\n                         //remove ordering is shuffle is false\n                         if(assessmentSection.ordering &&\n                                 assessmentSection.ordering.shuffle !== undefined && assessmentSection.ordering.shuffle === false){\n                             delete assessmentSection.ordering;\n                         }\n\n                          if(assessmentSection.rubricBlocks && _.isArray(assessmentSection.rubricBlocks)) {\n\n                              //remove rubrick blocks if empty\n                              if (assessmentSection.rubricBlocks.length === 0 ||\n                                      (assessmentSection.rubricBlocks.length === 1 && assessmentSection.rubricBlocks[0].content.length === 0) ) {\n\n                                  delete assessmentSection.rubricBlocks;\n                              }\n                              //ensure the view attribute is present\n                              else if(assessmentSection.rubricBlocks.length > 0){\n                                _.forEach(assessmentSection.rubricBlocks, function(rubricBlock){\n                                        rubricBlock.views = ['candidate'];\n                                        //change once views are supported\n                                        //if(rubricBlock && rubricBlock.content && (!rubricBlock.views || (_.isArray(rubricBlock.views) && rubricBlock.views.length === 0))){\n                                            //rubricBlock.views = ['candidate'];\n                                        //}\n                                  });\n                              }\n                        }\n                     });\n                }\n            }\n            return model;\n        }\n    };\n\n    return  qtiTestHelper;\n});\n\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/section',[\n    'jquery', 'lodash', 'uri',\n    'taoQtiTest/controller/creator/views/actions',\n    'taoQtiTest/controller/creator/views/itemref',\n    'taoQtiTest/controller/creator/views/rubricblock',\n    'taoQtiTest/controller/creator/templates/index',\n    'taoQtiTest/controller/creator/helpers/qtiTest'\n],\nfunction($, _, uri, actions, itemRefView, rubricBlockView, templates, qtiTestHelper){\n    'use strict';\n\n   /**\n    * Set up a section: init action beahviors. Called for each section.\n    *\n    * @param {jQueryElement} $sectuin - the section to set up\n    * @param {Object} model - the data model to bind to the test part\n    * @param {Object} [data] - additionnal data used by the setup\n    * @param {Array} [data.identifiers] - the locked identifiers\n    */\n   var setUp = function setUp ($section, model, data){\n\n        var $actionContainer = $('h2', $section);\n\n\n        actions.properties($actionContainer, 'section', model, propHandler);\n        actions.move($actionContainer, 'sections', 'section');\n        itemRefs();\n        acceptItemRefs();\n        rubricBlocks();\n        addRubricBlock();\n\n        //trigger for the case the section is added an a selection is ongoing\n\n\n        /**\n         *  Perform some binding once the property view is create\n         *  @param {propView} propView - the view object\n         */\n        function propHandler (propView) {\n\n            var $view = propView.getView();\n\n           //enable/disable selection\n           var $selectionSwitcher = $('[name=section-enable-selection]', $view);\n           var $selectionSelect = $('[name=section-select]', $view);\n           var $selectionWithRep = $('[name=section-with-replacement]', $view);\n\n           var switchSelection = function switchSelection(){\n                if($selectionSwitcher.prop('checked') === true){\n                   $selectionSelect.incrementer('enable');\n                   $selectionWithRep.removeClass('disabled');\n                } else {\n                   $selectionSelect.incrementer('disable');\n                   $selectionWithRep.addClass('disabled');\n                }\n           };\n           $selectionSwitcher.on('change', switchSelection);\n           $selectionSwitcher.on('change', function updateModel(){\n                if(!$selectionSwitcher.prop('checked')){\n                    $selectionSelect.val(0);\n                    $selectionWithRep.prop('checked', false);\n                    delete model.selection;\n                }\n           });\n\n           $selectionSwitcher.prop('checked', !!model.selection).trigger('change');\n\n           //listen for databinder change to update the test part title\n           var $title =  $('[data-bind=title]', $section);\n           $view.on('change.binder', function(e, model){\n                if(e.namespace === 'binder' && model['qti-type'] === 'assessmentSection'){\n                    $title.text(model.title);\n                }\n            });\n\n            $section.parents('.testpart').on('deleted.deleter', removePropHandler);\n            $section.on('deleted.deleter', removePropHandler);\n\n            function removePropHandler(){\n                if(propView !== null){\n                    propView.destroy();\n                }\n            }\n        }\n\n        /**\n         * Set up the item refs that already belongs to the section\n         * @private\n         */\n        function itemRefs(){\n\n            if(!model.sectionParts){\n                model.sectionParts = [];\n            }\n            $('.itemref', $section).each(function(){\n                var $itemRef = $(this);\n                var index = $itemRef.data('bind-index');\n                if(!model.sectionParts[index]){\n                    model.sectionParts[index] = {};\n                }\n\n                itemRefView.setUp($itemRef, model.sectionParts[index]);\n                $itemRef.find('.title').text(\n                    data.labels[uri.encode($itemRef.data('uri'))]\n                );\n            });\n        }\n\n        /**\n         * Make the section to accept the selected items\n         * @private\n         */\n        function acceptItemRefs(){\n            var $selected;\n            var $items     = $('.test-creator-items');\n\n             //the item selector trigger a select event\n             $items.on('itemselect.creator', function(e){\n                var selection = Array.prototype.slice.call(arguments, 1);\n                var $placeholder = $('.itemref-placeholder', $section);\n                var $placeholders = $('.itemref-placeholder');\n\n                if(selection.length > 0){\n                    $placeholder.show().off('click').on('click', function(e){\n\n                        _.forEach(selection, function(item){\n                            var $item = $(item);\n\n                            addItemRef($('.itemrefs', $section), undefined, {\n                                href        : uri.decode($item.data('uri')),\n                                label       : $.trim($item.clone().children().remove().end().text()),\n                                'qti-type'  : 'assessmentItemRef'\n                            });\n                        });\n\n                        //reset the current selection\n                        $('.ui-selected', $items).removeClass('ui-selected').removeClass('selected');\n                        $placeholders.hide().off('click');\n                    });\n                } else {\n                    $placeholders.hide().off('click');\n                }\n             });\n\n\n            //we listen the event not from the adder but  from the data binder to be sure the model is up to date\n            $(document)\n              .off('add.binder', '#' + $section.attr('id') + ' .itemrefs')\n              .on('add.binder', '#' + $section.attr('id') + ' .itemrefs', function(e, $itemRef){\n                if(e.namespace === 'binder' && $itemRef.hasClass('itemref')){\n                    var index = $itemRef.data('bind-index');\n\n                    //initialize the new item ref\n                    itemRefView.setUp($itemRef, model.sectionParts[index]);\n                }\n            });\n\n            //on set up, if there is a selection ongoing, we trigger the event\n            $selected = $('.selected', $items);\n            if($selected.length > 0){\n                $items.trigger('itemselect.creator', $selected);\n            }\n\n        }\n\n        /**\n         * Add a new item ref to the section\n         * @param {jQueryElement} $refList - the element to add the item to\n         * @param {Number} [index] - the position of the item to add\n         * @param {Object} [itemData] - the data to bind to the new item ref\n         */\n        function addItemRef($refList, index, itemData){\n           var $itemRef;\n           var $items = $refList.children('li');\n           index = index || $items.length;\n           itemData.identifier = qtiTestHelper.getIdentifier('item', data.identifiers);\n           itemData.index = index + 1;\n           $itemRef = $(templates.itemref(itemData));\n           if(index > 0){\n               $itemRef.insertAfter($items.eq(index - 1));\n           } else {\n               $itemRef.appendTo($refList);\n           }\n           $refList.trigger('add', [$itemRef, itemData]);\n        }\n\n\n        /**\n         * Set up the rubric blocks that already belongs to the section\n         * @private\n         */\n        function rubricBlocks () {\n            if(!model.rubricBlocks){\n                model.rubricBlocks = [];\n            }\n            $('.rubricblock', $section).each(function(){\n                var $rubricBlock = $(this);\n                var index = $rubricBlock.data('bind-index');\n                if(!model.rubricBlocks[index]){\n                    model.rubricBlocks[index] = {};\n                }\n\n                rubricBlockView.setUp($rubricBlock, model.rubricBlocks[index], data);\n            });\n\n            //opens the rubric blocks section if they are there.\n            if(model.rubricBlocks.length > 0){\n                $('.rub-toggler', $section).trigger('click');\n            }\n        }\n\n        /**\n         * Enable to add new rubrick block\n         * @private\n         */\n        function addRubricBlock () {\n\n            $('.rublock-adder', $section).adder({\n                target: $('.rubricblocks', $section),\n                content : templates.rubricblock,\n                templateData : function(cb){\n                    cb({\n                        'qti-type' : 'rubricBlock',\n                        index  : $('.rubricblock', $section).length,\n                        content : [],\n                        views : [1]\n                    });\n                }\n            });\n\n            //we listen the event not from the adder but  from the data binder to be sure the model is up to date\n            $(document).on('add.binder', '#' + $section.attr('id') + ' .rubricblocks', function(e, $rubricBlock){\n                if(e.namespace === 'binder' && $rubricBlock.hasClass('rubricblock')){\n                    var index = $rubricBlock.data('bind-index');\n                    $('.rubricblock-binding', $rubricBlock).html('<p>&nbsp;</p>');\n                    rubricBlockView.setUp($rubricBlock, model.rubricBlocks[index], data);\n                }\n            });\n        }\n   };\n\n   /**\n    * Listen for state changes to enable/disable . Called globally.\n    */\n   var listenActionState =  function listenActionState (){\n\n        var $sections;\n        var $actionContainer;\n\n        $('.sections').each(function(){\n            $sections = $('.section', $(this));\n\n            actions.removable($sections, 'h2');\n            actions.movable($sections, 'section', 'h2');\n        });\n\n        $(document)\n        .on('delete', function(e){\n            var $parent;\n            var $target = $(e.target);\n            if($target.hasClass('section')){\n                $parent = $target.parents('.sections');\n                actions.disable($parent.find('.section'), 'h2');\n           }\n        })\n        .on('add change undo.deleter deleted.deleter', function(e){\n            var $target = $(e.target);\n            if($target.hasClass('section') || $target.hasClass('sections')){\n                $sections = $('.section', $target.hasClass('sections') ? $target : $target.parents('.sections'));\n                actions.removable($sections, 'h2');\n                actions.movable($sections, 'section', 'h2');\n            }\n        })\n        .on('open.toggler', '.rub-toggler', function(e){\n            if(e.namespace === 'toggler'){\n               $(this).parents('h2').addClass('active');\n            }\n        })\n        .on('close.toggler', '.rub-toggler', function(e){\n            if(e.namespace === 'toggler'){\n               $(this).parents('h2').removeClass('active');\n            }\n        });\n   };\n\n\n   /**\n     * The sectionView setup section related components and beahvior\n     *\n     * @exports taoQtiTest/controller/creator/views/section\n     */\n    return {\n        setUp : setUp,\n        listenActionState: listenActionState\n   };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/testpart',[\n'jquery', 'lodash', \n'taoQtiTest/controller/creator/views/actions', \n'taoQtiTest/controller/creator/views/section',\n'taoQtiTest/controller/creator/templates/index', \n'taoQtiTest/controller/creator/helpers/qtiTest'],\nfunction($, _, actions, sectionView, templates, qtiTestHelper){\n    'use strict';\n\n   /**\n    * Set up a test part: init action beahviors. Called for each test part.\n    *\n    * @param {jQueryElement} $testPart - the testpart to set up\n    * @param {Object} model - the data model to bind to the test part\n    * @param {Object} [data] - additionnal data used by the setup\n    * @param {Array} [data.identifiers] - the locked identifiers\n    */\n   var setUp =  function setUp ($testPart, model, data){\n\n        var $actionContainer = $('h1', $testPart);\n\n        //run setup methods\n        actions.properties($actionContainer, 'testpart', model, propHandler);\n        actions.move($actionContainer, 'testparts', 'testpart');\n        sections();\n        addSection();\n\n        /**\n         * Perform some binding once the property view is created\n         * @private\n         * @param {propView} propView - the view object\n         */\n        function propHandler (propView) {\n            \n           var $view = propView.getView();\n\n            //listen for databinder change to update the test part title\n           var $identifier =  $('[data-bind=identifier]', $testPart);\n           $view.on('change.binder', function(e, model){\n                if(e.namespace === 'binder' && model['qti-type'] === 'testPart'){\n                    $identifier.text(model.identifier);\n                }\n            });\n\n            //destroy it when it's testpart is removed\n            $testPart.on('delete', function(e){\n                if(propView !== null){\n                    propView.destroy();\n                }\n            });\n        }\n\n        /**\n         * Set up sections that already belongs to the test part\n         * @private\n         */\n        function sections(){\n            if(!model.assessmentSections){\n                model.assessmentSections = [];\n            }                   \n            $('.section', $testPart).each(function(){\n                var $section = $(this);\n                var index = $section.data('bind-index');\n                if(!model.assessmentSections[index]){\n                    model.assessmentSections[index] = {};\n                }\n\n                sectionView.setUp($section, model.assessmentSections[index], data);\n            });\n        }\n\n        /**\n         * Enable to add new sections\n         * @private\n         */\n        function addSection(){\n            $('.section-adder', $testPart).adder({\n                target: $('.sections', $testPart),\n                content : templates.section,\n                templateData : function(cb){\n\n                    //create a new section model object to be bound to the template\n                    var sectionIndex = $('.section', $testPart).length;\n                    cb({\n                        'qti-type' : 'assessmentSection',\n                        identifier : qtiTestHelper.getIdentifier('assessmentSection',  data.identifiers),\n                        title : 'Section ' + (sectionIndex + 1),\n                        index : 0,\n                        sectionParts : []             \n                    });\n                }\n            });\n            \n                   \n \n            //we listen the event not from the adder but  from the data binder to be sure the model is up to date\n            $(document)\n              .off('add.binder', '#' + $testPart.attr('id') + ' .sections')\n              .on ('add.binder', '#' + $testPart.attr('id') + ' .sections', function(e, $section){\n                if(e.namespace === 'binder' && $section.hasClass('section')){\n                    var index = $section.data('bind-index'); \n                    //initialize the new test part\n                    sectionView.setUp($section, model.assessmentSections[index], data);\n                }\n            });\n        }\n\n   };\n   \n   /**\n    * Listen for state changes to enable/disable . Called globally.\n    */\n   var listenActionState =  function listenActionState (){\n\n        var $testParts = $('.testpart');\n        \n        actions.removable($testParts, 'h1');\n        actions.movable($testParts, 'testpart', 'h1');\n\n        $('.testparts')\n        .on('delete', function(e){\n            var $target = $(e.target);\n            if($target.hasClass('testpart')){\n                actions.disable($('.testpart'), 'h1');\n           }\n        })\n        .on('add change undo.deleter deleted.deleter', function(e){\n            var $target = $(e.target);\n\n            if($target.hasClass('testpart') || $target.hasClass('testparts')){\n                \n                //refresh\n                $testParts = $('.testpart');\n\n                //check state\n                actions.removable($testParts, 'h1');\n                actions.movable($testParts, 'testpart', 'h1');\n            }\n        });\n   };\n \n    /**\n     * The testPartView setup testpart related components and beahvior\n     * \n     * @exports taoQtiTest/controller/creator/views/testpart\n     */\n    return {\n        setUp : setUp,\n        listenActionState: listenActionState\n   }; \n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/test',[\n'jquery', 'lodash',\n'taoQtiTest/controller/creator/views/actions', \n'taoQtiTest/controller/creator/views/testpart',\n'taoQtiTest/controller/creator/templates/index',\n'taoQtiTest/controller/creator/helpers/qtiTest'\n], \nfunction($, _, actions, testPartView, templates, qtiTestHelper){\n    'use strict';\n \n   /**\n     * The TestView setup test related components and beahvior\n     * \n     * @exports taoQtiTest/controller/creator/views/test\n     * @param {Object} model - the data model to bind to the test\n     * @param {Object} [data] - additionnal data used by the setup\n     * @param {Array} [data.identifiers] - the locked identifiers\n     */\n   var testView = function testView (model, data) {\n       \n        actions.properties($('.test-creator-test > h1'), 'test', model, propHandler);\n        testParts();\n        addTestPart();\n\n        /**\n         * set up the exisiting test part views\n         * @private\n         */\n        function testParts () {\n            if(!model.testParts){\n                model.testParts = [];\n            }                   \n            $('.testpart').each(function(){\n                var $testPart = $(this);\n                var index = $testPart.data('bind-index');\n                if(!model.testParts[index]){\n                    model.testParts[index] = {};\n                }\n\n                testPartView.setUp($testPart, model.testParts[index], data);\n            });\n        }\n        \n        /**\n         * Perform some binding once the property view is created\n         * @private\n         * @param {propView} propView - the view object\n         */\n        function propHandler (propView) {\n            \n           var $view = propView.getView();\n\n            //listen for databinder change to update the test part title\n           var $title =  $('.test-creator-test > h1 [data-bind=title]');\n           $view.on('change.binder', function(e, model){\n                if(e.namespace === 'binder' && model['qti-type'] === 'assessmentTest'){\n                    $title.text(model.title);\n                }\n            });\n        }\n\n        /**\n         * Enable to add new test parts\n         * @private\n         */\n        function addTestPart () {\n\n            $('.testpart-adder').adder({\n                target: $('.testparts'),\n                content : templates.testpart,\n                templateData : function(cb){\n\n                    //create an new testPart model object to be bound to the template\n                    var testPartIndex = $('.testpart').length;\n                    cb({\n                        'qti-type' : 'testPart',\n                        identifier : qtiTestHelper.getIdentifier('testPart', data.identifiers),\n                        index  : testPartIndex,\n                        navigationMode : 0,\n                        submissionMode : 0,\n                        assessmentSections : [{\n                            'qti-type' : 'assessmentSection',\n                            identifier : qtiTestHelper.getIdentifier('assessmentSection',  data.identifiers),\n                            title : 'Section 1',\n                            index : 0,\n                            sectionParts : []             \n                        }]\n                    });\n                }\n            });\n            \n            //we listen the event not from the adder but  from the data binder to be sure the model is up to date\n            $(document)\n              .off('add.binder', '.testparts')\n              .on ('add.binder', '.testparts', function(e, $testPart, added){\n                if(e.namespace === 'binder' && $testPart.hasClass('testpart')){\n                    //initialize the new test part\n                    testPartView.setUp($testPart, model.testParts[added.index], data);\n                }\n            });\n        }\n    };\n\n    return testView;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/encoders/dom2qti',['jquery', 'lodash'], function($, _){\n    \n   /**\n    * Get the list of objects attributes to encode\n    * @param {Object} object\n    * @returns {Array}\n    */\n   var getAttributes = function getAttributes(object){\n        return _.omit(object, [\n           'qti-type',\n           'content',\n           'xmlBase',\n           'lang',\n           'label'\n        ]);\n   };\n   \n   /**\n    * Encode object's properties to xml/html string attributes\n    * @param {Object} attributes\n    * @returns {string}\n    */\n   var attrToStr = function attrToStr(attributes){\n     return _.reduce(attributes, function(acc, value, key){\n         if(_.isNumber(value) || (_.isString(value) && !_.isEmpty(value)) ){\n             return acc + ' ' + key + '=\"'+ value + '\" ';\n         }\n         return acc;\n     }, '');  \n   };\n    \n   /**\n    * This encoder is used to transform DOM to JSON QTI and JSON QTI to DOM. \n    * It works now for the rubricBlocks components.\n    * @exports creator/encoders/dom2qti\n    */\n   var Dom2QtiEncoder = {\n       \n       /**\n        * Encode an object to a dom string\n        * @param {Object} modelValue\n        * @returns {string}\n        */\n       encode : function(modelValue){\n           var self = this;\n           \n           if(_.isArray(modelValue)){\n               return _.reduce(modelValue, function(result, value){\n                   return result + self.encode(value);\n               }, '');\n           } else if(_.isObject(modelValue) && modelValue['qti-type']){\n                if(modelValue['qti-type'] === 'textRun'){\n                    return modelValue.content;\n                }\n                var startTag = '<' + modelValue['qti-type'] + attrToStr(getAttributes(modelValue));\n                if(modelValue.content){\n                    return  startTag + '>' + self.encode(modelValue.content) + '</' + modelValue['qti-type'] + '>';\n                } else {\n                    return startTag + '/>';\n                }\n           } \n           return modelValue;\n       },\n       \n       /**\n        * Decode a string that represents a DOM to a QTI formated object\n        * @param {string} nodeValue\n        * @returns {Array}\n        */\n       decode : function(nodeValue){\n           var self = this;\n           var $nodeValue = (nodeValue instanceof $) ? nodeValue : $(nodeValue);\n           var result = [];\n          \n           _.forEach($nodeValue, function(elt){\n               var object;\n                if (elt.nodeType === 3) {\n                    if (!_.isEmpty($.trim(elt.nodeValue))) {\n                        result.push({\n                            'qti-type': 'textRun',\n                            'content': elt.nodeValue,\n                            \"xmlBase\": \"\"\n                        });\n                    }\n                } else if (elt.nodeType === 1){\n                    object = _.merge({\n                        'qti-type': elt.nodeName.toLowerCase(),\n                        'id' : '',\n                        'class' : '',\n                        'xmlBase' : '',\n                        'lang' : '',\n                        'label' : ''\n                    },\n                    _.transform(elt.attributes, function(acc, value) {\n                        acc[value.nodeName] = value.nodeValue;\n                    })\n                    );\n                    if (elt.childNodes.length > 0) {\n                        object.content = self.decode(elt.childNodes);\n                    } \n                    result.push(object);\n                }\n            });\n           return result;\n       }\n   };\n   \n   return Dom2QtiEncoder;\n});\n\n\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/creator',[\n    'module',\n    'jquery',\n    'lodash',\n    'helpers',\n    'i18n',\n    'history',\n    'ui/feedback',\n    'core/databindcontroller',\n    'taoQtiTest/controller/creator/views/item',\n    'taoQtiTest/controller/creator/views/test',\n    'taoQtiTest/controller/creator/views/testpart',\n    'taoQtiTest/controller/creator/views/section',\n    'taoQtiTest/controller/creator/views/itemref',\n    'taoQtiTest/controller/creator/encoders/dom2qti',\n    'taoQtiTest/controller/creator/templates/index',\n    'taoQtiTest/controller/creator/helpers/qtiTest',\n    'core/validator/validators'\n], function(\n    module,\n    $,\n    _,\n    helpers,\n    __,\n    history,\n    feedback,\n    DataBindController,\n    itemView, testView,\n    testPartView,\n    sectionView,\n    itemrefView,\n    Dom2QtiEncoder,\n    templates,\n    qtiTestHelper,\n    validators\n    ){\n\n    'use strict';\n\n    /**\n     * Generic callback used when retrieving data from the server\n     * @callback DataCallback\n     * @param {Object} data - the received data\n     */\n\n    /**\n     * Call the server to get the list of items\n     * @param {string} url\n     * @param {string} search - a posix pattern to filter items\n     * @param {DataCallback} cb - with items\n     */\n    function loadItems(url, search, cb){\n        $.getJSON(url, {pattern : search, notempty : 'true'}, function(data){\n            if(data && typeof cb === 'function'){\n                cb(data);\n            }\n        });\n    }\n\n\n    /**\n     * The test creator controller is the main entry point\n     * and orchestrates data retrieval and view/components loading.\n     * @exports creator/controller\n     */\n    var Controller = {\n\n         routes : {},\n\n         identifiers: [],\n\n         /**\n          * Start the controller, main entry method.\n          * @public\n          * @param {Object} options\n          * @param {Object} options.labels - the list of item's labels to give to the ItemView\n          * @param {Object} options.routes - action's urls\n          */\n         start : function(options){\n            var self = this;\n            var $container = $('#test-creator');\n            var $saver = $('#saver');\n\n\n            options = _.merge(module.config(), options || {});\n            options.routes = options.routes || {};\n            options.labels = options.labels || {};\n\n\n            //back button\n            $('#authoringBack').on('click', function(e){\n                e.preventDefault();\n\n                if (history) {\n                    history.back();\n                }\n            });\n\n            //set up the ItemView, give it a configured loadItems ref\n            itemView( _.partial(loadItems, options.routes.items) );\n\n            //Print data binder chandes for DEBUGGING ONLY\n            //$container.on('change.binder', function(e, model){\n                //if(e.namespace === 'binder'){\n                    //console.log(model);\n                //}\n            //});\n\n            //Data Binding options\n            var binderOptions = _.merge(options.routes, {\n                filters : {\n                    'isItemRef' : function(value){\n                        return qtiTestHelper.filterQtiType(value, 'assessmentItemRef');\n                    },\n                    'isSection' : function(value){\n                        return qtiTestHelper.filterQtiType(value, 'assessmentSection');\n                    }\n                },\n                encoders : {\n                  'dom2qti' : Dom2QtiEncoder\n                },\n                templates : templates,\n                beforeSave : function(model){\n                    //ensure the qti-type is present\n                    qtiTestHelper.addMissingQtiType(model);\n\n                    //apply consolidation rules\n                    qtiTestHelper.consolidateModel(model);\n                    return true;\n                }\n            });\n\n            //set up the databinder\n            var binder = DataBindController\n                .takeControl($container, binderOptions)\n                .get(function(model){\n\n                    //extract ids\n                    self.identifiers = qtiTestHelper.extractIdentifiers(model);\n\n                    //register validators\n                    validators.register('testIdFormat', qtiTestHelper.idFormatValidator());\n                    validators.register('testIdAvailable', qtiTestHelper.idAvailableValidator(self.identifiers));\n\n                    //once model is loaded, we set up the test view\n                    testView(model, {\n                        uri : options.uri,\n                        identifiers : self.identifiers,\n                        labels : options.labels\n                    });\n\n                    //listen for changes to update available actions\n                    testPartView.listenActionState();\n                    sectionView.listenActionState();\n                    itemrefView.listenActionState();\n                    itemrefView.resize();\n\n                    $(window)\n                      .off('resize.qti-test-creator')\n                      .on('resize.qti-test-creator', function(){\n                            itemrefView.resize();\n                    });\n                });\n\n            //the save button triggers binder's save action.\n            $saver.on('click', function(event){\n                event.preventDefault();\n\n                if(!$saver.hasClass('disabled')){\n                    $saver.attr('disabled', true).addClass('disabled');\n                    binder.save(function(){\n\n                        $saver.attr('disabled', false).removeClass('disabled');\n\n                        feedback().success(__('Test Saved'));\n\n                    }, function(){\n\n                        $saver.attr('disabled', false).removeClass('disabled');\n                    });\n                }\n            });\n        }\n    };\n\n    return Controller;\n});\n\n","(function(t,e){if(typeof exports==\"object\")module.exports=e();else if(typeof define==\"function\"&&define.amd)define('spin',e);else t.Spinner=e()})(this,function(){\"use strict\";var t=[\"webkit\",\"Moz\",\"ms\",\"O\"],e={},i;function o(t,e){var i=document.createElement(t||\"div\"),o;for(o in e)i[o]=e[o];return i}function n(t){for(var e=1,i=arguments.length;e<i;e++)t.appendChild(arguments[e]);return t}var r=function(){var t=o(\"style\",{type:\"text/css\"});n(document.getElementsByTagName(\"head\")[0],t);return t.sheet||t.styleSheet}();function s(t,o,n,s){var a=[\"opacity\",o,~~(t*100),n,s].join(\"-\"),f=.01+n/s*100,l=Math.max(1-(1-t)/o*(100-f),t),u=i.substring(0,i.indexOf(\"Animation\")).toLowerCase(),d=u&&\"-\"+u+\"-\"||\"\";if(!e[a]){r.insertRule(\"@\"+d+\"keyframes \"+a+\"{\"+\"0%{opacity:\"+l+\"}\"+f+\"%{opacity:\"+t+\"}\"+(f+.01)+\"%{opacity:1}\"+(f+o)%100+\"%{opacity:\"+t+\"}\"+\"100%{opacity:\"+l+\"}\"+\"}\",r.cssRules.length);e[a]=1}return a}function a(e,i){var o=e.style,n,r;i=i.charAt(0).toUpperCase()+i.slice(1);for(r=0;r<t.length;r++){n=t[r]+i;if(o[n]!==undefined)return n}if(o[i]!==undefined)return i}function f(t,e){for(var i in e)t.style[a(t,i)||i]=e[i];return t}function l(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)if(t[o]===undefined)t[o]=i[o]}return t}function u(t){var e={x:t.offsetLeft,y:t.offsetTop};while(t=t.offsetParent)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function d(t,e){return typeof t==\"string\"?t:t[e%t.length]}var p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:\"#000\",direction:1,speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:\"spinner\",top:\"auto\",left:\"auto\",position:\"relative\"};function c(t){if(typeof this==\"undefined\")return new c(t);this.opts=l(t||{},c.defaults,p)}c.defaults={};l(c.prototype,{spin:function(t){this.stop();var e=this,n=e.opts,r=e.el=f(o(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex}),s=n.radius+n.length+n.width,a,l;if(t){t.insertBefore(r,t.firstChild||null);l=u(t);a=u(r);f(r,{left:(n.left==\"auto\"?l.x-a.x+(t.offsetWidth>>1):parseInt(n.left,10)+s)+\"px\",top:(n.top==\"auto\"?l.y-a.y+(t.offsetHeight>>1):parseInt(n.top,10)+s)+\"px\"})}r.setAttribute(\"role\",\"progressbar\");e.lines(r,e.opts);if(!i){var d=0,p=(n.lines-1)*(1-n.direction)/2,c,h=n.fps,m=h/n.speed,y=(1-n.opacity)/(m*n.trail/100),g=m/n.lines;(function v(){d++;for(var t=0;t<n.lines;t++){c=Math.max(1-(d+(n.lines-t)*g)%m*y,n.opacity);e.opacity(r,t*n.direction+p,c,n)}e.timeout=e.el&&setTimeout(v,~~(1e3/h))})()}return e},stop:function(){var t=this.el;if(t){clearTimeout(this.timeout);if(t.parentNode)t.parentNode.removeChild(t);this.el=undefined}return this},lines:function(t,e){var r=0,a=(e.lines-1)*(1-e.direction)/2,l;function u(t,i){return f(o(),{position:\"absolute\",width:e.length+e.width+\"px\",height:e.width+\"px\",background:t,boxShadow:i,transformOrigin:\"left\",transform:\"rotate(\"+~~(360/e.lines*r+e.rotate)+\"deg) translate(\"+e.radius+\"px\"+\",0)\",borderRadius:(e.corners*e.width>>1)+\"px\"})}for(;r<e.lines;r++){l=f(o(),{position:\"absolute\",top:1+~(e.width/2)+\"px\",transform:e.hwaccel?\"translate3d(0,0,0)\":\"\",opacity:e.opacity,animation:i&&s(e.opacity,e.trail,a+r*e.direction,e.lines)+\" \"+1/e.speed+\"s linear infinite\"});if(e.shadow)n(l,f(u(\"#000\",\"0 0 4px \"+\"#000\"),{top:2+\"px\"}));n(t,n(l,u(d(e.color,r),\"0 0 1px rgba(0,0,0,.1)\")))}return t},opacity:function(t,e,i){if(e<t.childNodes.length)t.childNodes[e].style.opacity=i}});function h(){function t(t,e){return o(\"<\"+t+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"spin-vml\">',e)}r.addRule(\".spin-vml\",\"behavior:url(#default#VML)\");c.prototype.lines=function(e,i){var o=i.length+i.width,r=2*o;function s(){return f(t(\"group\",{coordsize:r+\" \"+r,coordorigin:-o+\" \"+-o}),{width:r,height:r})}var a=-(i.width+i.length)*2+\"px\",l=f(s(),{position:\"absolute\",top:a,left:a}),u;function p(e,r,a){n(l,n(f(s(),{rotation:360/i.lines*e+\"deg\",left:~~r}),n(f(t(\"roundrect\",{arcsize:i.corners}),{width:o,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),t(\"fill\",{color:d(i.color,e),opacity:i.opacity}),t(\"stroke\",{opacity:0}))))}if(i.shadow)for(u=1;u<=i.lines;u++)p(u,-2,\"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)\");for(u=1;u<=i.lines;u++)p(u);return n(e,l)};c.prototype.opacity=function(t,e,i,o){var n=t.firstChild;o=o.shadow&&o.lines||0;if(n&&e+o<n.childNodes.length){n=n.childNodes[e+o];n=n&&n.firstChild;n=n&&n.firstChild;if(n)n.opacity=i}}}var m=f(o(\"group\"),{behavior:\"url(#default#VML)\"});if(!a(m,\"transform\")&&m.adj)h();else i=a(m,\"animation\");return c});\n","define('serviceApi/ServiceApi',['jquery', 'urlParser', 'iframeResizer'], function($, UrlParser, iframeResizer){\n    \n    function ServiceApi(baseUrl, parameters, serviceCallId, stateStorage, userService){\n        this.baseUrl = baseUrl;\n        this.parameters = parameters;\n        this.connected = false;\n\n        this.serviceCallId = serviceCallId; \n        this.state = stateStorage;\n        this.userService = userService;\n\n        this.onFinishCallback;\n        this.onKillCallback;\n        this.onDisplayChangeCallback;\n    }\n\n    ServiceApi.SIG_SUCCESS = 0; \n    ServiceApi.SIG_ERROR = 1;\n        \n    ServiceApi.prototype.loadInto = function(frame, connected){\n        var self = this;\n        var $frame = $(frame);\n        var callUrl = this.getCallUrl();        \n        var isCORSAllowed = new UrlParser(callUrl).checkCORS();\n\n        $frame.on('load', function(e){\n             //if we are  in the same domain, we add a variable\n             //to the frame window, so the frame knows it can communicate\n             //with the parent\n            $(document).on('serviceready', function(){\n                self.connect(frame, function(){\n                    $(document).off('serviceready');\n                    if(typeof connected === 'function'){\n                        connected();\n                    }\n                });\n            });\n             if(isCORSAllowed === true){\n                 frame.contentWindow.__knownParent__ = true;\n             }\n         });\n\n        $frame.attr('src', callUrl);\n    };\n\n    ServiceApi.prototype.connect = function(frame, connected){\n        if(this.connected === false && frame.contentWindow){\n            //frame.contentWindow.serviceApi = this;\n            if (typeof(frame.contentWindow.onServiceApiReady) === \"function\") {\n                frame.contentWindow.onServiceApiReady(this);\n                this.connected = true;\n                if(typeof connected === 'function'){\n                    connected();\n                }\n            }\n        }\n    };\n    \n    /**\n     * Get the service call URL\n     * @returns {String} the URI\n     */\n    ServiceApi.prototype.getCallUrl = function(){\n        var params = this.parameters || {};\n        params.serviceCallId = this.serviceCallId;\n        return this.baseUrl + '?' + $.param(params);\n    };\n\n    ServiceApi.prototype.getUserPropertyValues = function(property, callback){\n    \tthis.userService.get(property, callback);\n    };\n    \n    //Context\n    ServiceApi.prototype.getServiceCallId = function(){\n        return this.serviceCallId;\n    };\n\n    //Context\n    ServiceApi.prototype.getState = function(){\n        return this.state.get();\n    };\n\n    ServiceApi.prototype.setState = function(state, callback){\n        return this.state.set(state, callback);\n    };\n\n    // Variables \n    ServiceApi.prototype.getParameter = function(identifier){\n        if (typeof(this.parameters[identifier]) !== \"undefined\") {\n            return this.parameters[identifier];\n        } else {\n            return null;\n        }\n    };\n\n    ServiceApi.prototype.onFinish = function(callback) {\n        this.onFinishCallback = callback;\t\n    };\n\n    ServiceApi.prototype.onKill = function(callback) {\n        this.onKillCallback = callback;\t\n    };\n    \n    ServiceApi.prototype.kill = function(callback) {\n    \tif (typeof this.onKillCallback == 'function') {\n    \t\tthis.onKillCallback(callback);\n    \t} else {\n    \t\tcallback(0);\n    \t}\n    };\n    \n    // Flow\n    // valueArray are return parameters of the service.\n    ServiceApi.prototype.finish = function(valueArray) {\n            //return execution to service caller\n            if (typeof this.onFinishCallback === 'function') {\n                    this.onFinishCallback(valueArray);\n            }\n    };\n\n    return ServiceApi;\n\n});\n\n","define('serviceApi/UserInfoService',['jquery'], function($){\n    \n    function UserInfoService(requestUrl, data) {\n        this.data = data;\n        this.requestUrl = requestUrl;\n    }\n\n    UserInfoService.prototype.get = function(property, callback){\n        if (this.data.hasOwnProperty(property)) {\n            if (typeof callback === \"function\") {\n                    callback(this.data[property]);\n            }\n        } else {\n            $.ajax({\n                url : this.requestUrl,\n                data \t\t: {\n                    'property' : property\n                },\n                type        : 'post',\n                dataType\t: 'json',\n                success     : (function(service, callback) {return function(r) {\n            \t\tfor (key in r.data) {\n            \t\t\tservice.data[key] = r.data[key];\n            \t\t}\n                    if (typeof callback === \"function\") {\n                        callback(service.data[property]);\n                    }\n\n                }})(this, callback)\n                /*\t\n            \tfunction(r){\n                    if(r.success){\n                    \tconsole.log(this.data);\n                    \tthis.data[property] = r.values;\n                    \t//console.log(this.data);\n\t                    if (typeof callback === \"function\") {\n\t                        callback(this.data[property]);\n\t                    }\n                    }\n                }\n                */\n                \n                \n            });\n        }\n    };\n\n    return UserInfoService;\n});\n","define('serviceApi/StateStorage',['jquery'], function($){\n    \n    function StateStorage(state, submitUrl) {\n        this.state = state;\n        this.submitUrl = submitUrl;\n    }\n\n    StateStorage.prototype.get = function(callback){\n        if (typeof callback === 'function') {\n                callback(this.state);\n        }\n        return this.state;\n    };\n\n    StateStorage.prototype.set = function(state, callback){\n\n        if (state === this.state) {\n            if (typeof callback === \"function\") {\n                    callback();\n            }\n        } else {\n            $.ajax({\n                url : this.submitUrl,\n                data \t\t: {\n                    'state' : state\n                },\n                type        : 'post',\n                dataType\t: 'json',\n                success     : typeof callback === \"function\" ? callback : null\n            });\n        }\n    };\n\n    return StateStorage;\n});\n","// Badonkatrunc 1.0.0, (http://badonkatrunc.com)\n// Copyright (c) 2012 Plexipixel, Inc. (http://plexipixel.com)\n\n// Developed by: Joel Day (joeld@plexipixel.com)\n// Co-conspirator: David Seelig\n\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\ndefine('jquery.trunc',['jquery'],function($){var methods={init:function(options){var all=this;var instanceOptions=$.extend(true,{},$.fn.badonkatrunc.defaultOptions,options);if(instanceOptions.fitDirection!=\"horizontal\"&&instanceOptions.fitDirection!=\"vertical\"){$.error(\"'\"+instanceOptions.fitDirection+\"' is not a valid fit direction. Use 'horizontal' or 'vertical.'\");return this;}if(instanceOptions.truncateLocation!=\"start\"&&instanceOptions.truncateLocation!=\"middle\"&&instanceOptions.truncateLocation!=\"end\"){$.error(\"'\"+instanceOptions.truncateLocation+\"' is not a valid truncation location. Use 'start,' 'middle' or 'end.'\");return this;}if(instanceOptions.minimumFontSize>instanceOptions.maximumFontSize){$.error(\"Minimum font size can not exceed the maximum font size.\");return this;}if(instanceOptions.minimumLetterSpacing>instanceOptions.maximumLetterSpacing){$.error(\"Minimum letter spacing can not exceed the maximum letter spacing.\");return this;}return this.each(function(){var $this=$(this);var data=$(this).data(\"badonkatrunc\");if(data){$this.badonkatrunc(\"destroy\");}var instance=pluginInstance($this,instanceOptions,all);$(this).data(\"badonkatrunc\",instance);instance.init();if(instance.options.automaticSizeTracking){resizeMonitor.add(instance);}});},destroy:function(){return this.each(function(){var $this=$(this);var data=$this.data(\"badonkatrunc\");data.destroy();resizeMonitor.remove(data);dirtyMonitor.remove(data);$(window).unbind(\".badonkatrunc\");$this.removeData(\"badonkatrunc\");});},refresh:function(){return this.each(function(){var $this=$(this);var data=$this.data(\"badonkatrunc\");dirtyMonitor.remove(data);data.refresh();});},changeContents:function(newContents){return this.each(function(){var $this=$(this);var data=$this.data(\"badonkatrunc\");if(typeof(newContents)==\"string\"){data.contentHtml=$(\"<span></span>\").text(newContents).html();}else{data.contentHtml=$(newContents).html();}dirtyMonitor.add(data);});}};$.fn.badonkatrunc=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else{if(typeof method===\"object\"||!method){return methods.init.apply(this,arguments);}else{$.error(\"Method \"+method+\" does not exist on jQuery.badonkatrunc\");}}};$.fn.badonkatrunc.settings={sizeTrackingTimeout:1000/60};$.fn.badonkatrunc.defaultOptions={automaticSizeTracking:false,fitDirection:\"horizontal\",minimumFontSize:1,maximumFontSize:1,fontSizeSynced:false,minimumLetterSpacing:0,maximumLetterSpacing:0,letterSpacingSynced:false,truncate:true,truncateString:\"&hellip;\",truncateLocation:\"end\",truncateOnlyWholeWords:false,extraOptimizeLimit:8};$.fn.btrunc=$.fn.badonkatrunc;var pluginInstance=function($target,options,$targetGroup){var createRenderState=function(content,fontSize,letterSpacing){return{content:content,fontSize:fontSize,letterSpacing:letterSpacing};};var instance={target:$target,options:options,refresh:function(){var self=this;var view=createHtmlTextView(this.contentHtml);var text=this.contentHtml;var fontSize=this.options.maximumFontSize;var letterSpacing=this.options.maximumLetterSpacing;var renderFunc=function(){var state=createRenderState(text,fontSize,letterSpacing);self.renderState(state);};var overflowFunc=function(){return self.getCurrentOverflow();};if(this.options.maximumFontSize-this.options.minimumFontSize>0){optimize(self.options.minimumFontSize,self.options.maximumFontSize,function(value){fontSize=value;renderFunc();},overflowFunc);}if(this.options.maximumLetterSpacing-this.options.minimumLetterSpacing>0){var truncationLevel=1;if(this.options.truncate){optimize(0,1,function(value){truncationLevel=value;text=getTruncatedHtml(view,self.options.truncateString,self.options.truncateLocation,value,true);optimize(self.options.minimumLetterSpacing,0,function(value){letterSpacing=value;renderFunc();},overflowFunc);renderFunc();},overflowFunc);}if(truncationLevel==1){optimize(self.options.minimumLetterSpacing,self.options.maximumLetterSpacing,function(value){letterSpacing=value;renderFunc();},overflowFunc);}}if(this.options.truncate){optimize(0,1,function(value){text=getTruncatedHtml(view,self.options.truncateString,self.options.truncateLocation,value,self.options.truncateOnlyWholeWords);renderFunc();},overflowFunc,this.options.extraOptimizeLimit);}this.renderState(createRenderState(text,fontSize,letterSpacing),!this.options.truncate);this.currentOptimalState=this.currentRenderedState;this.syncFonts();},syncFonts:function(){if($targetGroup.length>1&&(this.options.fontSizeSynced||this.options.letterSpacingSynced)){var lowestFontSize=this.currentOptimalState.fontSize;var lowestLetterSpacing=this.currentOptimalState.letterSpacing;for(var i=0;i<$targetGroup.length;i++){var groupInstance=$($targetGroup[i]).data(\"badonkatrunc\");if(groupInstance!=null&&groupInstance.currentOptimalState!=null){if(groupInstance.currentOptimalState.fontSize<lowestFontSize){lowestFontSize=groupInstance.currentOptimalState.fontSize;}if(groupInstance.currentOptimalState.letterSpacing<lowestLetterSpacing){lowestLetterSpacing=groupInstance.currentOptimalState.letterSpacing;}}}for(var i=0;i<$targetGroup.length;i++){var groupInstance=$($targetGroup[i]).data(\"badonkatrunc\");if(groupInstance!=null){groupInstance.acceptFontSync(lowestFontSize,lowestLetterSpacing);}}}},acceptFontSync:function(fontSize,letterSpacing){var self=this;var view=createHtmlTextView(this.contentHtml);var text=this.contentHtml;if(this.currentOptimalState!=null){if(!this.options.fontSizeSynced){fontSize=this.currentOptimalState.fontSize;}if(!this.options.letterSpacingSynced){letterSpacing=this.currentOptimalState.letterSpacing;}}var renderFunc=function(){self.renderState(createRenderState(text,fontSize,letterSpacing));};var overflowFunc=function(){return self.getCurrentOverflow();};if(this.options.truncate){optimize(0,1,function(value){text=getTruncatedHtml(view,self.options.truncateString,self.options.truncateLocation,value,self.options.truncateOnlyWholeWords);renderFunc();},overflowFunc);}this.renderState(createRenderState(text,fontSize,letterSpacing),!this.options.truncate);},init:function(){this.contentHtml=this.target.html();this.settingsWrapper=$('<span style=\"margin: 0px; padding: 0px; border: 0px;\"></span>');this.settingsWrapper.addClass(\"badonkatrunc-wrapper\");if(!$.browser.mozilla&&!$.browser.opera&&!($.browser.msie&&$.browser.version==\"7.0\")){this.settingsWrapper.css(\"display\",\"block\");}this.target.empty();this.target.append(this.settingsWrapper);this.refresh();},destroy:function(){this.target.empty();this.target.append(this.contentHtml);},renderState:function(state,forceAllowWrap){this.settingsWrapper.css(\"font-size\",state.fontSize+\"em\");this.settingsWrapper.css(\"letter-spacing\",state.letterSpacing+\"em\");var whiteSpace=(!forceAllowWrap&&this.options.fitDirection==\"horizontal\")?\"nowrap\":\"normal\";this.settingsWrapper.css(\"white-space\",whiteSpace);this.settingsWrapper.empty();this.settingsWrapper.append(state.content);this.currentRenderedState=state;},getCurrentOverflow:function(){var wrapper=this.settingsWrapper[0];var overflow=(this.options.fitDirection==\"horizontal\")?wrapper.scrollWidth-$target.width():wrapper.offsetHeight-$target.height();return overflow;}};return instance;};var createDispatcher=function(updateFunc,addFunc,removeFunc,updateTimeout){var dispatcherInstance={_instances:[],_updateLoop:function(){if($.isFunction(updateFunc)){for(var i=0;i<dispatcherInstance._instances.length;i++){updateFunc(dispatcherInstance._instances[i]);}}if(updateTimeout!=null){if(dispatcherInstance._instances.length>0){setTimeout(dispatcherInstance._updateLoop,updateTimeout);}}else{dispatcherInstance._instances=[];}},add:function(instance){if($.inArray(instance,this._instances)!=-1){return;}if($.isFunction(addFunc)){addFunc(instance);}this._instances.push(instance);if(this._instances.length==1){if(updateTimeout==null){setTimeout(this._updateLoop);}else{this._updateLoop();}}},remove:function(instance){var index=$.inArray(instance,this._instances);if(index!=-1){this._instances.splice(index,1);if($.isFunction(removeFunc)){removeFunc(instance);}}}};return dispatcherInstance;};var resizeMonitor=createDispatcher(function(instance){instance.elementSizeCache.update();},function(instance){instance.elementSizeCache={width:null,height:null,update:function(){var newWidth=instance.target.width();var newHeight=instance.target.height();var hasChanged=((this.width!=null&&newWidth!=this.width)||(this.height!=null&&newHeight!=this.height));this.width=newWidth;this.height=newHeight;if(hasChanged){this.changed();}},changed:function(){dirtyMonitor.add(instance);}};},function(instance){instance.elementSizeCache=undefined;},$.fn.badonkatrunc.settings.sizeTrackingTimeout);var dirtyMonitor=createDispatcher(function(instance){instance.refresh.apply(instance);},null,null,null);var getTruncatedHtml=function(htmlTextView,truncateString,truncateLocation,amount,wordRounded){var text=htmlTextView.text;if(amount>1){amount=1;}if(amount<0){amount=0;}if(amount==1){return htmlTextView.html;}var getTruncatedRange=function(begin,length){var words=text.split(\" \");var totalEntities=(wordRounded)?words.length:text.length;var entityBegin=totalEntities*begin;var entityLength=totalEntities*length;if(wordRounded){var getCharacterPosition=function(wordIndex){var characterCount=0;for(var i=0;i<wordIndex;i++){characterCount+=words[i].length+1;}return characterCount;};var endWord=entityBegin+entityLength;entityBegin=getCharacterPosition(entityBegin);entityLength=getCharacterPosition(endWord)-entityBegin;}return htmlTextView.getHtmlSubstring(entityBegin,entityLength);};switch(truncateLocation){case\"middle\":var amountPerSide=amount/2;var left=getTruncatedRange(0,amountPerSide);var right=getTruncatedRange(1-amountPerSide,amountPerSide);return $.trim(left)+\" \"+truncateString+\" \"+$.trim(right);case\"start\":var truncated=getTruncatedRange(1-amount,amount);return truncateString+$.trim(truncated);case\"end\":var truncated=getTruncatedRange(0,amount);return $.trim(truncated)+truncateString;}};var createHtmlTextView=function(contentHtml){var $content=$(\"<span></span>\");$content.html(contentHtml);var view={html:contentHtml,text:$content.text(),getHtmlSubstring:function(index,length){var element=$content.clone()[0];var totalProcessedLength=0;var totalOutputLength=0;var nodesWithinRange=[];var withinRange=false;var stripOutOfRangeTextInElement=function(node){if(node.nodeType==3){var dataLength=node.data.length;var newData=\"\";var wasWithinRange=false;for(var i=0;i<dataLength;i++){totalProcessedLength++;if(totalProcessedLength>=index&&totalOutputLength<length){withinRange=true;wasWithinRange=true;newData+=node.data.substr(i,1);totalOutputLength++;}else{if(withinRange==true){withinRange=false;}}}node.data=newData;if(wasWithinRange){nodesWithinRange.push(node);}}else{if(node.nodeType==1){if(withinRange){nodesWithinRange.push(node);}var childCount=node.childNodes.length;for(var i=0;i<childCount;i++){stripOutOfRangeTextInElement(node.childNodes[i]);}}}};stripOutOfRangeTextInElement(element);var parentNodesToKeep=[];var markParentNodesToKeep=function(element){var keepNode=function(node){parentNodesToKeep.push(node);if(node.parentNode!=null){keepNode(node.parentNode);}};keepNode(element);};var nodesWithinRangeCount=nodesWithinRange.length;for(var t=0;t<nodesWithinRangeCount;t++){markParentNodesToKeep(nodesWithinRange[t]);}var removeUnusedNodes=function(node){var nodesToRemove=[];var childNodeCount=node.childNodes.length;for(var i=0;i<childNodeCount;i++){var childNode=node.childNodes[i];if(childNode.nodeType!=3){if($.inArray(childNode,parentNodesToKeep)==-1){nodesToRemove.push(childNode);}else{removeUnusedNodes(childNode);}}}for(var i=0;i<nodesToRemove.length;i++){var node=nodesToRemove[i];node.parentNode.removeChild(node);}};removeUnusedNodes(element);return $(element).html();}};return view;};var optimize=function(min,max,actionFunc,overflowFunc,extraOptimizeLimit){var currentMax=max;var currentMin=min;var currentValue=max;var lastResult=null;var mostOptimalResult=null;var mostOptimalValue=null;var sameResultCount=0;while(true){actionFunc(currentValue);var result=overflowFunc();if(result<=0){var moreOptimal=true;if(mostOptimalResult!=null){if(mostOptimalResult>result){moreOptimal=false;}else{if(result==mostOptimalResult){if(currentValue<=mostOptimalValue){moreOptimal=false;}}}}if(moreOptimal){mostOptimalResult=result;mostOptimalValue=currentValue;}}if(result==lastResult){sameResultCount++;if(extraOptimizeLimit==undefined||sameResultCount==extraOptimizeLimit){if(mostOptimalValue!=null){actionFunc(mostOptimalValue);}return;}}if(result>0){currentMax=currentValue;var difference=(currentValue-currentMin);currentValue-=(difference/2);}else{if(result<=0){currentMin=currentValue;currentValue=currentMax;}}lastResult=result;}};});\n\n","define('taoQtiTest/controller/runtime/testRunner',['jquery', 'lodash', 'spin', 'serviceApi/ServiceApi', 'serviceApi/UserInfoService', 'serviceApi/StateStorage', 'iframeResizer', 'iframeNotifier', 'i18n', 'mathJax', 'jquery.trunc', 'ui/progressbar'],\n    function($,  _, Spinner, ServiceApi, UserInfoService, StateStorage, iframeResizer, iframeNotifier, __, MathJax){\n\n\t    var timerIds = [];\n\t    var currentTimes = [];\n\t    var lastDates = [];\n\t\tvar timeDiffs = [];\n\t\tvar waitingTime = 0;\n\n\t    var TestRunner = {\n\t    // Constants\n\t    'TEST_STATE_INITIAL': 0,\n\t    'TEST_STATE_INTERACTING': 1,\n\t    'TEST_STATE_MODAL_FEEDBACK': 2,\n\t    'TEST_STATE_SUSPENDED': 3,\n\t    'TEST_STATE_CLOSED': 4,\n\t    'TEST_NAVIGATION_LINEAR': 0,\n\t    'TEST_NAVIGATION_NONLINEAR': 1,\n\t    'TEST_ITEM_STATE_INTERACTING': 1,\n\n\t\tbeforeTransition : function(callback) {\n\t\t    // Ask the top window to start the loader.\n            iframeNotifier.parent('loading');\n\n            // Disable buttons.\n\t\t    this.disableGui();\n\n\t        $('#qti-item, #qti-info, #qti-rubrics, #qti-timers').css('display', 'none');\n\n\t        // Wait at least waitingTime ms for a better user experience.\n\t        if(typeof callback === 'function'){\n\t            setTimeout(callback, waitingTime);\n\t        }\n\t\t},\n\n\t\tafterTransition : function() {\n\t\t    this.enableGui();\n\n    \t    //ask the top window to stop the loader\n    \t    iframeNotifier.parent('unloading');\n\t\t},\n\n\t\tmoveForward: function() {\n\t\t    this.disableGui();\n\n\t\t    var that = this;\n\t\t    this.itemServiceApi.kill(function(signal) {\n\t\t        that.actionCall('moveForward');\n\t\t    });\n\t\t},\n\n\t\tmoveBackward : function() {\n\t\t    this.disableGui();\n\n\t\t    var that = this;\n\t\t    this.itemServiceApi.kill(function(signal) {\n                that.actionCall('moveBackward');\n            });\n\t\t},\n\n\t\tskip : function() {\n\t\t    this.disableGui();\n\n\t\t\tthis.actionCall('skip');\n\t\t},\n\n\t\ttimeout: function() {\n\t\t    this.disableGui();\n\n\t\t\tthis.assessmentTestContext.isTimeout = true;\n\t\t\tthis.updateTimer();\n\t\t\tthis.actionCall('timeout');\n\t\t},\n\n\t\tcomment : function() {\n\t\t\t$('#qti-comment > textarea').val(__('Your comment...'));\n\t\t    $('#qti-comment').css('display', 'block');\n\t\t    $('#qti-comment > button').css('display', 'inline');\n\t\t},\n\n\t\tcloseComment : function() {\n\t\t    $('#qti-comment').css('display', 'none');\n\t\t},\n\n\t\temptyComment : function() {\n\t\t    $('#qti-comment > textarea').val('');\n\t\t},\n\n\t\tstoreComment: function() {\n\t\t    var self = this;\n\t\t    $.ajax({\n\t\t            url: self.assessmentTestContext.commentUrl,\n\t\t            cache: false,\n\t\t            async: true,\n\t\t            type: 'POST',\n\t\t            data: { comment: $('#qti-comment > textarea').val() },\n\t\t            success: function(assessmentTestContext, textStatus, jqXhr) {\n\t\t                self.closeComment();\n\t\t            }\n\t\t    });\n\t\t},\n\n\t\tupdate : function(assessmentTestContext) {\n\t\t\tvar self = this;\n\t\t\t$('#qti-item').remove();\n\n\t\t\tvar $runner = $('#runner');\n\t\t\t$runner.css('height', 'auto');\n\n\t\t\tthis.assessmentTestContext = assessmentTestContext;\n\t\t\tthis.itemServiceApi = eval(assessmentTestContext.itemServiceApiCall);\n\n\t\t\tthis.updateContext();\n\t\t\tthis.updateProgress();\n\t\t\tthis.updateNavigation();\n\t\t\tthis.updateInformation();\n\t\t\tthis.updateRubrics();\n\t\t\tthis.updateTools();\n\t\t\tthis.updateTimer();\n\n\t\t\t$itemFrame = $('<iframe id=\"qti-item\" frameborder=\"0\"/>');\n\t\t\t$itemFrame.appendTo('#qti-content');\n\t\t\tiframeResizer.autoHeight($itemFrame, 'body');\n\n\t\t\tif (navigator.userAgent.match(/(iPad|iPhone|iPod)/g) ? true : false == true) {\n\t\t\t    $('#qti-content').css('overflow-y', 'scroll');\n\t\t\t}\n\n\t\t\tif (this.assessmentTestContext.itemSessionState === this.TEST_ITEM_STATE_INTERACTING && self.assessmentTestContext.isTimeout === false) {\n\t\t\t    $(document).on('serviceloaded', function() {\n\t\t\t        self.afterTransition();\n                                self.adjustFrame();\n                                $itemFrame.css({visibility: 'visible'});\n\t\t\t    });\n\n\t\t\t    // Inject API into the frame.\n\t\t\t    this.itemServiceApi.loadInto($itemFrame[0], function(){\n\t\t\t        // We now rely on the 'serviceloaded' event.\n\t\t\t    });\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// e.g. no more attempts or timeout! Simply consider the transition is finished,\n\t\t\t\t// but do not load the item.\n\t\t\t\tself.afterTransition();\n\t\t\t}\n\t\t},\n\n\t\tupdateInformation : function() {\n            $('#qti-info').remove();\n\n            if (this.assessmentTestContext.isTimeout === true) {\n            \t$('<div id=\"qti-info\" class=\"info\"></div>').prependTo('#qti-content');\n            \t$('#qti-info').html(__('Maximum time limit reached for item \"%s\".').replace('%s', this.assessmentTestContext.itemIdentifier));\n            }\n            else if (this.assessmentTestContext.itemSessionState !== this.TEST_ITEM_STATE_INTERACTING) {\n            \t$('<div id=\"qti-info\" class=\"info\"></div>').prependTo('#qti-content');\n            \t$('#qti-info').html(__('No more attempts allowed for item \"%s\".').replace('%s', this.assessmentTestContext.itemIdentifier));\n            }\n\t\t},\n\n\t\tupdateTools : function updateTools() {\n\t\t    if (this.assessmentTestContext.allowComment === true) {\n\t            $('#comment').css('display', 'inline');\n\t\t    }\n\t\t    else {\n\t            $('#comment').css('display', 'none');\n\t\t    }\n\n\t\t    if (this.assessmentTestContext.allowSkipping === true) {\n\t\t        if (this.assessmentTestContext.isLast === false) {\n\t\t            $('#skip').css('display', 'inline');\n\t\t            $('#skip-end').css('display', 'none');\n\t\t        }\n\t\t        else {\n\t\t            $('#skip-end').css('display', 'inline');\n\t\t            $('#skip').css('display', 'none');\n\t\t        }\n\t\t    }\n\t\t    else {\n\t\t    \t$('#skip').css('display', 'none');\n\t\t    \t$('#skip-end').css('display', 'none');\n\t\t    }\n\t\t},\n\n\t\tupdateTimer : function() {\n\t\t\tvar self = this;\n\t\t\t$('#qti-timers').remove();\n\n\t\t\tfor (var i = 0; i < timerIds.length; i++) {\n\t\t\t\tclearTimeout(timerIds[i]);\n\t\t\t}\n\n\t\t    timerIds = [];\n\t\t    currentTimes = [];\n\t\t    lastDates = [];\n\t\t\ttimeDiffs = [];\n\n\t\t\tif (self.assessmentTestContext.isTimeout == false && self.assessmentTestContext.itemSessionState == self.TEST_ITEM_STATE_INTERACTING) {\n\n\t\t\t    if (this.assessmentTestContext.timeConstraints.length > 0) {\n\n\t\t\t    \t// Insert QTI Timers container.\n\t\t\t    \t$('<div id=\"qti-timers\"></div>').prependTo('#qti-content');\n\t\t\t    \t// self.formatTime(cst.seconds)\n\t\t\t        for (var i = 0; i < this.assessmentTestContext.timeConstraints.length; i++) {\n\n\t\t\t        \tvar cst = this.assessmentTestContext.timeConstraints[i];\n\n\t\t\t        \tif (cst.allowLateSubmission == false) {\n\t\t\t        \t // Set up a timer for this constraint.\n\t                        $('<div class=\"qti-timer\"><span class=\"icon-time\"></span> ' + cst.source + ' - ' + self.formatTime(cst.seconds) + '</div>').appendTo('#qti-timers');\n\n\t                        // Set up a timer and update it with setInterval.\n\t                        currentTimes[i] = cst.seconds;\n\t                        lastDates[i] = new Date();\n\t                        timeDiffs[i] = 0;\n\t                        timerIndex = i;\n\t                        source = cst.source;\n\n\t                        // ~*~*~ ❙==[||||)0__    <----- SUPER CLOSURE !\n\t                        var superClosure = function(timerIndex, source) {\n\t                            timerIds[timerIndex] = setInterval(function() {\n\n\t                                timeDiffs[timerIndex] += (new Date()).getTime() - lastDates[timerIndex].getTime();\n\n\t                                if (timeDiffs[timerIndex] >= 1000) {\n\t                                    var seconds = timeDiffs[timerIndex] / 1000;\n\t                                    currentTimes[timerIndex] -= seconds;\n\t                                    timeDiffs[timerIndex] = 0;\n\t                                }\n\n\t                                if (currentTimes[timerIndex] <= 0) {\n\t                                    // The timer expired...\n\t                                    $('#qti-timers > .qti-timer').eq(timerIndex).html(self.formatTime(Math.round(currentTimes[timerIndex])));\n\t                                    currentTimes[timerIndex] = 0;\n\t                                    clearInterval(timerIds[timerIndex]);\n\n\t                                     // Hide item to prevent any further interaction with the candidate.\n                                        $('#qti-item').css('display', 'none');\n                                        self.timeout();\n\t                                }\n\t                                else {\n\t                                    // Not timed-out...\n\t                                    $('#qti-timers > .qti-timer').eq(timerIndex).html('<span class=\"icon-time\"></span> ' + source + ' - ' + self.formatTime(Math.round(currentTimes[timerIndex])));\n\t                                    lastDates[timerIndex] = new Date();\n\t                                }\n\n\t                            }, 1000);\n\t                        }\n\n\t                        superClosure(timerIndex, source);\n\t\t\t        \t}\n\t\t\t        }\n\n\t\t\t        $('#qti-timers').css('display', 'block');\n\t\t\t    }\n\t\t\t}\n\t\t},\n\n\t\tupdateRubrics : function() {\n\t\t    $('#qti-rubrics').remove();\n\n\t\t    if (this.assessmentTestContext.rubrics.length > 0) {\n\n                var $rubrics = $('<div id=\"qti-rubrics\"></div>');\n\n                for (var i = 0; i < this.assessmentTestContext.rubrics.length; i++) {\n                        $rubrics.append(this.assessmentTestContext.rubrics[i]);\n                }\n\n                // modify the <a> tags in order to be sure it\n                // opens in another window.\n                $rubrics.find('a').bind('click keypress', function() {\n                        window.open(this.href);\n                        return false;\n                });\n\n                $rubrics.prependTo('#qti-content');\n\n                if(MathJax){\n                    MathJax.Hub.Queue([\"Typeset\", MathJax.Hub], $('#qti-rubrics')[0]);\n                }\n\n\t\t    }\n\t\t},\n\n\t\tupdateNavigation: function() {\n\t\t    if (this.assessmentTestContext.navigationMode === this.TEST_NAVIGATION_LINEAR) {\n\t\t    \t// LINEAR\n\t    \t\t$('#move-backward').css('display', 'none');\n\t    \t\t$('#move-forward').css('display', (this.assessmentTestContext.isLast === true) ? 'none' : 'inline');\n\t    \t\t$('#move-end').css('display', (this.assessmentTestContext.isLast === true) ? 'inline' : 'none');\n\t\t    }\n\t\t    else {\n\t\t    \t// NONLINEAR\n\t\t    \t$('#qti-actions').css('display', 'block');\n\t\t    \t$('#move-forward').css('display', (this.assessmentTestContext.isLast === true) ? 'none' : 'inline');\n\t\t    \t$('#move-end').css('display', (this.assessmentTestContext.isLast === true) ? 'inline' : 'none');\n\t\t    \t$('#move-backward').css('display', (this.assessmentTestContext.canMoveBackward === true) ? 'inline' : 'none');\n\t\t    }\n\t\t},\n\n\t\tupdateProgress: function() {\n\n\t\t    var considerProgress = this.assessmentTestContext.considerProgress;\n\n\t\t    $('#qti-test-progress').css('visibility', (considerProgress === true) ? 'visible' : 'hidden');\n\n\t\t    if (considerProgress === true) {\n\t\t        var ratio = Math.floor(this.assessmentTestContext['numberCompleted'] / this.assessmentTestContext['numberItems'] * 100);\n\t            var label = __('Test completed at %d%%').replace('%d', ratio).replace('%%', '%');\n\t            $('#qti-progress-label').text(label);\n\t            $('#qti-progressbar').progressbar('value', ratio);\n\t\t    }\n\t\t},\n\n\t\tupdateContext: function() {\n\n\t\t    var testTitle = this.assessmentTestContext.testTitle;\n\t\t    var testPartId = this.assessmentTestContext.testPartId;\n\t\t    var sectionTitle = this.assessmentTestContext.sectionTitle;\n\n\t\t    $('#qti-test-title').text(testTitle);\n\n\t\t    try {\n\t\t        $('#qti-test-title, #qti-test-position').badonkatrunc('destroy');\n\t\t    }\n\t\t    catch (e) {\n\t\t        // Very first call, the badonkatrunc wrapper was not there.\n\t\t        // Continue normally.\n\t\t    }\n\n\t\t    $('#qti-test-position').empty().append('<span id=\"qti-section-title\">' + sectionTitle + '</span>');\n\t\t    $('#qti-test-title, #qti-test-position').badonkatrunc().css('visibility', 'visible');\n\t\t},\n\n\t\tadjustFrame: function() {\n\n\t\t    var actionsHeight = $('#qti-actions').outerHeight();\n\t\t    var windowHeight = window.innerHeight ? window.innerHeight : $(window).height();\n\t\t    var navigationHeight = $('#qti-navigation').outerHeight();\n\t\t    var newContentHeight = windowHeight - actionsHeight - navigationHeight;\n\n\t\t    var $content = $('#qti-content');\n\t\t    $content.height(newContentHeight - parseInt($content.css('paddingTop')) - parseInt($content.css('paddingBottom')));\n\t\t},\n\n\t\tdisableGui: function() {\n\t\t    $('#qti-navigation button').addClass('disabled');\n\t\t},\n\n\t\tenableGui: function() {\n\t\t    $('#qti-navigation button').removeClass('disabled');\n\t\t},\n\n\t\tformatTime: function(totalSeconds) {\n\t\t    var sec_num = totalSeconds;\n\t\t    var hours   = Math.floor(sec_num / 3600);\n\t\t    var minutes = Math    .floor((sec_num - (hours * 3600)) / 60);\n\t\t    var seconds = sec_num - (hours * 3600) - (minutes * 60);\n\n\t\t    if (hours   < 10) {hours   = \"0\" + hours;}\n\t\t    if (minutes < 10) {minutes = \"0\" + minutes;}\n\t\t    if (seconds < 10) {seconds = \"0\" + seconds;}\n\n\t\t    var time    = hours + ':' + minutes + ':' + seconds;\n\n\t\t    return \"\\u00b1 \" + time;\n\t\t},\n\n\t\tactionCall: function(action) {\n\t\t\tvar self = this;\n\t\t\tthis.beforeTransition(function() {\n\t\t\t\t$.ajax({\n\t\t\t\t\turl: self.assessmentTestContext[action + 'Url'],\n\t\t\t\t\tcache: false,\n\t\t\t\t\tasync: true,\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function(assessmentTestContext, textStatus, jqXhr) {\n\t\t\t\t\t\tif (assessmentTestContext.state === self.TEST_STATE_CLOSED) {\n\t\t\t\t\t\t\tself.serviceApi.finish();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tself.update(assessmentTestContext);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n\n\treturn {\n\t    start : function(assessmentTestContext){\n\t        \n\t        $(document).ajaxError(function(event, jqxhr) {\n                if (jqxhr.status == 403) {\n                    iframeNotifier.parent('serviceforbidden');\n                }\n            });\n\t        \n\t    \twindow.onServiceApiReady = function onServiceApiReady(serviceApi) {\n\t            TestRunner.serviceApi = serviceApi;\n\n\t           // If the assessment test session is in CLOSED state,\n\t           // we give the control to the delivery engine by calling\n\t           // finish.\n\t           if (assessmentTestContext.state === TestRunner.TEST_STATE_CLOSED) {\n                   serviceApi.finish();\n\t           }\n\t           else {\n                   TestRunner.update(assessmentTestContext);\n\t           }\n\t        };\n\n\t        TestRunner.beforeTransition();\n\t        TestRunner.assessmentTestContext = assessmentTestContext;\n\n\t        $('#skip, #skip-end').click(function(){\n\t            if (!$(this).hasClass('disabled')) {\n\t                TestRunner.skip();\n\t            }\n\t        });\n\n\t        $('#move-forward, #move-end').click(function(){\n\t            if (!$(this).hasClass('disabled')) {\n\t                TestRunner.moveForward();\n\t            }\n\t        });\n\n\t        $('#move-backward').click(function(){\n\t            if (!$(this).hasClass('disabled')) {\n\t                TestRunner.moveBackward();\n\t            }\n\t        });\n\n\t        $('#comment').click(function(){\n\t            if (!$(this).hasClass('disabled')) {\n\t                TestRunner.comment();\n\t            }\n\t        });\n\n\t        $('#qti-comment-cancel').click(function(){\n\t                TestRunner.closeComment();\n\t        });\n\n\t        $('#qti-comment-send').click(function(){\n\t            TestRunner.storeComment();\n\t        });\n\n\t        $('#qti-comment > textarea').click(function(){\n\t            TestRunner.emptyComment();\n\t        });\n\n\t        $(window).bind('resize', function() {\n\t            TestRunner.adjustFrame();\n\t            $('#qti-test-title, #qti-test-position').badonkatrunc();\n\t        });\n\n\t        $(document).bind('loading', function() {\n\t            iframeNotifier.parent('loading');\n\t        });\n\n\n\t        $(document).bind('unloading', function() {\n                iframeNotifier.parent('unloading');\n\t        });\n\n            $('#qti-progressbar').progressbar();\n\n\t        iframeNotifier.parent('serviceready');\n\t    }\n\t};\n});\n\n"]}